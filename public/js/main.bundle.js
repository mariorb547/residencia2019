webpackJsonp([0],{107:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(69),a(70)),f=n(s),m=(a(30),a(18)),p=n(m),b=(a(12),a(13)),v=n(b),h=(a(15),a(21)),_=n(h),y=(a(16),a(17)),g=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),S=a(9),C=(n(S),a(34)),k=(n(C),a(64)),x=(g.default.Option,_.default.Search,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=function(e){if("uploading"===e.file.status)return void a.setState({loading:!0});"done"===e.file.status&&(a.getBase64(e.file.originFileObj,function(e){return a.setState({imageUrl:e,loading:!1})}),a.props.ok())},a.state={id_usuario:null,loading:!1},a}return l(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({loading:!1,id_usuario:null})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"getIsAuth",value:function(){var e=this;(0,k.getIsAuth)().then(function(t){console.log(t),e.setState({id_usuario:t.id})})}},{key:"getBase64",value:function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}},{key:"beforeUpload",value:function(e){var t="image/jpeg"===e.type;console.log(e),t||v.default.error("You can only upload JPG file!");var a=e.size/1024/1024<2;return a||v.default.error("Image must smaller than 2MB!"),t&&a}},{key:"render",value:function(){var e=this.state,t=e.id_usuario,a=(e.onloadFoto,O.default.createElement("div",null,O.default.createElement(p.default,{type:this.state.loading?"loading":"plus"}),O.default.createElement("div",{className:"ant-upload-text"},"Cargar foto"))),n=this.state.imageUrl;return O.default.createElement("div",null,O.default.createElement(u.default,null,O.default.createElement(d.default,{xs:34,lg:16},O.default.createElement("center",null,O.default.createElement("br",null),O.default.createElement("br",null),O.default.createElement("br",null),O.default.createElement(f.default,{name:"filenamefoto",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"/api/alumno/file_foto/"+t,beforeUpload:this.beforeUpload,onChange:this.handleChange},n?O.default.createElement("img",{src:n,alt:"",style:{left:150,height:250,width:300}}):a)))))}}]),t}(w.Component));t.default=x},1136:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar nuevo departamento",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre del departamento"},o("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}]})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Nombre del departamento"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/departamento",{nombre:n.nombre_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento agregado satisfactoriamente"),a.setState({visible:!1}),a.props.onAddDepartamento()):d.default.error({title:"Error al guardar el departamento. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},1146:function(e,t,a){t=e.exports=a(36)(void 0),t.push([e.i,"input[type=mayuscula]\r\n{\r\n    text-transform: uppercase;\r\n}\r\n\r\n.letra{\r\n  font-size: 16;\r\n  text-transform: uppercase;\r\n}\r\n.textarea{\r\n    text-transform: uppercase;\r\n}\r\n.ant-table-content-rojo {\r\n  background: rgb(255, 158, 129);\r\n\r\n }\r\n .ant-table-content-verde {\r\n  background: rgb(152, 251, 152);\r\n\r\n }\r\n .ant-table-content-gris {\r\n  background: rgb(188, 195, 202);\r\n\r\n }\r\n.grises img {\r\n\r\n        -webkit-filter: grayscale(0%);\r\n        -moz-filter: grayscale(0%);\r\n        -ms-filter: grayscale(0%);\r\n        -o-filter: grayscale(0%);\r\n        filter: none;\r\n        \r\n        -webkit-transition: all 0.5s ease;\r\n        -moz-transition: all 0.5s ease;\r\n        -ms-transition: all 0.5s ease;\r\n        -o-transition: all 0.5s ease;\r\n        transition: all 0.5s ease;\r\n    \r\n    }\r\n    .grises img:hover { \r\n    filter: url('#grayscale'); /* Versión SVG para IE10, Chrome 17, FF3.5, Safari 5.2 and Opera 11.6 */\r\n    -webkit-filter: grayscale(100%);\r\n    -moz-filter: grayscale(100%);\r\n    -ms-filter: grayscale(100%);\r\n    -o-filter: grayscale(100%);\r\n    filter: grayscale(100%); /* Para cuando es estándar funcione en todos */\r\n    filter: Gray(); /* IE4-8 and 9 */\r\n    \r\n    -webkit-transition: all 0.5s ease;\r\n    -moz-transition: all 0.5s ease;\r\n    -ms-transition: all 0.5s ease;\r\n    -o-transition: all 0.5s ease;\r\n    transition: all 0.5s ease;\r\n    }\r\n\r\n  .grises{\r\n    position:relative;\r\n  }\r\n\r\n  .grises>div\r\n  {\r\n    position: relative;\r\n    bottom:25px;\r\n    color:#fff;\r\n    background-color:#000;\r\n    padding:2px 10px;\r\n    opacity:1;\r\n    font-size: 12;\r\n    font-weight:bold;  \r\n  }\r\n  .titulo{\r\n    position:relative;\r\n  }\r\n  .titulo>div\r\n  {\r\n    position: relative;\r\n    bottom:25px;\r\n    color:rgb(26, 56, 102);\r\n    background-color:#fff;\r\n    padding:2px 10px;\r\n    opacity:1;\r\n     font-weight:bold;  \r\n    text-align: right;\r\n  }\r\n\r\n.texto{\r\n  font-size: 16;\r\n  font-weight: bold;\r\n}\r\n.botongenerarinformeseguimiento{\r\n  font-size: 16;\r\n  font-weight: bold;\r\n  left: 80%;\r\n}\r\n ",""])},1147:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_);a(6);a(44);var g=a(9),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option),S=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator,i=(l("titulo",{initialValue:"ING."})(y.default.createElement(f.default,{style:{width:60}},y.default.createElement(O,{value:"ING."},"ING."),y.default.createElement(O,{value:"DR."},"DR."),y.default.createElement(O,{value:"DRA."},"DRA."),y.default.createElement(O,{value:"MTRO."},"MTRO."),y.default.createElement(O,{value:"DIR."},"DIR."),y.default.createElement(O,{value:"DIRA."},"DIRA."),y.default.createElement(O,{value:"LIC."},"LIC."),y.default.createElement(O,{value:"ISC."},"ISC."),y.default.createElement(O,{value:"ISI."},"ISI."),y.default.createElement(O,{value:"MAI."},"MAI."),y.default.createElement(O,{value:"MBT."},"MTB."),y.default.createElement(O,{value:"MCT."},"MCT."),y.default.createElement(O,{value:"MTI."},"MTI."),y.default.createElement(O,{value:"M.A.T.I."},"M.A.T.I."),y.default.createElement(O,{value:"M.C."},"M.C."))),null);return o&&(i=o.docentes.find(function(e){return"jefe_departamento"===e.usuario.rol})||null),y.default.createElement(d.default,{visible:t,title:"Editar departamento",okText:"Actualizar",onCancel:a,onOk:n,width:600,className:"full-width"},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre del departamento",initialValue:"",hasFeedback:!0},l("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}],initialValue:o?o.nombre:""})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Nombre del departamento"}))),y.default.createElement(w,{label:"Seleccione al jefe de departamento",hasFeedback:!0},l("id_jefe_departamento",{rules:[{required:!0,message:"El departamento debe tener un jefe."}],initialValue:i?""+i.id_usuario:""})(y.default.createElement(f.default,{placeholder:"Seleccione un docente"},o?o.docentes.map(function(e,t){return y.default.createElement(O,{key:t,value:""+e.id_usuario},e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno)}):""))),y.default.createElement(w,{label:"Carreras"},l("carreras",{})(y.default.createElement(f.default,{placeholder:"Carreras del departamento"},o?o.carreras.map(function(e,t){return y.default.createElement(O,{key:t,value:""+e.id},""+e.nombre)}):"")))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.departamento;e.validateFields(function(n,r){n||E.default.put("/api/departamento/"+t.id,{nombre_departamento:r.nombre_departamento,id_jefe_departamento:r.id_jefe_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento actualizado satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadDepartamentos()):d.default.error({title:"Error al actualizar el departamento. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){var e=this.state.departamento;return y.default.createElement("div",null,y.default.createElement(S,{departamento:e,ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=C},1148:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar carrera al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre de la carrera"},l("nombre",{rules:[{required:!0,message:"La carrera debe tener un nombre"}]})(y.default.createElement(p.default,{type:"mayuscula",style:{width:"100%"},placeholder:"Nombre de la carrera"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/carrera",{nombre:n.nombre,id_departamento:a.state.departamento.id_departamento}).then(function(t){console.log(t),200===t.status?(u.default.success("Carrera agregada satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar la carrera. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(_.Component);t.default=S},1149:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(28)),u=n(i),c=(a(15),a(21)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v);a(44);var _=p.default.Item,y=f.default.Option,g=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||alert("alv")})},l=a,o(n,l)}return l(t,e),b(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=e("titulo",{initialValue:"ING."})(h.default.createElement(f.default,{style:{width:90}},h.default.createElement(y,{value:"ING."},"ING."),h.default.createElement(y,{value:"DR."},"DR."),h.default.createElement(y,{value:"DRA."},"DRA."),h.default.createElement(y,{value:"MTRO."},"MTRO."),h.default.createElement(y,{value:"DIR."},"DIR."),h.default.createElement(y,{value:"DIRA."},"DIRA."),h.default.createElement(y,{value:"LIC."},"LIC."),h.default.createElement(y,{value:"ISC."},"ISC."),h.default.createElement(y,{value:"ISI."},"ISI."),h.default.createElement(y,{value:"MAI."},"MAI."),h.default.createElement(y,{value:"MBT."},"MTB."),h.default.createElement(y,{value:"MCT."},"MCT."),h.default.createElement(y,{value:"MTI."},"MTI."),h.default.createElement(y,{value:"M.A.T.I."},"M.A.T.I."),h.default.createElement(y,{value:"M.C."},"M.C.")));return h.default.createElement(p.default,{onSubmit:this.handleSubmit},h.default.createElement(_,{label:"Nombre completo del subdirector academico: "},e("nombre",{rules:[{required:!0,message:"El subdirector academico debe tener un nombre."}]})(h.default.createElement(d.default,{type:"mayuscula",addonBefore:t,style:{width:"100%"},placeholder:"Nombre completo del subdirector academico"}))),h.default.createElement(u.default,{htmlType:"submit"},"Guardar"))}}]),t}(v.Component),E=p.default.create()(g);t.default=E},1150:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(83),a(77)),d=n(c),s=(a(51),a(52)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),v=(a(6),a(2)),h=(n(v),a(57)),_=a(64),y=a(236),g=n(y),E=a(247),w=(n(E),a(176)),O=n(w),S=a(250),C=n(S),k=a(84),x=n(k),j=f.default.Header,A=f.default.Content,P=f.default.Footer,R=f.default.Sider,I=d.default.SubMenu,M=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;3==a?e.setState({visibleCambiarContrasenia:!0}):e.setState({componentSelected:a,visibleCambiarContrasenia:!1})},e.state={collapsed:!1,isAuth:!0,componentSelected:1,components:{1:{title:"Gestión de departamentos",render:b.default.createElement(g.default,null)},2:{title:"Gestión de empresas",render:b.default.createElement(O.default,null)},5:{title:"Usuarios del sistema",render:b.default.createElement(C.default,null)}},visibleCambiarContrasenia:!1},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,_.getIsAuth)().then(function(t){"admin"===t.rol?e.setState({isAuth:t.isAuth}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.componentSelected,n=e.components,r=e.visibleCambiarContrasenia,o=n[a];return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(R,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"appstore-o"}),b.default.createElement("span",null,"Departamentos")),b.default.createElement(d.default.Item,{key:"2"},b.default.createElement(u.default,{type:"contacts"}),b.default.createElement("span",null,"Empresas")),b.default.createElement(d.default.Item,{key:"5"},b.default.createElement(u.default,{type:"bars"}),b.default.createElement("span",null,"Usuarios del sistema")),b.default.createElement(d.default.Divider,null),b.default.createElement(I,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(j,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),b.default.createElement("div",{style:{float:"right",marginRight:20}},o.title)),b.default.createElement(A,{style:{margin:"24px 16px",padding:24,background:"#fff"}},o.render),b.default.createElement(P,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(x.default,{visible:r})):b.default.createElement(h.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=M},1179:function(e,t){},1197:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(83),a(77)),d=n(c),s=(a(51),a(52)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),v=(a(6),a(2)),h=(n(v),a(57)),_=a(9),y=n(_),g=a(64),E=a(247),w=(n(E),a(176)),O=n(w),S=a(1198),C=n(S),k=a(84),x=n(k),j=a(175),A=n(j),P=a(1200),R=n(P),I=a(1277),M=n(I),T=a(646),D=n(T),F=a(647),Y=n(F),N=a(1310),z=n(N),G=a(653),L=n(G),q=a(107),B=n(q),V=f.default.Header,U=f.default.Content,W=f.default.Footer,H=f.default.Sider,K=d.default.SubMenu,J=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.imagens=function(t){y.default.get("/api/usuario/foto/"+(t||e.state.id)).then(function(a){200==a.status&&(e.setState({imagen:a.data}),y.default.get("/api/docente/informacion/"+(t||e.state.id)).then(function(t){e.setState({nombre:t.data.titulo+""+t.data.nombre+" "+t.data.ap_paterno+" "+t.data.ap_materno})}))})},e.logo=function(e){return b.default.createElement("div",{className:"titulo",style:{textAlign:"down",top:10,height:40,width:1e3}},b.default.createElement("img",{src:"/img/logoprincipal.png",alt:"logo_tec",height:"250%"}),b.default.createElement("div",{style:{fontSize:20}},e," "))},e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state.departamento;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Gestion de departamento "+n.nombre),render:b.default.createElement(C.default,{departamento:n})}})}else if(2==a)e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Gestion de empresas"),render:b.default.createElement(O.default,null)}});else if(3==a)e.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1});else if(4==a){var r=e.state.departamento;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!0,props_add_docente:{id_departamento:r.id,nombre_departamento:r.nombre}})}else if(5==a){var o=e.state.departamento;e.setState({visible_add_docente:!1,visibleCambiarContrasenia:!1,componentRender:{title:"Gestión de periodo de residencia",render:b.default.createElement(R.default,{departamento:o})}})}else if(6==a){var l=e.state.departamento;e.setState({visible_add_docente:!1,visibleCambiarContrasenia:!1,componentRender:{title:"Apertura de periodo de residencia",render:b.default.createElement(M.default,{departamento:l})}})}else if(7==a){var i=e.state,u=i.departamento,c=i.usuario;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Revision de anteproyectos"),render:b.default.createElement(D.default,{usuario:c,departamento:u})}})}else if(8==a){var d=e.state,s=d.departamento,f=d.usuario;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Dictamen"),render:b.default.createElement(z.default,{usuario:f,departamento:s})}})}else if(9==a){var m=e.state,p=m.usuario,v=m.departamento;e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Revision de seguimientos"),render:b.default.createElement(Y.default,{usuario:p,carreras:v.carreras})}})}else if(10==a){e.state.usuario;y.default.get("/api/proyectos/asesor_interno/"+e.state.usuario.id_docente).then(function(t){200===t.status&&e.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Proyecto de residencia asignado"),render:b.default.createElement(L.default,{proyectos:t.data,usuario:e.state.usuario})}})})}else 16==a&&e.setState({componentSelected:a,componentRender:{title:e.logo("Actualizacion de tu foto de perfil"),render:b.default.createElement(B.default,{ok:e.imagens.bind(e)})}})},e.state={collapsed:!0,isAuth:!0,usuario:null,departamento:null,imagen:null,nombre:null,id:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null}},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,g.getIsAuth)().then(function(t){"jefe_departamento"===t.rol?(y.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t,id:t.id,componentRender:{title:e.logo("Gestion de departamento "+a.data.nombre),render:b.default.createElement(C.default,{departamento:a.data})}}):e.setState({isAuth:!1})}),e.imagens(t.id)):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.nombre),n=e.imagen,r=e.componentRender,o=e.visibleCambiarContrasenia,l=(e.usuario,e.departamento,e.visible_add_docente),i=e.props_add_docente;return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(H,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("center",null,this.state.collapsed?b.default.createElement("div",{className:"grises"},b.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+n,style:{textAlign:"center",left:50,height:50,width:35}})):b.default.createElement("div",{className:"grises",style:{alignContent:"center",textAlign:"center",top:10,height:120,width:150}},b.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+n,style:{left:35,height:150,width:150}}),b.default.createElement("div",null,a))),this.state.collapsed?"":b.default.createElement("div",null,b.default.createElement("br",null),b.default.createElement("br",null),b.default.createElement("br",null)),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(K,{key:"sub0",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"appstore"}),b.default.createElement("span",null,"Departamento"))},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"team"}),b.default.createElement("span",null,"Gestionar")),b.default.createElement(d.default.Item,{key:"4"},b.default.createElement(u.default,{type:"user-add"}),b.default.createElement("span",null,"Agregar docente"),b.default.createElement(A.default,{visible:l,departamento:i}))),b.default.createElement(K,{key:"sub2",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Periodos de residencia"))},b.default.createElement(d.default.Item,{key:"7"},b.default.createElement(u.default,{type:"solution"}),b.default.createElement("span",null,"Revisión anteproyectos")),b.default.createElement(d.default.Item,{key:"10"},b.default.createElement(u.default,{type:"book"}),b.default.createElement("span",null,"Revisión de proyecto de residencia")),b.default.createElement(d.default.Item,{key:"9"},b.default.createElement(u.default,{type:"calendar"}),b.default.createElement("span",null,"Revisión de seguimientos")),b.default.createElement(d.default.Item,{key:"8"},b.default.createElement(u.default,{type:"schedule"}),b.default.createElement("span",null,"Dictamen"))),b.default.createElement(d.default.Divider,null),b.default.createElement(K,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,{key:"16"},b.default.createElement(u.default,{type:"camera"}),"Actializar foto"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(V,{style:{background:"#fff",padding:0,height:150}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),b.default.createElement("div",{style:{float:"right",left:50}},r.title)),b.default.createElement(U,{style:{margin:"24px 16px",padding:24,background:"#fff"}},r.render),b.default.createElement(W,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(x.default,{visible:o})):b.default.createElement(h.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=J},1198:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(12),a(13)),f=n(s),m=(a(16),a(17)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=a(9),y=n(_),g=a(34),E=n(g),w=a(1199),O=n(w),S=p.default.Option,C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChageCarrera=function(e){var t=a.state.departamento,n=t.carreras.find(function(t){return""+t.id===e});y.default.get("/api/carrera/"+e+"/docentes_asignados").then(function(e){200===e.status?a.setState({carrera:h.default.createElement(O.default,{key:E.default.v4(),carrera:n,docentes:t.docentes,docentesAsignados:e.data})}):f.default.warning("Verificar los docentes asignados.")})},a.state={departamento:e.departamento,carrera:null,docentesAsigandos:null},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({departamento:e.departamento,carrera:null,docentesAsigandos:null})}},{key:"render",value:function(){var e=this.state,t=e.departamento,a=e.carrera;return h.default.createElement("div",null,h.default.createElement(u.default,null,h.default.createElement(d.default,{xs:24,lg:6},h.default.createElement("p",null,"Carrera: "),h.default.createElement(p.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},t.carreras.map(function(e,t){return h.default.createElement(S,{key:t,value:""+e.id},e.nombre)})))),a)}}]),t}(v.Component);t.default=C},1199:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(39),a(40)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(22),a(23)),p=n(m),b=(a(12),a(13)),v=n(b),h=(a(30),a(18)),_=n(h),y=(a(15),a(21)),g=n(y),E=(a(29),a(28)),w=n(E),O=(a(19),a(20)),S=n(O),C=(a(16),a(17)),k=n(C),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=a(0),P=n(A),R=a(9),I=n(R),M=a(34),T=n(M),D=k.default.Option,F=S.default.Item,Y=S.default.create()(function(e){var t=e.form,a=e.handleSubmit,n=e.docentes,r=e.checkDocenteDiferente,o=e.docentesAsignados,l=t.getFieldDecorator,i=o.find(function(e){return"presidente_academia"===e.rol})||null,u=o.find(function(e){return"jefe_proyecto"===e.rol})||null;return P.default.createElement(S.default,{layout:"horizontal",onSubmit:a},P.default.createElement(F,{hasFeedback:!0,label:"Presidente de la academia"},l("id_presidente_academia",{rules:[{required:!0,message:"Seleccione al presidente de academia"}],initialValue:i?""+n.find(function(e){return e.id===i.id_docente}).id:null})(P.default.createElement(k.default,{showSearch:!0,placeholder:"Seleccione al presidente de la academia",optionFilterProp:"children",disabled:!0,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return P.default.createElement(D,{key:T.default.v1(),value:""+e.id},e.nombre)})))),P.default.createElement(F,{hasFeedback:!0,label:"Jefe de proyecto"},l("id_jefe_proyecto",{rules:[{validator:r}],initialValue:u?""+n.find(function(e){return e.id===u.id_docente}).id:null})(P.default.createElement(k.default,{showSearch:!0,placeholder:"Seleccione al jefe de proyecto",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return P.default.createElement(D,{key:T.default.v1(),value:""+e.id},e.nombre)})))),P.default.createElement(w.default,{type:"primary",htmlType:"submit"},"Guardar"))}),N=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));z.call(a);var n=e.docentes.map(function(e,t){return{id:e.id,key:T.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,acciones:"assign"}});return a.state={carrera:e.carrera,docentes:n,filterDocentes:n,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados},a}return l(t,e),j(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.docentes.map(function(e,t){return{id:e.id,key:T.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,asignacion:"assign"}});this.setState({carrera:e.carrera,docentes:t,filterDocentes:t,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados})}},{key:"render",value:function(){var e=this,t=this.state,a=t.carrera,n=t.docentes,r=t.filterDocentes,o=t.docentesAsignados,l=[{className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:P.default.createElement("div",{className:"custom-filter-dropdown"},P.default.createElement(g.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),P.default.createElement(w.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:P.default.createElement(_.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}}],i=o.find(function(e){return"presidente_academia"===e.rol})||null,c=o.find(function(e){return"jefe_proyecto"===e.rol})||null,s=function(e){return!!o.find(function(t){return t.id_docente===e.id&&"docente"===t.rol})},m={onChange:function(e,t){console.log("selectedRowKeys: "+e,"selectedRows: ",t),I.default.post("/api/carrera/asignar_docentes",{id_carrera:a.id,array_docentes:t}).then(function(e){200===e.status?v.default.success("Docentes asignados :)!"):p.default.error({title:"Error al actualizar docentes. Revisar los siguientes campos",content:P.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){v.default.error("Error en el servidor verificar con el encargado.")})},getCheckboxProps:function(e){return{disabled:(i?e.id===i.id_docente:null)||(c?e.id===c.id_docente:null),defaultChecked:s(e)}}};return P.default.createElement("div",null,P.default.createElement(d.default,{style:{marginTop:20}},P.default.createElement(f.default,{xs:24,lg:16},P.default.createElement(Y,{ref:this.refForm,handleSubmit:this.handleSubmit,docentes:n,checkDocenteDiferente:this.checkDocenteDiferente,docentesAsignados:o}))),P.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},P.default.createElement(u.default,{bordered:!0,title:function(){return"Docentes que participan en la carrera"},rowSelection:m,dataSource:r,className:"full-width",columns:l,pagination:{pageSize:8},scroll:{x:800}})))}}]),t}(A.Component),z=function(){var e=this;this.refForm=function(t){e.form=t},this.checkDocenteDiferente=function(t,a,n){a===e.form.getFieldValue("id_presidente_academia")?n("El jefe de proyecto no puede ser el mismo que el presidente de academia"):n()},this.handleSubmit=function(t){t.preventDefault();var a=e.state.carrera;e.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),I.default.post("/api/carrera/asignar_encargados",{id_carrera:a.id,id_jefe_proyecto:t.id_jefe_proyecto||null,id_presidente_academia:t.id_presidente_academia}).then(function(e){200===e.status?v.default.success("Carrera actualizada!"):p.default.error({title:"Error al actualizar la carrera. Revisar los siguientes campos",content:P.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){v.default.error("Error en el servidor verificar con el encargado.")}))})},this.onInputChange=function(t){e.setState({searchText:t.target.value})},this.onSearch=function(){var t=e.state,a=t.searchText,n=t.docentes,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterDocentes:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?x({},e,{nombre:P.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[P.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})}};t.default=N},1200:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(85),a(86)),p=n(m),b=(a(22),a(23)),v=n(b),h=(a(119),a(120)),_=n(h),y=(a(143),a(144)),g=n(y),E=(a(29),a(28)),w=n(E),O=(a(30),a(18)),S=n(O),C=(a(12),a(13)),k=n(C),x=(a(16),a(17)),j=n(x),A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=a(0),R=n(P),I=a(9),M=n(I),T=a(1),D=n(T),F=a(34),Y=n(F),N=a(643),z=n(N),G=a(1276),L=n(G),q=j.default.Option,B=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleCancelacion=function(e){M.default.put("/api/alumno/cancelacion",{id_alumno:e}).then(function(e){200===e.status?(k.default.success("Se realizado la cancelación del proyecto del alumno!"),a.setState({visible_add_alumno:!1,visible_add_seguimiento:!1})):k.default.error("Ops, hubo un error al realizar la cancelación, favor de reportar al administrador.")})},a.showListaCandidatosResidente=function(e){M.default.get("/api/periodo/"+e+"/anteproyectos").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return R.default.createElement("div",{style:{overflowY:100}},R.default.createElement(_.default.Item,{key:t,color:"green",dot:R.default.createElement(S.default,{type:"check-circle-o",style:{fontSize:"16px",marginTop:10,marginLeft:10}})},R.default.createElement("p",null,e.nombre+" "+e.ap_paterno+" "+e.ap_materno),R.default.createElement(g.default,{title:R.default.createElement("span",null,R.default.createElement("p",null,"¿Esta seguro de realizar la cancelación de proyecto?"),R.default.createElement("p",null,"al realizar esta acción, se borrara todo la información relacionada a este alumno"),R.default.createElement("p",null,"y se podra agregar al alumno a otro periodo.")),onConfirm:function(){return a.handleCancelacion(e.id)},okText:"Si",cancelText:"Cancelar"},R.default.createElement(w.default,{icon:"user-delete",style:{marginTop:5},type:"danger"},"Realizar cancelación"))))});v.default.info({width:600,title:"Lista residentes del periodo.",content:R.default.createElement(_.default,null,t),onOk:function(){}})}})},a.showAddAlumno=function(e){a.setState({visible_add_alumno:!0,visible_add_seguimiento:!1,id_periodo:e})},a.showAddSeguimiento=function(e,t){a.setState({visible_add_alumno:!1,visible_add_seguimiento:!0,id_periodo:e})},a.showSeguimientos=function(e){console.warn(e);var t=e.map(function(e,t){return R.default.createElement(_.default.Item,{key:t},R.default.createElement("p",null,R.default.createElement("strong",null,t+1)," - Del ",(0,D.default)(e.fecha_inicial,"YYYY-MM-DD").format("LL")," al ",(0,D.default)(e.fecha_final,"YYYY-MM-DD").format("LL")))});v.default.info({title:"Seguimientos",width:600,content:R.default.createElement(_.default,null,t),onOk:function(){}})},a.handleChageCarrera=function(e){var t=a.state.departamento,n=t.carreras.find(function(t){return""+t.id===e});M.default.get("/api/carrera/"+n.id+"/periodos").then(function(e){200===e.status?M.default.get("/api/alumnos/"+n.id+"/rechazados").then(function(t){200===t.status&&a.setState({alumnos_rechazados_por_carrera:t.data._alumnos,carreraSeleccionada:e.data,visible_add_alumno:!1,visible_add_seguimiento:!1})}):k.default.warning("Verificar conexión.")})},a.handleChangeFechaFinEntregaAnteproyecto=function(e,t){M.default.put("/api/periodo/fecha_fin_entrega_anteproyecto",{fecha_fin_entrega_anteproyecto:e.format("YYYY-MM-DD"),id_periodo:t}).then(function(e){200===e.status?(k.default.success("Fecha de entrega de anteproyectos actualizada!"),window.location.reload()):k.default.warning("Ups, verificar conexión.")})},a.state={departamento:e.departamento,carreraSeleccionada:null,visible_add_alumno:!1,visible_add_seguimiento:!1,id_periodo:null,alumnos_rechazados_por_carrera:[]},a}return l(t,e),A(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.departamento,n=t.carreraSeleccionada,r=t.visible_add_alumno,o=t.id_periodo,l=(t.visible_lista_candidatos_residente,t.alumnos_rechazados_por_carrera),i=t.visible_add_seguimiento,c=(0,D.default)().format("YYYY-MM-DD"),s=n?n.periodos.map(function(e,t){return{id:e.id,key:Y.default.v1(),periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,acciones:(0,D.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,D.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto,lista_candidatos:"on",seguimientos:e.seguimientos}}):null,m=[{className:"center-text",title:"Periodo",key:"periodo",dataIndex:"periodo"},{className:"center-text",title:"Ciclo",key:"ciclo",dataIndex:"ciclo"},{className:"center-text",title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{className:"center-text",title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(t,a){return R.default.createElement("span",null,a.fecha_inicio_entrega_anteproyecto," - ",R.default.createElement(p.default,{onChange:function(t,n){e.handleChangeFechaFinEntregaAnteproyecto(t,a.id)},disabledDate:function(e){return e.format("YYYY-MM-DD")>(0,D.default)(a.fecha_fin,"YYYY-MM-DD").format("YYYY-MM-DD")||e.format("YYYY-MM-DD")<(0,D.default)(a.fecha_inicio_entrega_anteproyecto,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,D.default)(a.fecha_fin_entrega_anteproyecto,"YYYY-MM-DD")}))}},{className:"center-text",title:"Seguimientos",key:"seguimientos",dataIndex:"seguimientos",render:function(t,a){return R.default.createElement("div",null,R.default.createElement(w.default,{style:{marginRight:2,marginLeft:2},type:"primary",icon:"bars",onClick:function(){return e.showSeguimientos(a.seguimientos)}},"Lista"),c>a.fecha_fin?"":R.default.createElement(w.default,{style:{marginRight:2,marginLeft:2},icon:"plus",onClick:function(){return e.showAddSeguimiento(a.id,a.fecha_fin)}},"Seguimiento"))}},{className:"center-text",title:"Agregar candidato",key:"acciones",dataIndex:"Acciones",render:function(t,a){return R.default.createElement("span",null,!0===a.acciones?R.default.createElement(w.default,{style:{marginRight:5},icon:"user-add",onClick:function(){return e.showAddAlumno(a.id)}},"Candidato a residente"):R.default.createElement("p",{style:{color:"#ff5757"}},"Deshabilitado, revisar fechas."))}},{className:"center-text",title:"Lista de candidatos",key:"lista_candidatos",dataIndex:"lista_candidatos",render:function(t,a){return R.default.createElement("span",null,R.default.createElement(w.default,{icon:"solution",onClick:function(){return e.showListaCandidatosResidente(a.id)}}))}}];return R.default.createElement(u.default,{gutter:16},R.default.createElement(f.default,{xs:24,lg:4},R.default.createElement("p",null,"Seleccione la carrera: "),R.default.createElement(j.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},a.carreras.map(function(e,t){return R.default.createElement(q,{key:t,value:""+e.id},e.nombre)}))),R.default.createElement(f.default,{xs:24,lg:20},R.default.createElement(d.default,{bordered:!0,title:function(){return"Gestión de periodos"},dataSource:s,className:"full-width",columns:m,pagination:{pageSize:8},scroll:{x:1500}})),R.default.createElement(z.default,{visible:r,carrera:n,id_periodo:o,alumnos_rechazados_por_carrera:l}),R.default.createElement(L.default,{visible:i,id_periodo:o}))}}]),t}(P.Component);t.default=B},1276:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(85),a(86)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=a(1),O=n(w),S=v.default.Item,C=(p.default.TextArea,f.default.RangePicker),k=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator,l={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del seguimiento"}]};return y.default.createElement(d.default,{visible:t,title:"Agregar seguimiento de residencia",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical",style:{width:"100%"}},y.default.createElement(S,{label:"Seleccione la fecha de inicio y fin del seguimiento",style:{width:"100%"}},o("fechas_seguimiento",l)(y.default.createElement(C,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,O.default)().format("YYYY-MM-DD")}})))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){if(!t){var r=n.fechas_seguimiento[0].format("YYYY-MM-DD"),o=n.fechas_seguimiento[1].format("YYYY-MM-DD"),l=a.state.id_periodo;E.default.post("/api/periodo/seguimiento",{id_periodo:l,fecha_inicial:r,fecha_final:o}).then(function(t){200===t.status?(u.default.success("Seguimiento agregado satisfactoriamente!"),e.resetFields(),a.setState({visible:!1})):d.default.error({title:"Error al agregar el seguimiento. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})}})},a.saveFormRef=function(e){a.form=e},a.state={id_periodo:e.id_periodo,visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_periodo;this.setState({id_periodo:a,visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=x},1277:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(12),a(13)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(26),a(27)),p=n(m),b=(a(24),a(25)),v=n(b),h=(a(85),a(86)),_=n(h),y=(a(16),a(17)),g=n(y),E=(a(19),a(20)),w=n(E),O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),S=a(0),C=n(S),k=a(9),x=n(k),j=a(1),A=n(j),P=w.default.Item,R=g.default.Option,I=_.default.RangePicker,M=w.default.create()(function(e){var t=e.onCreate,a=e.form,n=e.departamento,r=e.checkPeriodoEntregaAnteproyecto,o=a.getFieldDecorator,l=2016,i={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]},u={rules:[{validator:r},{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]};return C.default.createElement("div",null,C.default.createElement(w.default,{layout:"vertical",onSubmit:t},C.default.createElement(p.default,null,C.default.createElement(v.default,{xs:24,lg:8},C.default.createElement(P,{label:"Carrera",hasFeedback:!0},o("id_carrera",{rules:[{required:!0,message:"Debe indicar la carrera"}]})(C.default.createElement(g.default,{placeholder:"Seleccione una carrera"},n.carreras.map(function(e,t){return C.default.createElement(R,{key:t,value:""+e.id},e.nombre)})))))),C.default.createElement(p.default,{gutter:16},C.default.createElement(v.default,{xs:18,lg:8},C.default.createElement(P,{label:"Periodo de residencia",hasFeedback:!0},o("periodo",{rules:[{required:!0,message:"Debe indicar el periodo de la residencia"}]})(C.default.createElement(g.default,{placeholder:"Seleccione un periodo"},C.default.createElement(R,{value:"FEBRERO-JUNIO"},"FEBRERO-JUNIO"),C.default.createElement(R,{value:"AGOSTO-DICIEMBRE"},"AGOSTO-DICIEMBRE"))))),C.default.createElement(v.default,{xs:6,lg:4},C.default.createElement(P,{label:"Ciclo",hasFeedback:!0},o("ciclo",{rules:[{required:!0,message:"Debe indicar el ciclo de la residencia"}]})(C.default.createElement(g.default,{placeholder:"Seleccione un ciclo"},Array(50).fill(1).map(function(e,t){return l++,C.default.createElement(R,{key:t,value:""+l},l)})))))),C.default.createElement(p.default,null,C.default.createElement(v.default,{xs:24,lg:8},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin del periodo",style:{width:"100%"}},o("fechas_periodo",i)(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}}))))),C.default.createElement(p.default,null,C.default.createElement(v.default,{xs:24,lg:8},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin de la entrega de anteproyectos"},o("fechas_entrega_anteproyecto",u)(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}}))))),C.default.createElement(f.default,{icon:"save",type:"primary",htmlType:"submit",style:{marginTop:20,marginBottom:20}},"Aperturar periodo")))}),T=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.checkPeriodoEntregaAnteproyecto=function(e,t,n){var r=a.form,o=r.getFieldValue("fechas_periodo");console.log(t),console.log(o),o?t[0].format("YYYY-MM-DD")<o[0].format("YYYY-MM-DD")?n("La fecha de inicio de entrega de anteproyecto debe ser despues de: "+o[0].format("ll")):t[1].format("YYYY-MM-DD")>o[1].format("YYYY-MM-DD")?n("La fecha de fin de entrega de anteproyecto debe ser antes que: "+o[1].format("ll")):n():n("Primero seleccione la fecha del periodo.")},a.handleCreate=function(e){e.preventDefault();var t=a.form;t.validateFields(function(e,a){if(!e){console.log("Received values of form: ",a);var n=a.id_carrera,r=a.periodo,o=a.ciclo,l=[a.fechas_periodo[0].format("YYYY-MM-DD"),a.fechas_periodo[1].format("YYYY-MM-DD")],i=[a.fechas_entrega_anteproyecto[0].format("YYYY-MM-DD"),a.fechas_entrega_anteproyecto[1].format("YYYY-MM-DD")];console.log(l),x.default.post("/api/carrera/periodo",{id_carrera:n,periodo_residencia:r,ciclo:o,fechas_periodo:l,fechas_entrega_anteproyecto:i}).then(function(e){console.log(e),200===e.status?(t.resetFields(),d.default.success("Periodo agregado satisfactoriamente!")):u.default.error({title:"Error al guardar el el periodo. Revisar los siguientes campos",content:C.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){d.default.error(e)})}})},a.saveFormRef=function(e){a.form=e},a.state={departamento:e.departamento},a}return l(t,e),O(t,[{key:"render",value:function(){var e=this.state.departamento;return C.default.createElement("div",null,C.default.createElement(M,{ref:this.saveFormRef,onCreate:this.handleCreate,departamento:e,checkPeriodoEntregaAnteproyecto:this.checkPeriodoEntregaAnteproyecto}))}}]),t}(S.Component);t.default=T},1281:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(47),a(48)),f=n(s),m=(a(30),a(18)),p=n(m),b=(a(29),a(28)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(26),a(27)),g=n(y),E=(a(22),a(23)),w=n(E),O=(a(19),a(20)),S=n(O),C=(a(15),a(21)),k=n(C),x=(a(16),a(17)),j=n(x),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},P=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),R=a(0),I=n(R),M=a(79),T=n(M),D=a(9),F=n(D),Y=a(1),N=n(Y),z=a(1282),G=n(z),L=(j.default.Option,j.default.OptGroup,k.default.TextArea,S.default.Item,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onSearch=function(){var e=a.state,t=e.searchText,n=e.anteproyectos,r=new RegExp(t,"gi");a.setState({visible:!1,filterDropdownVisible:!1,filtered:!!t,filterAnteproyectos:n.map(function(e){console.warn("record=> ",e);var t=e.nombre?e.nombre.match(r):null;return t?A({},e,{nombre:I.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[I.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},a.showAsesorExterno=function(e){w.default.info({width:600,title:"Detalles del asesor externo",content:I.default.createElement(g.default,{gutter:16},I.default.createElement("p",null,"Nombre:"),I.default.createElement(k.default,{readOnly:!0,value:e.nombre}),I.default.createElement("p",{style:{marginTop:10}},"Puesto:"),I.default.createElement(k.default,{readOnly:!0,value:e.puesto}),I.default.createElement("p",{style:{marginTop:10}},"Correo:"),I.default.createElement(k.default,{readOnly:!0,value:e.usuario.correo}),I.default.createElement("p",{style:{marginTop:10}}," Empresa"),I.default.createElement(k.default,{readOnly:!0,value:e.empresa.nombre})),onOk:function(){}})},a.showAlumno=function(e){w.default.info({width:600,title:"Detalles del alumno",content:I.default.createElement(g.default,{gutter:16},I.default.createElement("p",null,"Numero de control:"),I.default.createElement(k.default,{readOnly:!0,value:e.no_control}),I.default.createElement("p",{style:{marginTop:10}},"Nombre:"),I.default.createElement(k.default,{readOnly:!0,value:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})),onOk:function(){}})},a.showAnteproyecto=function(e){w.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:I.default.createElement("div",null,I.default.createElement(T.default,{file:"/api/anteproyecto/pdf/"+e,scale:1.5})),onOk:function(){}})},a.state={periodo:e.periodo,anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,visible_correcciones:!1,props_correcciones:{id_docente:null,id_anteproyecto:null,correo_alumno:null}},a}return l(t,e),P(t,[{key:"componentWillReceiveProps",value:function(e){this.state={periodo:e.periodo,anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,visible_correcciones:!1,props_correcciones:{id_docente:null,id_anteproyecto:null,correo_alumno:null}}}},{key:"showInputCorreccion",value:function(e,t){this.setState({visible_correcciones:!0,props_correcciones:{id_docente:this.state.usuario.id_docente,id_anteproyecto:e,correo_alumno:t}})}},{key:"handleFactible",value:function(e,t){F.default.put("/api/anteproyecto/factibilidad",{id_docente:this.state.usuario.id_docente,id_anteproyecto:e,esFactible:t?"factible":"no_factible"}).then(function(e){200===e.status?_.default.success("Anteproyecto actualizado !"):w.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:I.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){_.default.error("Error en el servidor verificar con el encargado.")})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.anteproyectos,t.filterAnteproyectos),n=t.periodo,r=n.fecha_inicio_entrega_anteproyecto,o=n.fecha_fin_entrega_anteproyecto,l=(0,N.default)().format("YYYY-MM-DD");console.warn(")>",a);var i=[{className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:I.default.createElement("div",{className:"custom-filter-dropdown"},I.default.createElement(k.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre de anteproyecto",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),I.default.createElement(v.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:I.default.createElement(p.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{className:"center-text",title:"Objetivo general",dataIndex:"objetivo_general",key:"objetivo_general"},{className:"center-text",title:"Asesor externo",dataIndex:"detalles_asesor_externo",key:"detalles_asesor_externo",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(v.default,{icon:"contacts",onClick:function(){return e.showAsesorExterno(a.detalles_asesor_externo)}}))}},{className:"center-text",title:"Alumno",dataIndex:"detalles_alumno",key:"detalles_alumno",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(v.default,{icon:"solution",onClick:function(){return e.showAlumno(a.detalles_alumno)}}))}},{className:"center-text",title:"Anteproyecto",dataIndex:"anteproyecto",key:"anteproyecto",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(v.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.anteproyecto)}}),I.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/anteproyecto/pdf/"+a.anteproyecto},I.default.createElement(p.default,{type:"select"})))}},{className:"center-text",title:"Factible",dataIndex:"factible",key:"factible",render:function(t,a){return I.default.createElement("span",null,r<=l&&o>=l?I.default.createElement("span",null,I.default.createElement(f.default,{style:{marginRight:3,marginBottom:3},defaultChecked:!(!a.revision||"factible"!==a.revision.esFactible),checkedChildren:"Factible",unCheckedChildren:I.default.createElement(p.default,{type:"cross"}),onChange:function(t){return e.handleFactible(a.id,t)}}),I.default.createElement(v.default,{style:{marginLeft:3},icon:"exception",onClick:function(){return e.showInputCorreccion(a.id,a.detalles_alumno.usuario.correo)}},"Correción")):I.default.createElement("p",{style:{color:"#ff5757"}},"La fecha de revisión finalizo"))}}];return I.default.createElement("div",null,I.default.createElement(g.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},I.default.createElement(u.default,{xs:24,lg:24},I.default.createElement(d.default,{bordered:!0,title:function(){return"Anteproyectos registrados"},dataSource:a,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:2500}}))),I.default.createElement(G.default,{visible:this.state.visible_correcciones,id_docente:this.state.props_correcciones.id_docente,id_anteproyecto:this.state.props_correcciones.id_anteproyecto,correo_alumno:this.state.props_correcciones.correo_alumno}))}}]),t}(R.Component));t.default=L},1282:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(15),a(21)),f=n(s),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(a(6),a(9)),y=n(_),g=p.default.Item,E=f.default.TextArea,w=p.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return h.default.createElement(d.default,{visible:t,title:"Correcciones para anteproyecto",okText:"Guardar",onCancel:a,onOk:n},h.default.createElement(p.default,{layout:"vertical"},h.default.createElement(g,{label:"Correcciones del anteproyecto"},o("comentario",{rules:[{required:!0,message:"Debe indicar las correcciones."},{max:500,message:"Las correcciones no deben pasar 500 caracteres"}]})(h.default.createElement(E,{maxLength:"500",placeholder:"Escriba aqui las correcciones",autosize:{minRows:2,maxRows:6}})))))}),O=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||y.default.put("/api/anteproyecto/factibilidad/correciones",{id_docente:a.state.id_docente,id_anteproyecto:a.state.id_anteproyecto,comentario:n.comentario,correo_alumno:a.state.correo_alumno}).then(function(t){200===t.status?(u.default.success("Se han enviado las correcciones!"),e.resetFields(),a.setState({visible:!1})):d.default.error({title:"Error al enviar las correcciones. Revisar los siguientes campos",content:h.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})})},a.saveFormRef=function(e){a.form=e},a.state={id_docente:e.id_docente,id_anteproyecto:e.id_anteproyecto,correo_alumno:e.correo_alumno,visible:e.visible},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({id_docente:e.id_docente,id_anteproyecto:e.id_anteproyecto,correo_alumno:e.correo_alumno,visible:t})}},{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement(w,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(v.Component);t.default=O},1283:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(47),a(48)),f=n(s),m=(a(92),a(98)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(29),a(28)),_=n(h),y=(a(12),a(13)),g=n(y),E=(a(26),a(27)),w=n(E),O=(a(15),a(21)),S=n(O),C=(a(22),a(23)),k=n(C),x=(a(16),a(17)),j=n(x),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},P=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),R=a(0),I=n(R),M=a(79),T=n(M),D=a(9),F=n(D),Y=a(1),N=n(Y),z=j.default.Option,G=(j.default.OptGroup,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.onSearch=function(){var e=a.state,t=e.searchText,n=e.anteproyectos,r=new RegExp(t,"gi");a.setState({visible:!1,filterDropdownVisible:!1,filtered:!!t,filterAnteproyectos:n.map(function(e){var t=e.nombre?e.nombre.match(r):null;return t?A({},e,{nombre:I.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[I.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},a.showAsesorExterno=function(e){k.default.info({width:600,title:"Detalles del asesor externo",content:I.default.createElement(w.default,{gutter:16},I.default.createElement("p",null,"Nombre:"),I.default.createElement(S.default,{readOnly:!0,value:e.nombre}),I.default.createElement("p",{style:{marginTop:10}},"Puesto:"),I.default.createElement(S.default,{readOnly:!0,value:e.puesto}),I.default.createElement("p",{style:{marginTop:10}},"Correo:"),I.default.createElement(S.default,{readOnly:!0,value:e.usuario.correo}),I.default.createElement("p",{style:{marginTop:10}}," Empresa"),I.default.createElement(S.default,{readOnly:!0,value:e.empresa.nombre})),onOk:function(){}})},a.showAlumno=function(e){k.default.info({width:600,title:"Detalles del alumno",content:I.default.createElement(w.default,{gutter:16},I.default.createElement("p",null,"Numero de control:"),I.default.createElement(S.default,{readOnly:!0,value:e.no_control}),I.default.createElement("p",{style:{marginTop:10}},"Nombre:"),I.default.createElement(S.default,{readOnly:!0,value:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})),onOk:function(){}})},a.showAnteproyecto=function(e){k.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:I.default.createElement("div",null,I.default.createElement(T.default,{file:"/api/anteproyecto/pdf/"+e,scale:1.5})),onOk:function(){}})},a.handleDictamen=function(e,t){var a=t?"aprobado":"no aprobado",n=e.nombre,r=e.asesor_interno,o=e.detalles_asesor_externo;null===n?g.default.warn("Para completar el proceso, falta el nombre del anteproyecto."):null===o?g.default.warn("Para completar el proceso, falta el asesor externo."):null===r?g.default.warn("Para completar el proceso, falta el asesor interno."):F.default.put("/api/anteproyecto/set_dictamen",{id_anteproyecto:e.id,dictamen:a}).then(function(e){200===e.status?g.default.success("Anteproyecto actualizado!"):k.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:I.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){g.default.error("Error en el servidor verificar con el encargado.")})},a.handleAsesorInterno=function(e,t){F.default.put("/api/anteproyecto/set_asesor_interno",{id_asesor_interno:e,id_anteproyecto:t}).then(function(e){200===e.status?(g.default.success("Anteproyecto actualizado!"),a.props.updatePeriodo()):k.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:I.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){g.default.error("Error en el servidor verificar con el encargado.")})},a.state={anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,periodo:e.periodo},a}return l(t,e),P(t,[{key:"componentWillReceiveProps",value:function(e){this.state={anteproyectos:e.anteproyectos,filterAnteproyectos:e.anteproyectos,usuario:e.usuario,periodo:e.periodo}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.anteproyectos,t.filterAnteproyectos),n=t.periodo,r=n.fecha_inicio_entrega_anteproyecto,o=n.fecha_fin_entrega_anteproyecto,l=(0,N.default)().format("YYYY-MM-DD"),i=[{width:200,fixed:"left",className:"center-text",title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:I.default.createElement("div",{className:"custom-filter-dropdown"},I.default.createElement(S.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre de anteproyecto",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),I.default.createElement(_.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:I.default.createElement(v.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{className:"center-text",title:"Objetivo general",dataIndex:"objetivo_general",key:"objetivo_general"},{className:"center-text",title:"Asesor externo",dataIndex:"detalles_asesor_externo",key:"detalles_asesor_externo",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(_.default,{icon:"contacts",onClick:function(){return e.showAsesorExterno(a.detalles_asesor_externo)}}))}},{className:"center-text",title:"Alumno",dataIndex:"detalles_alumno",key:"detalles_alumno",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(_.default,{icon:"solution",onClick:function(){return e.showAlumno(a.detalles_alumno)}}))}},{className:"center-text",title:"Anteproyecto",dataIndex:"anteproyecto",key:"anteproyecto",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(_.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.anteproyecto)}}),I.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/anteproyecto/pdf/"+a.anteproyecto},I.default.createElement(v.default,{type:"select"})))}},{className:"center-text",title:"% de factiblidad",dataIndex:"porcentaje_factibilidad",key:"porcentaje_factibilidad",render:function(e,t){return I.default.createElement("span",null,I.default.createElement(p.default,{content:t.revisiones,title:"Revisión de docentes"},I.default.createElement("p",{style:{color:"#4da1ff"}},t.porcentaje_factibilidad+" %")))}},{width:150,className:"center-text",title:"Dictamen",dataIndex:"dictamen",key:"dictamen",render:function(t,a){return I.default.createElement("span",null,r<=l&&o>=l?I.default.createElement(f.default,{checkedChildren:"Aprobado",defaultChecked:"aprobado"===a.dictamen,unCheckedChildren:"No aprobado",onChange:function(t){return e.handleDictamen(a,t)}}):I.default.createElement("p",{style:{color:"#ff5757"}},"La fecha de revisión finalizo"))}},{width:300,className:"center-text",title:"Asesor interno",dataIndex:"asesor_interno",key:"asesor_inteno",render:function(t,a){return I.default.createElement("span",null,I.default.createElement(j.default,{placeholder:"Seleccionde al asesor interno",style:{width:"80%"},onChange:function(t){return e.handleAsesorInterno(t,a.id)},defaultValue:a.asesor_interno?""+a.asesor_interno.id:null},n.carrera.docentes_carreras.map(function(e,t){if("coordinador_carrera"!=e.rol&&"deshabilitado"!=e.rol)return I.default.createElement(z,{key:t,value:""+e.docente.id},e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno)})))}}];return I.default.createElement(w.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},I.default.createElement(u.default,{xs:24,lg:24},I.default.createElement(d.default,{bordered:!0,title:function(){return"Registro de dictamen y selección de asesores internos"},dataSource:a,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:2500}})))}}]),t}(R.Component));t.default=G},1284:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(78),a(68)),f=n(s),m=(a(69),a(70)),p=n(m),b=(a(15),a(21)),v=n(b),h=(a(47),a(48)),_=n(h),y=(a(29),a(28)),g=n(y),E=(a(12),a(13)),w=n(E),O=(a(39),a(40)),S=n(O),C=(a(22),a(23)),k=n(C),x=(a(30),a(18)),j=n(x),A=(a(19),a(20)),P=n(A),R=(a(55),a(56)),I=n(R),M=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),T=a(0),D=n(T),F=a(1),Y=n(F),N=a(34),z=n(N),G=a(9),L=n(G),q=a(652),B=(n(q),a(1306)),V=n(B),U=I.default.TabPane,W=P.default.Item,H=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateProyecto=function(){a.props.updateProyecto()},a.showSoluciones=function(e){var t=[{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(e,t){return D.default.createElement(j.default,{type:t.solucionado?"check":"close"})}},{title:"Solución",dataIndex:"solucion",key:"solucion"}],a=e.map(function(e,t){return{key:t,id:e.id,solucionado:e.solucionado,solucion:e.solucion}});k.default.info({width:800,title:"Soluciones recomendadas",content:D.default.createElement("div",null,D.default.createElement(S.default,{size:"small",columns:t,dataSource:a,pagination:{pageSize:5}})),onOk:function(){}})},a.changeSeguimiento=function(e){alert("id_se "+e),L.default.get("/api/seguimientos/obtener_seguimiento_proyectos/"+a.state.proyecto.id+"/"+e).then(function(e){200===e.status&&("cumplio"===e.data.estado_seguimiento?(alert("cumplio jajajja"),a.setState({estado_seguimiento:"true"})):a.setState({estado_seguimiento:"false"}))}),L.default.get("/api/seguimientos/obtener_seguimientos/"+a.state.proyecto.anteproyecto.id_periodo).then(function(t){if(200===t.status){var n=0,r=0,o=null;t.data.map(function(t){e==t.id&&(r=n,o=t),n++}),a.setState({renderSeguimiento:D.default.createElement(V.default,{proyecto:a.state.proyecto,seguimiento:o,seguimientos:t.data,numeroSeguimiento:r,usuario:a.state.usuario}),id_seguimiento:e,visible_observacion:!1})}})},a.showAddObservacionSeguimiento=function(){a.setState({visible_observacion:!0})},a.onChangeObservacion=function(e,t){L.default.put("/api/proyecto/revision_seguimiento",{id_revision_seguimiento:e,solucionado:t}).then(function(e){200===e.status?w.default.success("La revisión se ha actulizado satisfactoriamente"):w.default.error("Error al actualizar la revisión, favor de reportar al administrador.")})},a.handleSeguimiento1=function(e,t){L.default.put("/api/proyecto/revision_seguimiento_entrego",{id_seguimiento:e,estado:1==t?"cumplio":"no cumplio"}).then(function(e){200===e.status?w.default.success("Actualizacion correcta"):w.default.error("Error al actualizar la revisión, favor de reportar al administrador.")})},a.handleSeguimiento=function(e){L.default.put("/api/proyecto/revision_seguimiento_entrego",{id_seguimiento:a.state.id_seguimiento,estado:1==e?"cumplio":"no cumplio",id_proyecto:a.state.proyecto.id}).then(function(e){200===e.status?w.default.success("Actualizacion correcta"):w.default.error("Error al actualizar la revisión, favor de reportar al administrador.")})},a.actulizarEstado=function(e,t){L.default.put("/api/alumno/situacion",{id:e,estado:t}).then(function(e){(e.status=200)?console.log("ok se cambio el estado "):w.default.error("Ups ha visto un problema, favor de contactar al administrador")})},a.handleVerificacion=function(e,t){("cancelado"===t||"activo"===t)&&L.default.put("/api/alumno/situacion",{id:e,estado:"cancelado"}).then(function(e){(e.status=200)?console.log("ok se cambio el estado "):w.default.error("Ups ha visto un problema, favor de contactar al administrador")})},a.state={proyecto:e.proyecto,usuario:e.usuario,id_seguimiento:-1,visible_observacion:!1,renderSeguimiento:null,seguimiento_selecionado:null,estado_seguimiento:null},a}return l(t,e),M(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyecto:e.proyecto,usuario:e.usuario,id_seguimiento:-1,visible_observacion:!1,estado_seguimiento:e.estado_seguimiento})}},{key:"render",value:function(){var e=this,t=this.state,a=t.proyecto,n=(t.usuario,t.id_seguimiento),r=(t.estado_seguimiento,t.visible_observacion,(0,Y.default)().format("YYYY-MM-DD"),a.anteproyecto.alumno.situacion);console.log(r[0].idalumno);var o=(r[0].estado,a.asesorias.map(function(e){return{key:z.default.v1(),id:e.id,fecha:(0,Y.default)(e.fecha,"YYYY-MM-DD").format("ll"),temas_a_asesorar:e.temas_a_asesorar,url_avance:e.url_avance,soluciones_recomendadas:e.soluciones_recomendadas,permitir_generar_formato:e.permitir_generar_formato}})),l=a.seguimientos_proyecto.find(function(e){return e.id==n});l&&l.revisiones_seguimiento.map(function(e,t){return{key:z.default.v1(),id:e.id,observacion:e.observacion,solucionado:e.solucionado,fecha:(0,Y.default)(e.createdAt).utc().format("LL"),docente:e.docente}});var i=[{className:"center-text",title:"Fecha",dataIndex:"fecha",key:"fecha"},{className:"center-text",title:"Temas a asesorar",dataIndex:"temas_a_asesorar",key:"temas_a_asesorar"},{className:"center-text",title:"Avance",dataIndex:"url_avance",key:"url_avance",render:function(e,t){return D.default.createElement("a",{href:t.url_avance,target:"_blank"},"Archivo de avance",D.default.createElement(j.default,{type:"file-pdf"}))}},{className:"center-text",title:"Soluciones recomendadas",dataIndex:"soluciones_recomendadas",key:"soluciones_recomendadas",render:function(t,a){return D.default.createElement("span",null,D.default.createElement(g.default,{style:{marginLeft:2,marginRight:2},icon:"bars",onClick:function(){return e.showSoluciones(a.soluciones_recomendadas)}},"Soluciones"))}}];return D.default.createElement(I.default,{style:{marginTop:30},key:".103.",defaultActiveKey:"1"},D.default.createElement(U,{tab:D.default.createElement("span",null,D.default.createElement(j.default,{type:"book"}),"Proyecto"),key:"proyecto"},D.default.createElement(P.default,null,D.default.createElement(W,{label:"Título: "},D.default.createElement(v.default,{value:a.anteproyecto.nombre,readOnly:!0})),D.default.createElement(W,{label:"Objetivo general: "},D.default.createElement(v.default,{value:a.anteproyecto.objetivo_general,readOnly:!0})),D.default.createElement(W,{label:"Anteproyecto: "},a.anteproyecto.path_file_anteproyecto?D.default.createElement(p.default,{fileList:[{uid:-1,name:"anteproyecto.pdf",status:"done",url:"/api/anteproyecto/pdf/"+a.anteproyecto.path_file_anteproyecto}]}):D.default.createElement("p",null,"No se ha subido el anteproyecto"))),D.default.createElement(u.default,{className:"border-top"},D.default.createElement(d.default,{xs:24,lg:6},D.default.createElement("h2",{style:{marginBottom:20}},"Plan de trabajo"),D.default.createElement(W,{label:D.default.createElement("span",null,"Plan de trabajo ",D.default.createElement(f.default,{title:"Ultima fecha de actualización: "+(0,Y.default)(a.updatedAt).utc().format("ll")},D.default.createElement(j.default,{type:"clock-circle-o"})))},a.filename_plan_trabajo?D.default.createElement(p.default,{fileList:[{uid:-1,name:"plan_de_trabajo.pdf",status:"done",url:"/api/plan_de_trabajo/pdf/"+a.filename_plan_trabajo}]}):D.default.createElement("p",null,"No se ha subido el plan de trabajo"))),D.default.createElement(d.default,{xs:24,lg:18})),D.default.createElement(u.default,{className:"border-top"},D.default.createElement(d.default,{xs:24,lg:6},D.default.createElement("h2",{style:{marginBottom:20}},"Cronograma de actividades"),D.default.createElement(W,{label:D.default.createElement("span",null,"Cronograma de actividades ",D.default.createElement(f.default,{title:"Ultima fecha de actualización: "+(0,Y.default)(a.updatedAt).utc().format("ll")},D.default.createElement(j.default,{type:"clock-circle-o"})))},a.filename_cronograma?D.default.createElement(p.default,{fileList:[{uid:-1,name:"cronograma.pdf",status:"done",url:"/api/cronograma/pdf/"+a.filename_cronograma}]}):D.default.createElement("p",null,"No se ha subido el cronograma"))),D.default.createElement(d.default,{xs:24,lg:18}))),D.default.createElement(U,{tab:D.default.createElement("span",null,D.default.createElement(j.default,{type:"solution"}),"Asesorías"),key:"asesorias"},D.default.createElement(u.default,null,D.default.createElement(d.default,{xs:24,lg:24},D.default.createElement(S.default,{title:function(){return"Asesorías"},columns:i,dataSource:o,pagination:{pageSize:5},scroll:{x:1200}})))),D.default.createElement(U,{tab:D.default.createElement("span",null,D.default.createElement(j.default,{type:"calendar"}),"Seguimientos"),key:"seguimientos"},D.default.createElement(I.default,{key:"-99",tabPosition:"left",defaultActiveKey:"-1",onChange:function(t){return e.changeSeguimiento(t)}},a.seguimientos_proyecto.map(function(t,a){return D.default.createElement(U,{tab:D.default.createElement("span",null,D.default.createElement(j.default,{type:"schedule"}),"Seguimiento "+(a+1)),key:t.id_seguimiento},e.state.renderSeguimiento,D.default.createElement(_.default,{onChange:function(t){return e.handleSeguimiento(t)},defaultChecked:e.state.estado_seguimiento,checkedChildren:"cumplido",unCheckedChildren:D.default.createElement(j.default,{type:"cross"})}))}))))}}]),t}(T.Component);t.default=H},1306:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(24),a(25)),c=n(u),d=(a(39),a(40)),s=n(d),f=(a(26),a(27)),m=n(f),p=(a(87),a(88)),b=n(p),v=(a(47),a(48)),h=n(v),_=(a(30),a(18)),y=n(_),g=(a(12),a(13)),E=n(g),w=(a(22),a(23)),O=n(w),S=(a(92),a(98)),C=n(S),k=(a(29),a(28)),x=n(k),j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=a(0),P=n(A),R=a(1),I=n(R),M=a(1307),T=n(M),D=a(1308),F=n(D),Y=a(1309),N=n(Y),z=a(34),G=n(z),L=a(9),q=n(L),B=!1,V=0,U=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.componentWillReceiveProps=function(e){var t;a.setState((t={filename_evidencia:e.filename_evidencia,proyecto:e.proyecto,usuario:e.usuario,seguimiento:e.seguimiento},r(t,"usuario",e.usuario),r(t,"dataSource_semanas",e.dataSource_semanas),r(t,"seguimientos",e.seguimientos),r(t,"numeroSeguimiento",e.numeroSeguimiento),t)),a.getSemanasActividadesGenerales(),a.obtenerTareas(),a.semanas()},a.componentDidMount=function(){a.getSemanasActividadesGenerales(),a.obtenerTareas(),a.semanas()},a.obtenerTareas=function(){var e=[],t=[],n=[],r=[];q.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(o){200===o.status&&(o.data.map(function(e){r.push({key:G.default.v1(),id:e.id,id_subactividad:e.id_subactividad,id_orden:e.id_orden,tarea:e.tarea,horas:e.horas,entregable:e.entregable,fecha_entrega:e.fecha_entrega,estado_revision_semanal:e.estado_revision_semanal,estado_revision_mensual:e.estado_revision_mensual})}),o.data.map(function(a){a.evidencias.map(function(t){e.push({key:G.default.v1(),id:t.id,filename_evidencia:t.filename_evidencia,fecha_actualizacion:t.updatedAt,id_tarea:t.id_tarea})}),a.observaciones.map(function(e){"revision_mensual"==e.tipo_observacion?t.push({key:G.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_entrega:a.fecha_entrega}):"revision_semanal"==e.tipo_observacion&&n.push({key:G.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_entrega:a.fecha_entrega})})}),a.setState({dataSource_tareas:r,dataSource_evidencias:e,dataSource_observaciones_mensual:t,dataSource_observaciones_semanal:n}))})},a.tareas=function(e){var t=a.state.dataSource_actividades_generales;t=t.filter(function(t){return t.fecha_entrega===e});var n={};t=t.filter(function(e){var t=!n[e.id]||!1;return n[e.id]=!0,t});var r=t.map(function(e){return P.default.createElement("li",{key:G.default.v1()},e.actividad)});return P.default.createElement("div",null,P.default.createElement("ul",null,r))},a.evidencias=function(e){var t=a.state.dataSource_evidencias;t=t.filter(function(t){return t.id_tarea===e});var n=t.map(function(e){return P.default.createElement("li",{key:G.default.v1()},P.default.createElement(x.default,{icon:"file",onClick:function(){return a.showEvidencia(e.filename_evidencia,e.id,e.id_tarea)}}))});return P.default.createElement("div",null,P.default.createElement("ul",null,n))},a.showEvidencia=function(e,t,n){a.setState({visibleEvidencia:!0,filename_evidencia:e,id_evidencia:t,id_tarea:n})},a.semanas=function(){q.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(e){if(200===e.status){var t=[],n=0,r=1,o=(0,I.default)().format("YYYY-MM-DD");e.data.map(function(e){0==a.state.numeroSeguimiento?e.fecha_entrega<=a.state.seguimiento.fecha_final&&(e.fecha_entrega!=n&&(t.push({key:G.default.v1(),fecha_entrega:P.default.createElement(C.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++),n=e.fecha_entrega):1==a.state.numeroSeguimiento?(o>=a.state.seguimientos[1].fecha_inicial&&o<=a.state.seguimientos[1].fecha_final&&e.fecha_entrega<=a.state.seguimientos[0].fecha_final&&"aprobado"!=e.estado_revision_mensual&&(e.fecha_entrega!=n&&t.push({key:G.default.v1(),fecha_entrega:P.default.createElement(C.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++,n=e.fecha_entrega),e.fecha_entrega>a.state.seguimientos[0].fecha_final&&e.fecha_entrega<=a.state.seguimiento.fecha_final&&(e.fecha_entrega!=n&&(t.push({key:G.default.v1(),fecha_entrega:P.default.createElement(C.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++),n=e.fecha_entrega)):2==a.state.numeroSeguimiento&&(o>=a.state.seguimientos[2].fecha_inicial&&o<=a.state.seguimientos[2].fecha_final&&e.fecha_entrega<=a.state.seguimientos[1].fecha_final&&"aprobado"!=e.estado_revision_mensual&&(e.fecha_entrega!=n&&t.push({key:G.default.v1(),fecha_entrega:P.default.createElement(C.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++,n=e.fecha_entrega),e.fecha_entrega>a.state.seguimientos[1].fecha_final&&(e.fecha_entrega!=n&&(t.push({key:G.default.v1(),fecha_entrega:P.default.createElement(C.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++),n=e.fecha_entrega))}),a.setState({dataSource_semanas:t})}})},a.obtener_seguimientos=function(){q.default.get("/api/seguimientos/obtener_seguimientos/"+a.state.proyecto.anteproyecto.id_periodo).then(function(e){200===e.status&&a.setState({seguimientos:e.data})})},a.getSemanasActividadesGenerales=function(){q.default.get("/api/alumno/getPlan_revision_semanal/"+a.state.proyecto.id).then(function(e){if(200===e.status){var t=[];e.data.map(function(e){e.subactividades.map(function(a){a.tareas.map(function(n){t.push({fecha_entrega:n.fecha_entrega,actividad:e.actividad,id:a.id_actividad_general})})})}),a.setState({dataSource_actividades_generales:t})}})},a.comprobarEstado=function(e){var t=!1;return"aprobado"===e&&(t=!0),t},a.disabledEvidencia=function(e){return!((0,I.default)((0,I.default)().format("YYYY-MM-DD")).diff(e,"days")<=4)},a.showObservacionBadge=function(e,t){a.setState({visibleShowObservacionBadge:!0,id_tarea:e,tipo_observacion:t})},a.showObservacion=function(e,t){a.setState({visibleShowObservacion:!0,id_tarea:e,tipo_observacion:t})},a.notificarResidenteRevisionFinalizada=function(e){q.default.post("/api/revision_semanal/notificacion_correo",{correo:e,mensaje:"Se le notifica que la revision de seguimiento ha concluido ",subject:"Notificación de revisión de seguimiento"}).then(function(e){200===e.status||O.default.error({title:"Error ",content:P.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){E.default.error(e)})},a.onChangeEstado=function(e,t,n){t=t?"aprobado":"no aprobado",q.default.post("/api/revision_semanal/update_estado_tarea",{id_tarea:e,estado:t,tipo_observacion:"revision_mensual"}).then(function(e){if(200===e.status){var t=a.state.dataSource_tareas;if(t=t.filter(function(e){return e.fecha_entrega===n&&"revision"===e.estado_revision_mensual}),1===t.length){console.log("proyecto "+JSON.stringify(a.state.proyecto));a.state.proyecto.anteproyecto.alumno.usuario.correo}else E.default.success("Estado actializado")}else E.default.error("¡No se puede actualizar el estado! la tarea tiene observaciones pendientes"),a.obtenerTareas()}).catch(function(e){E.default.error(e)})},a.btn_generar_formato_disabled=function(e){},a.generarFormatoRevision=function(){q.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/generar_formato_revision/").then(function(e){e.status})},a.notificarCorreccionObservacionesAsesorInterno=function(){a.obtenerTareas();var e=a.state.dataSource_observaciones_mensual;e=e.filter(function(e){return!1===e.estado_alumno}),0===e.length?q.default.post("/api/revision_semanal/notificacion_correo",{correo:a.state.proyecto.anteproyecto.asesor_interno.usuario.correo,mensaje:"Se le notifica que el residente "+a.state.proyecto.anteproyecto.alumno.nombre+" "+a.state.proyecto.anteproyecto.alumno.ap_paterno+" "+a.state.proyecto.anteproyecto.alumno.ap_materno+" ha concluido con la correción de observaciones ",subject:"Notificación de correción de revisión semanal"}).then(function(e){200===e.status?E.default.loading("Notificando a asesor interno  de correciones finalizadas..",2.5):O.default.error({title:"Error ",content:P.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){E.default.error(e)}):E.default.error("No se puede notificar hay observaciones pendientes")},a.expandedRowRenderTareas=function(e,t){var n=e.props.children,r=[];V=t;var o=[{width:"5%",title:"No. orden",dataIndex:"id_orden",key:"id_orden"},{width:"30%",title:"Tarea",dataIndex:"tarea",key:"tarea"}],l=(0,I.default)().format("YYYY-MM-DD"),i=(0,I.default)(a.state.seguimiento.fecha_inicial).format("YYYY-MM-DD"),u=(0,I.default)(a.state.seguimiento.fecha_final).format("YYYY-MM-DD");return l>=i&&l<=u?(a.state.dataSource_tareas.map(function(e){e.fecha_entrega===n&&r.push(e)}),r.map(function(e){var t=a.state.dataSource_observaciones_mensual;t=t.filter(function(t){return t.id_tarea===e.id}),0==t.length&&"aprobado"!=e.estado_revision_semanal&&q.default.post("/api/proyecto/observacion",{observacion:"Tarea pendiente, no esta aprobado por el asosor interno ",tipo_observacion:"revision_mensual",id_tarea:e.id,id_asesor_interno:a.state.usuario.id_docente}).then(function(t){200===t.status?q.default.put("/api/revision_mensual/updateEstadoTareaAddObservacion",{id_tarea:e.id}).then(function(e){200===e.status&&a.obtenerTareas()}):O.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:P.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){E.default.error(e)})}),o.push({width:"12%",title:"Estado mensual",dataIndex:"estado_revision_mensual",key:"estado_revision_mensual",render:function(e,t){return P.default.createElement(h.default,{onChange:function(e){return a.onChangeEstado(t.id,e,t.fecha_entrega)},defaultChecked:a.comprobarEstado(t.estado_revision_mensual),checkedChildren:"Aprobada",unCheckedChildren:P.default.createElement(y.default,{type:"cross"})})}},{width:"12%",title:"Estado semanal",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return P.default.createElement(h.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:P.default.createElement(y.default,{type:"cross"})})}},{width:"6%",title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return P.default.createElement(C.default,{id:"PopoverEvidencia",content:a.evidencias(t.id),title:"Evidencias",trigger:"click"},P.default.createElement(x.default,{icon:"file-pdf"}))}},{width:"10%",title:"Observaciones seguimiento",dataIndex:"observaciones",key:"observaciones",render:function(e,t){return a.state.dataSource_observaciones_mensual.length>=1?P.default.createElement(m.default,null,P.default.createElement("span",null,P.default.createElement(b.default,{count:a.state.dataSource_observaciones_mensual.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},P.default.createElement(x.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,"revision_mensual")}},"Ver")))):null}},{width:"10%",title:"Observaciones asesor interno",dataIndex:"observaciones",key:"observacionesAI",render:function(e,t){return a.state.dataSource_observaciones_semanal.length>=1?P.default.createElement(m.default,null,P.default.createElement("span",null,P.default.createElement(b.default,{count:a.state.dataSource_observaciones_semanal.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},P.default.createElement(x.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,"revision_semanal")}},"Ver")))):null}}),B=!1):l>u?(a.state.dataSource_tareas.map(function(e){e.fecha_entrega===n&&r.push(e)}),o.push({width:"12%",title:"Estado mensual",dataIndex:"estado_revision_mensual",key:"estado_revision_mensual",render:function(e,t){return P.default.createElement(h.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_mensual),checkedChildren:"Aprobada",unCheckedChildren:P.default.createElement(y.default,{type:"cross"})})}},{width:"12%",title:"Estado semanal",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return P.default.createElement(h.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:P.default.createElement(y.default,{type:"cross"})})}},{width:"6%",title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return P.default.createElement(C.default,{id:"PopoverEvidencia",content:a.evidencias(t.id),title:"Evidencias",trigger:"click"},P.default.createElement(x.default,{icon:"file-pdf"}))}},{width:"10%",title:"Observaciones seguimiento",dataIndex:"observaciones",key:"observaciones",render:function(e,t){return a.state.dataSource_observaciones_mensual.length>=1?P.default.createElement(m.default,null,P.default.createElement("span",null,P.default.createElement(b.default,{count:a.state.dataSource_observaciones_mensual.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},P.default.createElement(x.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,"revision_mensual")}},"Ver")))):null}},{width:"10%",title:"Observaciones asesor interno",dataIndex:"observaciones",key:"observacionesAI",render:function(e,t){return a.state.dataSource_observaciones_semanal.length>=1?P.default.createElement(m.default,null,P.default.createElement("span",null,P.default.createElement(b.default,{count:a.state.dataSource_observaciones_semanal.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},P.default.createElement(x.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,"revision_semanal")}},"Ver")))):null}}),B=!0):i>l&&(a.state.dataSource_tareas.map(function(e){e.fecha_entrega===n&&r.push(e)}),o.push({width:"12%",title:"Estado mensual",dataIndex:"estado_revision_mensual",key:"estado_revision_mensual",render:function(e,t){return P.default.createElement(h.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_mensual),checkedChildren:"Aprobada",unCheckedChildren:P.default.createElement(y.default,{type:"cross"})})}},{width:"12%",title:"Estado semanal",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return P.default.createElement(h.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:P.default.createElement(y.default,{type:"cross"})})}},{width:"6%",title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return P.default.createElement(C.default,{id:"PopoverEvidencia",content:a.evidencias(t.id),title:"Evidencias",trigger:"click"},P.default.createElement(x.default,{icon:"file-pdf"}))}},{width:"10%",title:"Observaciones seguimiento",dataIndex:"observaciones",key:"observaciones",render:function(e,t){return P.default.createElement("div",null,"No se ha cumplido la fecha de seguimiento")}},{width:"10%",title:"Observaciones asesor interno",dataIndex:"observaciones",key:"observacionesAI",render:function(e,t){return a.state.dataSource_observaciones_semanal.length>=1?P.default.createElement(m.default,null,P.default.createElement("span",null,P.default.createElement(b.default,{count:a.state.dataSource_observaciones_semanal.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},P.default.createElement(x.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,"revision_semanal")}},"Ver")))):null}}),B=!0),P.default.createElement("div",null,P.default.createElement(s.default,{rowClassName:function(e,t){return"revision"===e.estado_revision_mensual?"ant-table-content-gris":"aprobado"===e.estado_revision_mensual?"ant-table-content-verde":"ant-table-content-rojo"},title:function(){return"Lista de tareas"},columns:o,dataSource:r}))},a.handleCancel=function(){a.setState({visibleEvidencia:!1})},a.ocultarShowObservacionBadge=function(){a.setState({visibleShowObservacionBadge:!1})},a.ocultarShowObservacion=function(){a.setState({visibleShowObservacion:!1})},a.showAddObservacion=function(){a.setState({visibleAddObservacion:!0})},a.ocultarAddObservacion=function(){a.setState({visibleAddObservacion:!1})},a.state={proyecto:e.proyecto,seguimiento:e.seguimiento,seguimientos:e.seguimientos,numeroSeguimiento:e.numeroSeguimiento,visibleEvidencia:!1,usuario:e.usuario,dataSource_tareas:[],dataSource_semanas:[],dataSource_evidencias:[],dataSource_actividades_generales:[],filename_evidencia:null,id_evidencia:null,dataSource_observaciones_mensual:[],dataSource_observaciones_semanal:[],visibleShowObservacionBadge:!1,visibleShowObservacion:!1,id_tarea:null,tipo_observacion:null,visibleAddObservacion:!1},a}return i(t,e),j(t,[{key:"render",value:function(){var e=this,t=(this.state.proyecto,[{width:"85%",title:"Semana",dataIndex:"fecha_entrega",key:"fecha_entrega"},{width:"15%",title:"Observaciones",dataIndex:"observaciones",key:"observaciones",render:function(t,a){return e.state.dataSource_observaciones_mensual.length>=1?P.default.createElement(m.default,null,P.default.createElement("span",null,P.default.createElement(b.default,{count:e.state.dataSource_observaciones_mensual.filter(function(e){return!e.estado&&e.fecha_entrega===a.fecha_entrega.props.children}).length}))):null}}]);return P.default.createElement("div",null,P.default.createElement(m.default,null,P.default.createElement(c.default,{xs:24,lg:24},P.default.createElement(s.default,{title:function(){return"Lista de semanas"},bordered:!0,columns:t,dataSource:this.state.dataSource_semanas,expandedRowRender:function(t){return e.expandedRowRenderTareas(t.fecha_entrega,t.numero_semana)},key:"Tabla"}))),P.default.createElement(O.default,{title:"Evidencia",visible:this.state.visibleEvidencia,onCancel:this.handleCancel,maskClosable:!0,width:"90%",footer:[P.default.createElement(x.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},P.default.createElement(m.default,null,P.default.createElement(c.default,{span:18},P.default.createElement("iframe",{id:"evidencia",style:{width:"100%",height:500},src:"/api/revision_semanal/get_evidencia/"+this.state.filename_evidencia})),P.default.createElement(c.default,{span:6},P.default.createElement(x.default,{icon:"plus",type:"primary",disabled:B,onClick:this.showAddObservacion},"Agregar observación"),P.default.createElement("br",null),P.default.createElement("br",null),P.default.createElement(x.default,{icon:"eye",type:"primary",onClick:function(){return e.showObservacion(e.state.id_tarea,"revision_semanal")}},"Ver observaciones semanal"),P.default.createElement("br",null),P.default.createElement("br",null),P.default.createElement(x.default,{icon:"eye",type:"primary",onClick:function(){return e.showObservacion(e.state.id_tarea,"revision_mensual")}},"Ver observaciones mensual")))),P.default.createElement(N.default,{visible:this.state.visibleAddObservacion,actulizarCantidadObservacionesAddObservacion:this.obtenerTareas,tipo:"revision_mensual",id_tarea:this.state.id_tarea,usuario:this.state.usuario,ocultarAddObservacion:this.ocultarAddObservacion,rutaUpdateObservacion:"/api/revision_mensual/updateEstadoTareaAddObservacion"}),P.default.createElement(T.default,{visible:this.state.visibleShowObservacionBadge,tipo:this.state.tipo_observacion,id_tarea:this.state.id_tarea,ocultarShowObservacion:this.ocultarShowObservacionBadge,actulizarCantidadObservaciones:this.obtenerTareas,disabledEstadoAsesorInterno:B}),P.default.createElement(F.default,{visible:this.state.visibleShowObservacion,tipo:this.state.tipo_observacion,id_tarea:this.state.id_tarea,ocultarShowObservacion:this.ocultarShowObservacion,actulizarCantidadObservaciones:this.obtenerTareas,disabledEstadoAsesorInterno:B}))}}]),t}(A.Component);t.default=U},1307:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(47),a(48)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(16),a(17)),g=n(y),E=(a(15),a(21)),w=n(E),O=(a(19),a(20)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=(a(6),a(9)),A=n(j),P=a(34),R=n(P),I=a(1),M=n(I),T=(S.default.Item,w.default.Group,g.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.state.ocultarShowObservacion()},a.saveFormRef=function(e){a.form=e},a.onChangeObservacion=function(e,t){A.default.put("/api/seguimiento/onChange_observacion",{id:e,estado:t}).then(function(e){200===e.status?(_.default.success("Los cambios se han guardado."),a.state.actulizarCantidadObservaciones()):_.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.state={visible:e.visible,tipo:e.tipo,id_tarea:e.id_tarea,dataSource_observaciones:[],ocultarShowObservacion:e.ocultarShowObservacion,actulizarCantidadObservaciones:e.actulizarCantidadObservaciones,disabledEstadoAsesorInterno:e.disabledEstadoAsesorInterno},a}return l(t,e),C(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.visible,n=e.tipo,r=e.id_tarea,o=e.ocultarShowObservacion,l=e.actulizarCantidadObservaciones,i=e.disabledEstadoAsesorInterno;this.setState({visible:a,tipo:n,id_tarea:r,ocultarShowObservacion:o,actulizarCantidadObservaciones:l,disabledEstadoAsesorInterno:i}),A.default.get("/api/plan_de_trabajo/"+r+"/"+n+"/get_observaciones").then(function(e){if(200===e.status){var a=e.data.map(function(e){return{key:R.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_creacion:(0,M.default)(e.createdAt).utc().format("LL")}});t.setState({dataSource_observaciones:a})}})}},{key:"render",value:function(){var e=this,t=[{width:140,title:"Estado revisor",dataIndex:"estado",key:"estado",render:function(t,a){return x.default.createElement(p.default,{disabled:e.state.disabledEstadoAsesorInterno,onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.estado,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:570,title:"Observación",dataIndex:"observacion",key:"observacion"},{width:120,title:"Estado residente",dataIndex:"estado_alumno",key:"estado_alumno",render:function(e,t){return x.default.createElement(p.default,{disabled:!0,defaultChecked:t.estado_alumno,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:180,title:"Fecha de creación",dataIndex:"fecha_creacion",key:"createdAT"}];return x.default.createElement("div",null,x.default.createElement(u.default,{visible:this.state.visible,title:"Observación  "+this.state.tipo,width:1e3,onCancel:this.handleCancel,footer:[x.default.createElement(f.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},x.default.createElement(S.default,{layout:"vertical"},x.default.createElement(d.default,{dataSource:this.state.dataSource_observaciones,className:"full-width",columns:t}))))}}]),t}(k.Component));t.default=T},1308:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(47),a(48)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(16),a(17)),g=n(y),E=(a(15),a(21)),w=n(E),O=(a(19),a(20)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=(a(6),a(9)),A=n(j),P=a(34),R=n(P),I=a(1),M=n(I),T=(S.default.Item,w.default.Group,g.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.state.ocultarShowObservacion()},a.saveFormRef=function(e){a.form=e},a.onChangeObservacion=function(e,t){A.default.put("/api/proyecto/observacion",{id:e,estado:t}).then(function(e){200===e.status?(_.default.success("Los cambios se han guardado."),a.props.actulizarCantidadObservaciones()):_.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.state={visible:e.visible,tipo:e.tipo,id_tarea:e.id_tarea,dataSource_observaciones:[],actulizarCantidadObservaciones:e.actulizarCantidadObservaciones,disabledEstadoAsesorInterno:e.disabledEstadoAsesorInterno,ocultarShowObservacion:e.ocultarShowObservacion},a}return l(t,e),C(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.visible,n=e.tipo,r=e.id_tarea,o=e.disabledEstadoAsesorInterno,l=e.ocultarShowObservacion;this.setState({visible:a,tipo:n,id_tarea:r,disabledEstadoAsesorInterno:o,ocultarShowObservacion:l}),A.default.get("/api/plan_de_trabajo/"+r+"/"+n+"/get_observaciones").then(function(e){if(200===e.status){var a=e.data.map(function(e){return{key:R.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_creacion:(0,M.default)(e.createdAt).utc().format("LL")}});t.setState({dataSource_observaciones:a})}})}},{key:"render",value:function(){var e=this,t=[{width:140,title:"Estado asesor interno",dataIndex:"estado",key:"estado",render:function(t,a){return x.default.createElement(p.default,{disabled:e.state.disabledEstadoAsesorInterno,onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.estado,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:570,title:"Observación",dataIndex:"observacion",key:"observacion"},{width:120,title:"Estado residente",dataIndex:"estado_alumno",key:"estado_alumno",render:function(e,t){return x.default.createElement(p.default,{disabled:!0,defaultChecked:t.estado_alumno,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:180,title:"Fecha de creación",dataIndex:"fecha_creacion",key:"createdAT"}];return x.default.createElement("div",null,x.default.createElement(u.default,{visible:this.state.visible,title:"Observación  "+this.state.tipo,width:1e3,onCancel:this.handleCancel,footer:[x.default.createElement(f.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},x.default.createElement(S.default,{layout:"vertical"},x.default.createElement(d.default,{dataSource:this.state.dataSource_observaciones,className:"full-width",columns:t}))))}}]),t}(k.Component));t.default=T},1309:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.tipo,l=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar observación  "+o,okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Descripción de la observación"},l("observacion",{rules:[{required:!0,message:"La observación debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(y.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la observacion...",rows:4})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1}),a.state.ocultarAddObservacion()},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/proyecto/observacion",{observacion:n.observacion,tipo_observacion:a.state.tipo,id_tarea:a.state.id_tarea,id_asesor_interno:a.state.usuario.id_docente}).then(function(t){200===t.status?(u.default.success("Observación agregada correctamente"),e.resetFields(),a.state.actulizarCantidadObservacionesAddObservacion(),E.default.put(a.state.rutaUpdateObservacion,{id_tarea:a.state.id_tarea}).then(function(e){200===e.status||u.default.error("No se han guardado los cambios, reportar error al administrador.")})):d.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,tipo:e.tipo,id_tarea:e.id_tarea,usuario:e.usuario,actulizarCantidadObservacionesAddObservacion:e.actulizarCantidadObservacionesAddObservacion,ocultarAddObservacion:e.ocultarAddObservacion,rutaUpdateObservacion:e.rutaUpdateObservacion},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.tipo,a=e.id_tarea,n=e.usuario,r=e.ocultarAddObservacion,o=e.actulizarCantidadObservacionesAddObservacion;this.setState({visible:e.visible,tipo:t,id_tarea:a,usuario:n,ocultarAddObservacion:r,actulizarCantidadObservacionesAddObservacion:o})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,tipo:this.state.tipo}))}}]),t}(_.Component);t.default=S},1310:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(39),a(40)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(62),a(63)),f=n(s),m=(a(143),a(144)),p=n(m),b=(a(24),a(25)),v=n(b),h=(a(22),a(23)),_=n(h),y=(a(12),a(13)),g=n(y),E=(a(29),a(28)),w=n(E),O=(a(16),a(17)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=a(9),A=n(j),P=a(79),R=(n(P),a(1)),I=n(R),M=S.default.Option,T=S.default.OptGroup,D=w.default.Group,F=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){A.default.get("/api/periodo/"+e+"/dictamen").then(function(e){if(200===e.status)if(null!=e.data.anteproyectos){console.log(e.data);var t=e.data.anteproyectos.map(function(e,t){return{key:t+1,id:e.id,no_control_alumno:e.alumno.no_control,nombre_alumno:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,sexo_alumno:e.alumno.sexo,nombre_anteproyecto:e.nombre,nombre_titular_empresa:e.asesor_externo.empresa.titular.nombre+" \n "+e.asesor_externo.empresa.titular.puesto,asesor_interno:e.asesor_interno.titulo+" "+e.asesor_interno.nombre+" "+e.asesor_interno.ap_paterno+" "+e.asesor_interno.ap_materno,id_asesor_interno:e.asesor_interno.id,asesor_externo:e.asesor_externo.nombre,dictamen:e.dictamen.toUpperCase(),fecha_dictamen:e.updatedAt}});a.setState({periodo:e.data,dictamen_anteproyectos:t})}else a.setState({periodo:e.data,dictamen_anteproyectos:null})})},a.handleAsesorInterno=function(e,t){A.default.put("/api/anteproyecto/set_asesor_interno",{id_asesor_interno:e,id_anteproyecto:t}).then(function(e){200===e.status?g.default.success("Anteproyecto actualizado!"):_.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:x.default.createElement("div",null,e.data.errores),onOk:function(){}})})},a.updatePeriodo=function(){A.default.get("/api/periodo/"+a.state.periodo.id+"/dictamen").then(function(e){if(200===e.status)if(null!=e.data.anteproyectos){var t=e.data.anteproyectos.map(function(e,t){return{key:t+1,id:e.id,no_control_alumno:e.alumno.no_control,nombre_alumno:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,sexo_alumno:e.alumno.sexo,nombre_anteproyecto:e.nombre,nombre_titular_empresa:e.asesor_externo.empresa.titular.nombre+" \n "+e.asesor_externo.empresa.titular.puesto,asesor_interno:e.asesor_interno.titulo+" "+e.asesor_interno.nombre+" "+e.asesor_interno.ap_paterno+" "+e.asesor_interno.ap_materno,id_asesor_interno:e.asesor_interno.id,asesor_externo:e.asesor_externo.nombre,dictamen:e.dictamen.toUpperCase(),fecha_dictamen:e.updatedAt}});a.setState({periodo:e.data,dictamen_anteproyectos:t})}else a.setState({periodo:e.data,dictamen_anteproyectos:null})})},a.handleGenerarDictamen=function(){var e=a.state.periodo;A.default.post("/api/periodo/generar_dictamen",{id_periodo:e.id}).then(function(t){200===t.status?A.default.get("/api/dictamen/generar/word/"+e.id).then(function(e){200===e.status&&(g.default.success("Dictamen generado satisfactoriamente!"),a.updatePeriodo())}):_.default.error({title:"Error al intentar generar el dictamen",content:x.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){g.default.error(e)})},a.state={usuario:e.usuario,departamento:e.departamento,periodo:null,dictamen_anteproyectos:null,docentes:null},a}return l(t,e),C(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.departamento,n=t.dictamen_anteproyectos,r=t.periodo,o=(0,I.default)().format("YYYY-MM-DD"),l=[{width:50,fixed:"left",className:"center-text",title:"NUM",dataIndex:"key",key:"key"},{width:100,fixed:"left",className:"center-text",title:"CONTROL",dataIndex:"no_control_alumno",key:"no_control_alumno"},{width:200,fixed:"left",className:"center-text",title:"NOMBRE DEL ESTUDIANTE",dataIndex:"nombre_alumno",key:"nombre_alumno"},{className:"center-text",title:"S",dataIndex:"sexo_alumno",key:"sexo_alumno"},{className:"center-text",title:"ANTEPROYECTO",dataIndex:"nombre_anteproyecto",key:"nombre_anteproyecto"},{className:"center-text",title:"NOMBRE Y CARGO DEL TITULAR DE LA EMPRESA",dataIndex:"nombre_titular_empresa",key:"nombre_titular_empresa"},{title:"ASESORES",children:[{width:300,className:"center-text",title:"INTERNO",dataIndex:"asesor_interno",key:"asesor_interno",render:function(t,a){return x.default.createElement(S.default,{placeholder:"Seleccione al asesor interno",style:{width:"100%"},onChange:function(t){return e.handleAsesorInterno(t,a.id)},defaultValue:a.id_asesor_interno?""+a.id_asesor_interno:null},null!==r?r.carrera.docentes_carreras.map(function(e,t){return x.default.createElement(M,{key:t,value:""+e.docente.id},e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno)}):null)}},{className:"center-text",title:"EXTERNO",dataIndex:"asesor_externo",key:"asesor_externo"}]},{className:"center-text",title:"DICTAMEN",dataIndex:"dictamen",key:"dictamen"},{className:"center-text",title:"FECHA DE DICTAMEN",dataIndex:"fecha_dictamen",key:"fecha_dictamen"}],i=null,c=null;return null!=r&&(i=x.default.createElement(v.default,{xs:24,lg:24},x.default.createElement("h2",{style:{textAlign:"center"}},"DEPARTAMENTO DE ",r.carrera.departamento.nombre.toUpperCase()),x.default.createElement("h3",{style:{textAlign:"center"}},"CARRERA: ",r.carrera.nombre.toUpperCase())),c=o>=r.fecha_inicio&&o<r.fecha_fin?null===r.filename_dictamen?x.default.createElement(p.default,{title:x.default.createElement("div",null,x.default.createElement("p",null,"Al generar el dictamen se eliminaran los anteproyectos que no fueron aceptados, "),x.default.createElement("p",null,"¿Esta de acuerdo?")),onConfirm:function(){return e.handleGenerarDictamen()},okText:"Estoy seguro",cancelText:"Cancelar"},x.default.createElement(w.default,{type:"primary",icon:"file-pdf"}," Generar dictamen ")):x.default.createElement(D,null,x.default.createElement(p.default,{title:x.default.createElement("div",null,x.default.createElement("p",null,"Al generar el dictamen se eliminaran los anteproyectos que no fueron aceptados"),x.default.createElement("p",null," y se sobrescribira el nuevo dictamen"),x.default.createElement("p",null,"¿Esta de acuerdo?")),onConfirm:function(){return e.handleGenerarDictamen()},okText:"Estoy seguro",cancelText:"Cancelar"},x.default.createElement(w.default,{icon:"file-pdf"}," Generar dictamen ")),x.default.createElement(w.default,{type:"primary",icon:"eye-o"}," ",x.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamens/pdf/"+r.filename_dictamen},"Ver"))):null===r.filename_dictamen?x.default.createElement(f.default,{message:"No se ha generado el dictamen y solo se puede generar en las fechas "+r.fecha_inicio+" al "+r.fecha_fin,type:"info",showIcon:!0}):x.default.createElement(w.default,{type:"primary",icon:"eye-o"}," ",x.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamens/pdf/"+r.filename_dictamen},"Ver dictamen"))),x.default.createElement("div",null,x.default.createElement(d.default,{type:"flex"},x.default.createElement(v.default,{xs:24,lg:6},x.default.createElement("p",null,"Seleccione el periodo"),x.default.createElement(S.default,{onChange:this.handleChangePeriodo,style:{width:"100%"}},a.carreras.map(function(e,t){return x.default.createElement(T,{key:t,label:e.nombre},e.periodos.map(function(e,a){return x.default.createElement(M,{key:t+"-"+a,value:""+e.id},e.periodo+" "+e.ciclo)}))})))),x.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},i),x.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},x.default.createElement(v.default,{xs:24,lg:24,style:{marginBottom:20}},c),x.default.createElement(v.default,{xs:24,lg:24},x.default.createElement(u.default,{bordered:!0,title:function(){return"Dictamen"},dataSource:n,className:"full-width",columns:l,pagination:{pageSize:8},scroll:{x:1700}}))))}}]),t}(k.Component);t.default=F},1315:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(78),a(68)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(69),a(70)),p=n(m),b=(a(15),a(21)),v=n(b),h=(a(29),a(28)),_=n(h),y=(a(39),a(40)),g=n(y),E=(a(22),a(23)),w=n(E),O=(a(47),a(48)),S=n(O),C=(a(30),a(18)),k=n(C),x=(a(62),a(63)),j=n(x),A=(a(12),a(13)),P=n(A),R=(a(16),a(17)),I=n(R),M=(a(55),a(56)),T=n(M),D=(a(19),a(20)),F=n(D),Y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),N=a(0),z=n(N),G=a(9),L=n(G),q=a(1),B=n(q),V=a(34),U=n(V),W=a(255),H=(n(W),a(1316)),K=(n(H),a(1317)),J=n(K),X=a(1319),Q=n(X),Z=a(1321),$=n(Z),ee=F.default.Item,te=T.default.TabPane,ae=(I.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showAgregarObservacionPlanTrabajo=function(){a.state.proyecto;a.setState({tipo_observacion:"plan_de_trabajo",visibleAddObservacion:!0,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1})},a.showAgregarObservacionCronograma=function(){a.state.proyecto;a.setState({tipo_observacion:"cronograma",visibleAddObservacion:!0,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1})},a.onChangeObservacion=function(e,t){L.default.put("/api/proyecto/observacion",{id_observacion:e,solucionada:t}).then(function(e){200===e.status?P.default.success("Los cambios se han guardado."):P.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.onChangeTabSeguimiento=function(e){var t=a.state,n=t.seguimientos,r=t.usuario,o=(0,B.default)().format("YYYY-MM-DD");if("seguimiento_final"===e);else{var l=n.find(function(t){return t.id==e});o>=l.seguimiento.fecha_inicial&&o<=l.seguimiento.fecha_final?a.setState({renderSeguimiento:z.default.createElement(J.default,{updateProyecto:a.updateProyecto.bind(a),updateSeguimientos:a.updateSeguimientos.bind(a),usuario:r,seguimiento:l}),visibleEvaluacionAsesorInterno:!1}):a.setState({renderSeguimiento:z.default.createElement(j.default,{message:"No puede acceder al seguimiento,\n Fecha inicial: "+(0,B.default)(l.seguimiento.fecha_inicial,"YYYY-MM-DD").format("LL")+" - Fecha final: "+(0,B.default)(l.seguimiento.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0}),visibleEvaluacionAsesorInterno:!1})}},a.onChangeTab=function(e){var t=a.state.proyecto;"asesorias"===e?L.default.get("/api/proyecto/"+t.id+"/asesorias").then(function(e){200===e.status&&a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1,asesorias:e.data})}):"seguimientos"===e&&L.default.get("/api/proyecto/"+t.id+"/seguimientos").then(function(e){200===e.status&&a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,visibleEvaluacionAsesorInterno:!1,seguimientos:e.data,nombre:e.data.proyecto.alumno.no_control})})},a.datosDocente=function(){var e=a.state.usuario;L.default.get("/api/docente/informacion/"+e.id).then(function(e){a.setState({nombre:e.data.titulo+""+e.data.nombre+" "+e.data.ap_paterno+" "+e.data.ap_materno})})},a.datosEmpresa=function(){var e=a.state.proyecto;console.log(e.anteproyecto)},a.updateSeguimientos=function(){var e=a.state.proyecto;L.default.get("/api/proyecto/"+e.id+"/seguimientos").then(function(e){200===e.status&&(console.warn("a>",e.data),a.setState({visibleAddObservacion:!1,visibleAddSolucion:!1,seguimientos:e.data,visibleEvaluacionAsesorInterno:!1}))})},a.showAddSolucion=function(e){a.setState({visibleEvaluacionAsesorInterno:!1,visibleAddObservacion:!1,visibleAddSolucion:!0,id_asesoria:e})},a.checkSolucion=function(e,t){L.default.put("/api/proyecto/asesoria/solucion_recomendada",{id_solucion:t,solucionado:e}).then(function(e){200===e.status?P.default.success("Se ha actualizado la solución."):P.default.error("Surgio un error al actualizar la solución. favor de reportarlo con el administrador.")})},a.checkPermitirGenerarFormato=function(e,t){L.default.put("/api/proyecto/asesoria_autorizar_formato",{permitir_generar_formato:e,id_asesoria:t}).then(function(e){200===e.status?P.default.success("Se ha realizado el cambio de autorizar el formato de asesoría"):P.default.error("Surgio un error al actualizar la autorización de la asesoría, favor de reportarlo con el administrador.")})},a.showSoluciones=function(e){L.default.get("/api/proyecto/asesoria/"+e+"/soluciones_recomendadas").then(function(e){if(200===e.status){console.warn("soluciones",e.data);var t=[{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(e,t){return z.default.createElement(S.default,{defaultChecked:t.solucionado,checkedChildren:"Solucionado",onChange:function(e){return a.checkSolucion(e,t.id)},unCheckedChildren:z.default.createElement(k.default,{type:"cross"})})}},{title:"Solución",dataIndex:"solucion",key:"solucion"}],n=e.data.map(function(e,t){return{key:t,id:e.id,solucionado:e.solucionado,solucion:e.solucion}});w.default.info({width:800,title:"Soluciones recomendadas",content:z.default.createElement("div",null,z.default.createElement(g.default,{size:"small",columns:t,dataSource:n,pagination:{pageSize:5}})),onOk:function(){}})}})},a.updateTipoAsesoria=function(e,t){L.default.put("/api/asesoria/tipo",{id_asesoria:e,tipo:t}).then(function(e){200===e.status?P.default.success("El tipo de asesoría se ha actualizado satisfactoriamente!"):P.default.error("Ops, hemos tenido un problema, favor de reportar al administrador.")})},a.showEvaluacionAsesorInterno=function(e){"2009-2010"===e.plan_estudios?L.default.get("/api/proyecto/evaluacionAnexoIII/criterios/asesor_interno/").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visibleEvaluacionAsesorInterno:!0,visibleAddObservacion:!1,visibleAddSolucion:!1}):P.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")}):"2015-2016"===e.plan_estudios&&L.default.get("/api/proyecto/evaluacionAnexoXXX/criterios/asesor_interno/").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visibleEvaluacionAsesorInterno:!0,visibleAddObservacion:!1,visibleAddSolucion:!1}):P.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")})},a.autorizarCartaDeLiberacionAsesorInterno=function(e,t,a,n,r){L.default.put("/api/proyecto/autorizar_carta_liberacion/asesor_interno",{id_proyecto:t,autorizar:e}).then(function(e){200===e.status?P.default.success("Se ha actualizado la autorización de la carta de liberación."):P.default.warn("Error al autorizar la carta de liberación consultar al administrador.")})},a.updateProyecto=function(){a.props.updateProyecto()},a.actualizacionASTF=function(e){L.default.put("/api/alumno/situacion",{id:e,estado:"termino satisfactoriamente"}).then(function(e){(e.status=200)?console.log("ok se cambio el estado "):P.default.error("Ups ha visto un problema, favor de contactar al administrador")})},a.showPlan=function(){a.setState({visiblePlanDeTrabajo:!0})},a.state={usuario:e.usuario,proyecto:e.proyecto,visibleAddObservacion:!1,tipo_observacion:"",observaciones:[],asesorias:[],seguimientos:[],visibleAddSolucion:!1,id_asesoria:null,renderSeguimiento:null,visibleEvaluacionAsesorInterno:!1,criterios_evaluacion:[],nombre:null,visiblePlanDeTrabajo:!1},a}return l(t,e),Y(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({usuario:e.usuario,proyecto:e.proyecto,visibleAddObservacion:!1,tipo_observacion:"",observaciones:[],asesorias:[],visibleAddSolucion:!1,id_asesoria:null,seguimientos:[],renderSeguimiento:null,visibleEvaluacionAsesorInterno:!1,visiblePlanDeTrabajo:!1})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.datosDocente()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.nombre,t.criterios_evaluacion,t.visibleEvaluacionAsesorInterno,t.proyecto),n=(t.visibleAddObservacion,t.tipo_observacion,t.usuario,t.observaciones),r=t.asesorias,o=(t.id_asesoria,t.visibleAddSolucion,t.seguimientos),l=t.renderSeguimiento,i=0,c=a.anteproyecto.alumno.situacion[0].estado,s=a.anteproyecto.alumno.id;console.log(c+"--"+s),o.map(function(e,t){"no cumplio"===e.estado_seguimiento&&(i+=1)});n.filter(function(e){return"plan_de_trabajo"===e.tipo}).map(function(e){return{key:U.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),n.filter(function(e){return"cronograma"===e.tipo}).map(function(e){return{key:U.default.v1(),id:e.id,observacion:e.observacion,solucionada:e.solucionada}}),r.map(function(e){return{key:U.default.v1(),id:e.id,fecha:(0,B.default)(e.fecha,"YYYY-MM-DD").format("ll"),temas_a_asesorar:e.temas_a_asesorar,url_avance:e.url_avance,soluciones_recomendadas:"on",permitir_generar_formato:e.permitir_generar_formato,tipo:e.tipo}});return z.default.createElement("div",null,z.default.createElement(T.default,{animated:!0,key:".103.",defaultActiveKey:"1",onChange:function(t){return e.onChangeTab(t)}},z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"book"}),"Proyecto"),key:"proyecto"},z.default.createElement(F.default,null,z.default.createElement(ee,{label:"Título: "},z.default.createElement(v.default,{value:a.anteproyecto.nombre,readOnly:!0})),z.default.createElement(ee,{label:"Objetivo general: "},z.default.createElement(v.default,{value:a.anteproyecto.objetivo_general,readOnly:!0})),z.default.createElement(ee,{label:"Anteproyecto: "},z.default.createElement(p.default,{listType:"picture-card",fileList:[{uid:-1,name:"anteproyecto.pdf",status:"done",url:"/api/anteproyecto/pdf/"+a.anteproyecto.path_file_anteproyecto}]}))),z.default.createElement(d.default,{className:"border-top"},z.default.createElement(f.default,{xs:24,lg:6},z.default.createElement(_.default,{type:"primary",onClick:this.showPlan},"Plan de trabajo"))),z.default.createElement(d.default,{className:"border-top"},z.default.createElement(f.default,{xs:24,lg:24},z.default.createElement("a",{href:"/api/plan_de_trabajo/"+this.state.proyecto.id+"/get_cronograma",target:"_blank"},z.default.createElement(_.default,{icon:"file-pdf",disabled:this.state.disabledDescargarPlan,type:"primary"},"Generar cronograma de actividades"))))),z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"solution"}),"Revisión semanal"),key:"revisionSemanal"},z.default.createElement(d.default,null,z.default.createElement(Q.default,{proyecto:this.state.proyecto,usuario:this.state.usuario,nombre_asesor_interno:this.state.nombre}))),z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"calendar"}),"Seguimientos"),key:"seguimientos"},z.default.createElement(T.default,{animated:!0,key:"-9kbasñdjboubj·#das9",tabPosition:"left",defaultActiveKey:"0",onChange:function(t){return e.onChangeTabSeguimiento(t)}},o.map(function(e,t){return z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"schedule"}),"Seguimiento "+(t+1)),key:e.id},l)}),z.default.createElement(te,{tab:z.default.createElement("span",null,z.default.createElement(k.default,{type:"schedule"}),"Seguimiento final"),key:"seguimiento_final"},z.default.createElement(d.default,{gutter:20},z.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},a.url_informe_tecnico?z.default.createElement("div",null,z.default.createElement("p",null,"Link del informe técnico: "),z.default.createElement(p.default,{defaultFileList:[{uid:-2,name:"informe_tecnico",status:"done",url:a.url_informe_tecnico}]})):z.default.createElement(j.default,{message:"El alumno no ha subido su informe técnico",type:"warning",showIcon:!0})),z.default.createElement(f.default,{xs:24,lg:24},a.url_informe_tecnico?z.default.createElement("div",null,z.default.createElement(_.default,{style:{marginBottom:30},onClick:function(){return e.showEvaluacionAsesorInterno(a.anteproyecto.alumno)},icon:"bars",type:"primary"},"Realizar evaluación"),z.default.createElement("h4",{style:{marginBottom:10}},"Autorizar carta de liberación"),z.default.createElement(u.default,{title:null===a.id_evaluacion_asesor_interno?"Antes de autorizar la carta de liberación debe realizar la evaluación.":""},z.default.createElement(S.default,{disabled:null===a.id_evaluacion_asesor_interno,defaultChecked:a.autorizar_carta_liberacion_asesor_interno,checkedChildren:"Autorizado",onChange:function(t){return e.autorizarCartaDeLiberacionAsesorInterno(t,a.id,s,c,i)},unCheckedChildren:z.default.createElement(k.default,{type:"cross"})}))):z.default.createElement(j.default,{message:"El alumno debe subir su informe técnico para continuar con el proceso de evaluación",type:"warning",showIcon:!0}))))))),z.default.createElement($.default,{visible:this.state.visiblePlanDeTrabajo,proyecto:this.state.proyecto,usuario:this.state.usuario,nombre_asesor_interno:this.state.nombre}))}}]),t}(N.Component));t.default=ae},1316:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar solución recomendada",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Solución"},o("solucion",{rules:[{required:!0,message:"La solucion debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(y.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la solución..",rows:4})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/proyecto/asesoria/solucion_recomendada",{solucion:n.solucion,id_asesoria:a.state.id_asesoria}).then(function(t){200===t.status?(u.default.success("Solución recomendada agregada correctamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al agregar la solución. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,id_asesoria:e.id_asesoria},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_asesoria;this.setState({visible:t,id_asesoria:a})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},1317:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(24),a(25)),p=n(m),b=(a(62),a(63)),v=n(b),h=(a(69),a(70)),_=n(h),y=(a(47),a(48)),g=n(y),E=(a(30),a(18)),w=n(E),O=(a(12),a(13)),S=n(O),C=(a(19),a(20)),k=n(C),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=a(0),A=n(j),P=a(34),R=n(P),I=a(1),M=n(I),T=a(9),D=n(T),F=a(652),Y=n(F),N=a(1318),z=n(N),G=(k.default.Item,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updateSeguimientos=function(){a.props.updateSeguimientos()},a.onChangeObservacion=function(e,t){D.default.put("/api/proyecto/revision_seguimiento",{id_revision_seguimiento:e,solucionado:t}).then(function(e){200===e.status?S.default.success("La revisión se ha actulizado satisfactoriamente"):S.default.error("Error al actualizar la revisión, favor de reportar al administrador.")})},a.updateProyecto=function(){a.props.updateProyecto()},a.showEvaluacionAsesorInterno=function(e){D.default.get("/api/proyecto/evaluacionAnexoXXIX/criterios/asesor_interno/").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visible_observacion:!1,visibleEvaluacionAsesorInterno:!0}):S.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")})},a.state={seguimiento:e.seguimiento,visible_observacion:!1,usuario:e.usuario,visibleEvaluacionAsesorInterno:!1,criterios_evaluacion:[]},a}return l(t,e),x(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({seguimiento:e.seguimiento,visible_observacion:!1,usuario:e.usuario,visibleEvaluacionAsesorInterno:!1,criterios_evaluacion:[]})}},{key:"showAddObservacionSeguimiento",value:function(){this.setState({visible_observacion:!0,visibleEvaluacionAsesorInterno:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.seguimiento,n=t.usuario,r=t.visible_observacion,o=t.visibleEvaluacionAsesorInterno,l=t.criterios_evaluacion,i=a.revisiones_seguimiento.map(function(e,t){return{key:R.default.v1(),id:e.id,observacion:e.observacion,solucionado:e.solucionado,fecha:(0,M.default)(e.createdAt).utc().format("LL"),docente:e.docente}}),c=[{className:"center-text",title:"Fecha de observación",dataIndex:"fecha",key:"fecha"},{title:"Solucionado",dataIndex:"solucionado",key:"solucionado",render:function(t,a){return A.default.createElement("span",null,a.docente.id==n.id_docente?A.default.createElement(g.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.solucionado,checkedChildren:"Solucionado",unCheckedChildren:A.default.createElement(w.default,{type:"cross"})}):A.default.createElement("p",null,a.solucionado?"Si":"No"))}},{className:"center-text",title:"Realizada por",dataIndex:"docente",key:"docente",render:function(e,t){return A.default.createElement("p",null,t.docente.titulo+" "+t.docente.nombre+" "+t.docente.ap_paterno+" "+t.docente.ap_materno)}},{className:"center-text",title:"Observación",dataIndex:"observacion",key:"observacion"}];return A.default.createElement(u.default,null,A.default.createElement(p.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},a.url_seguimiento?A.default.createElement("div",null,A.default.createElement("p",null,"Link del seguimiento: "),A.default.createElement(_.default,{defaultFileList:[{uid:-2,name:"Seguimiento",status:"done",url:a.url_seguimiento}]})):A.default.createElement(v.default,{message:"El alumno no ha subido su seguimiento",type:"warning",showIcon:!0})),"2015-2016"===a.proyecto.anteproyecto.alumno.plan_estudios&&A.default.createElement("div",null,A.default.createElement(p.default,{className:"border-top",xs:24,lg:24},A.default.createElement("h3",null,"Evaluación del seguimiento de residencia"),a.url_seguimiento?A.default.createElement("div",null,A.default.createElement(f.default,{style:{marginBottom:30},onClick:function(){return e.showEvaluacionAsesorInterno(a.proyecto.anteproyecto.alumno)},icon:"bars",type:"primary"},"Realizar evaluación"),A.default.createElement(z.default,{seguimiento:a,visible:o,criterios_evaluacion:l})):A.default.createElement(v.default,{message:"El alumno debe subir el avance de su seguimiento para continuar con el proceso de evaluación",type:"warning",showIcon:!0}))),A.default.createElement(p.default,{className:"border-top",xs:24,lg:24},A.default.createElement(f.default,{type:"primary",icon:"plus",onClick:function(){return e.showAddObservacionSeguimiento()}},"Agregar observación"),A.default.createElement(d.default,{title:function(){return"Observaciones del seguimiento"},columns:c,dataSource:i,pagination:{pageSize:4}})),A.default.createElement(Y.default,{updateProyecto:this.updateProyecto.bind(this),updateSeguimientos:this.updateSeguimientos.bind(this),usuario:n,visible:r,id_seguimiento:a.id}))}}]),t}(j.Component));t.default=G},1318:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option),S=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.criterios,l=e.seguimiento,i=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Evaluación de seguimiento de residencia",okText:"Guardar",onCancel:a,onOk:n,width:600,style:{top:20}},y.default.createElement(v.default,{layout:"vertical"},null!==o?o.map(function(e,t){return y.default.createElement(w,{key:t,label:t+1+". "+e.descripcion,style:{width:"100%"}},i(""+e.id,{rules:[{required:!0,message:"La pregunta debe tener un valor de evaluación."}],initialValue:null!==l.evaluacion_asesor_interno?l.evaluacion_asesor_interno.criterios_de_evaluacion.find(function(t){return t.id_criterio==e.id}).valor_de_evaluacion:null})(y.default.createElement(f.default,{placeholder:""},Array(e.valor_max+1).fill(1).map(function(e,t){return y.default.createElement(O,{key:t,value:""+t},t)}))))}):null,y.default.createElement(w,{label:"Observaciones",style:{width:"100%"}},i("observaciones",{rules:[{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"Las observaciones debe tener como maximo 500 caracteres."}],initialValue:null!==l.evaluacion_asesor_interno?l.evaluacion_asesor_interno.observaciones:null})(y.default.createElement(p.default.TextArea,{placeholder:"Escriba aquí sus observaciones",type:"text",autosize:{minRows:2,maxRows:6}})))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){a.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),E.default.put("/api/proyecto/evaluacion_seguimiento/asesor_interno",{id_seguimiento:a.state.seguimiento.id,observaciones:t.observaciones,criterios_evaluacion:t,criterios:a.state.criterios}).then(function(e){200===e.status?(u.default.success("Evaluación del seguimiento guardada!"),a.setState({visible:!1})):d.default.error({title:"Error al guardar la evaluación. Revisar los siguientes campos",content:y.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,criterios:e.criterios_evaluacion,seguimiento:e.seguimiento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.criterios_evaluacion,n=e.seguimiento;this.setState({visible:t,criterios:a,seguimiento:n})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(S,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,criterios:this.state.criterios,seguimiento:this.state.seguimiento}))}}]),t}(_.Component);t.default=C},1319:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,u,c=(a(24),a(25)),d=n(c),s=(a(39),a(40)),f=n(s),m=(a(26),a(27)),p=n(m),b=(a(87),a(88)),v=n(b),h=(a(47),a(48)),_=n(h),y=(a(30),a(18)),g=n(y),E=(a(12),a(13)),w=n(E),O=(a(22),a(23)),S=n(O),C=(a(92),a(98)),k=n(C),x=(a(29),a(28)),j=n(x),A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=a(0),R=n(P),I=a(1),M=n(I),T=a(79),D=(n(T),a(255)),F=n(D),Y=a(654),N=n(Y),z=a(1320),G=n(z),L=a(34),q=n(L),B=a(9),V=n(B),U=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.componentWillReceiveProps=function(e){a.setState({filename_evidencia:e.filename_evidencia,dataSource_tareas:e.dataSource_tareas,dataSource_semanas:e.dataSource_semanas,dataSource_evidencias:e.dataSource_evidencias,dataSource_observaciones:e.dataSource_observaciones})},a.componentDidMount=function(){a.getSemanasActividadesGenerales(),a.obtenerTareas(),a.semanas()},a.obtenerTareas=function(){var e=[],t=[],n=[];V.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(r){200===r.status&&(r.data.map(function(e){n.push({key:q.default.v1(),id:e.id,id_subactividad:e.id_subactividad,id_orden:e.id_orden,tarea:e.tarea,horas:e.horas,entregable:e.entregable,fecha_entrega:e.fecha_entrega,estado_revision_semanal:e.estado_revision_semanal})}),r.data.map(function(a){a.evidencias.map(function(t){e.push({key:q.default.v1(),id:t.id,filename_evidencia:t.filename_evidencia,fecha_actualizacion:t.updatedAt,id_tarea:t.id_tarea})}),a.observaciones.map(function(e){"revision_semanal"==e.tipo_observacion&&t.push({key:q.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,fecha_entrega:a.fecha_entrega})})}),a.setState({dataSource_tareas:n,dataSource_evidencias:e,dataSource_observaciones:t}))})},a.obtenerTareas2=function(){var e=[],t=[],n=[];V.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(r){200===r.status&&(r.data.map(function(a){a.evidencias.map(function(t){e.push({key:q.default.v1(),id:t.id,filename_evidencia:t.filename_evidencia,fecha_actualizacion:t.updatedAt,id_tarea:t.id_tarea})}),a.observaciones.map(function(e){"revision_semanal"==e.tipo_observacion&&t.push({key:q.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,fecha_entrega:a.fecha_entrega})}),n.push({key:q.default.v1(),id:a.id,id_subactividad:a.id_subactividad,id_orden:a.id_orden,tarea:a.tarea,horas:a.horas,entregable:a.entregable,fecha_entrega:a.fecha_entrega,estado_revision_semanal:a.estado_revision_semanal})}),a.setState({dataSource_tareas:n,dataSource_evidencias:e,dataSource_observaciones:t}))})},a.tareas=function(e){var t=a.state.dataSource_actividades_generales;t=t.filter(function(t){return t.fecha_entrega===e});var n={};t=t.filter(function(e){var t=!n[e.id]||!1;return n[e.id]=!0,t});var r=t.map(function(e){return R.default.createElement("li",{key:q.default.v1()},e.actividad)});return R.default.createElement("div",null,R.default.createElement("ul",null,r))},a.evidencias=function(e){var t=a.state.dataSource_evidencias;t=t.filter(function(t){return t.id_tarea===e});var n=t.map(function(e){return R.default.createElement("li",{key:q.default.v1()},R.default.createElement(j.default,{icon:"file",onClick:function(){return a.showEvidencia(e.filename_evidencia,e.id,e.id_tarea)}}))});return i=!1,u=!1,R.default.createElement("div",null,R.default.createElement("ul",null,n))},a.evidenciasRevisionRealizada=function(e){var t=a.state.dataSource_evidencias;t=t.filter(function(t){return t.id_tarea===e});var n=t.map(function(e){return R.default.createElement("li",{key:q.default.v1()},R.default.createElement(j.default,{icon:"file",onClick:function(){return a.showEvidencia(e.filename_evidencia,e.id,e.id_tarea)}}))});return i=!0,u=!0,R.default.createElement("div",null,R.default.createElement("ul",null,n))},a.showEvidencia=function(e,t,n){a.setState({visibleEvidencia:!0,filename_evidencia:e,id_evidencia:t,id_tarea:n})},a.semanas=function(){V.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(e){if(200===e.status){var t=[],n=0;e.data.map(function(e){e.fecha_entrega!=n&&t.push({key:q.default.v1(),fecha_entrega:R.default.createElement(k.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega)}),n=e.fecha_entrega}),a.setState({dataSource_semanas:t})}})},a.getSemanasActividadesGenerales=function(){V.default.get("/api/alumno/getPlan_revision_semanal/"+a.state.proyecto.id).then(function(e){if(200===e.status){var t=[];e.data.map(function(e){e.subactividades.map(function(a){a.tareas.map(function(n){t.push({fecha_entrega:n.fecha_entrega,actividad:e.actividad,id:a.id_actividad_general})})})}),a.setState({dataSource_actividades_generales:t})}})},a.comprobarEstado=function(e){var t=!1;return"aprobado"===e&&(t=!0),t},a.notificarResidenteYJefeDepartameto=function(e,t,n){V.default.post("/api/revision_semanal/notificacion_correo",{correo:e,mensaje:"Se le notifica que el asesor interno "+a.state.nombre_asesor_interno+" no realizo la revisión semanal correspondiente a la fecha de entrega  "+t+" con las tareas:\n"+n+"\n Dichas tareas serán revisadas en la próxima fecha de revisión  ",subject:"Notificación de incumplimiento de asesor interno"}).then(function(e){200===e.status||S.default.error({title:"Error ",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){w.default.error(e)})},a.notificarResidenteRevisionFinalizada=function(e,t){V.default.post("/api/revision_semanal/notificacion_correo",{correo:e,mensaje:"Se le notifica que el asesor interno "+a.state.nombre_asesor_interno+"ha concluido con la revisión semanal correspondiente a la fecha de entrega  "+t+" ",subject:"Notificación de finalización de revisión semanal"}).then(function(e){200===e.status||S.default.error({title:"Error ",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){w.default.error(e)})},a.onChangeEstado=function(e,t,n){t=t?"aprobado":"no aprobado",V.default.post("/api/revision_semanal/update_estado_tarea",{id_tarea:e,estado:t,tipo_observacion:"revision_semanal"}).then(function(e){if(200===e.status){var t=a.state.dataSource_tareas;if(t=t.filter(function(e){return e.fecha_entrega===n&&"revision"===e.estado_revision_semanal}),1===t.length){w.default.loading("Notificando a residente de revisión finalizada..",2.5);var r=a.state.proyecto.anteproyecto.alumno.usuario.correo;a.notificarResidenteRevisionFinalizada(r,n)}else w.default.success("Estado actializado")}else w.default.error("¡No se puede actualizar el estado! la tarea tiene observaciones pendientes");a.obtenerTareas()}).catch(function(e){w.default.error(e)})},a.expandedRowRenderTareas=function(e){var t=e.props.children,n=[],r=[{width:100,title:"No. orden",dataIndex:"id_orden",key:"id_orden"},{title:"Tarea",dataIndex:"tarea",key:"tarea"}],o=(0,M.default)((0,M.default)().format("YYYY-MM-DD"));if((0,M.default)(o).format("YYYY-MM-DD")===t)a.state.dataSource_tareas.map(function(t){t.fecha_entrega<e.props.children&&"aprobado"!=t.estado_revision_semanal?n.push(t):t.fecha_entrega===e.props.children&&n.push(t)}),n.map(function(e){var t=a.state.dataSource_evidencias;t=t.filter(function(t){return t.id_tarea===e.id});var n=a.state.dataSource_observaciones;n=n.filter(function(t){return t.id_tarea===e.id}),0==t.length&&0==n.length&&V.default.post("/api/proyecto/observacion",{observacion:"Evidencia no entregada, se reprograma para la siguiente revisión ",tipo_observacion:"revision_semanal",id_tarea:e.id,id_asesor_interno:a.state.usuario.id_docente}).then(function(t){200===t.status?V.default.put("/api/revision_semanal/updateEstadoTareaAddObservacion",{id_tarea:e.id}).then(function(e){200===e.status&&a.obtenerTareas()}):S.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:R.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){w.default.error(e)})}),r.push({width:110,title:"Estado",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return R.default.createElement(_.default,{onChange:function(e){return a.onChangeEstado(t.id,e,t.fecha_entrega)},defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:R.default.createElement(g.default,{type:"cross"})})}},{width:110,title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return R.default.createElement(k.default,{id:"PopoverEvidencia",content:a.evidencias(t.id),title:"Evidencias",trigger:"click"},R.default.createElement(j.default,{icon:"file-pdf"}))}},{width:"15%",title:"Observaciones",dataIndex:"observaciones",key:"observaciones",render:function(e,t){return a.state.dataSource_observaciones.length>=1?R.default.createElement(p.default,null,R.default.createElement("span",null,R.default.createElement(v.default,{count:a.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},R.default.createElement(j.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,!0)}},"Ver")))):null}});else if((0,M.default)(o).format("YYYY-MM-DD")>t){a.state.dataSource_tareas.map(function(t){t.fecha_entrega===e.props.children&&n.push(t)});var l;if(n.map(function(e){"revision"!=e.estado_revision_semanal&&(l=!0)}),l)r.push({width:110,title:"Estado",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return R.default.createElement(_.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:R.default.createElement(g.default,{type:"cross"})})}},{width:110,title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return R.default.createElement(k.default,{id:"PopoverEvidencia",content:a.evidenciasRevisionRealizada(t.id),title:"Evidencias",trigger:"click"},R.default.createElement(j.default,{icon:"file-pdf"}))}},{width:"15%",title:"Observaciones",dataIndex:"observaciones",key:"observaciones",render:function(e,t){return a.state.dataSource_observaciones.length>=1?R.default.createElement(p.default,null,R.default.createElement("span",null,R.default.createElement(v.default,{count:a.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},R.default.createElement(j.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,!0)}},"Ver")))):null}});else{var i=a.state.proyecto.anteproyecto.alumno.usuario.correo,u=void 0;a.state.proyecto.anteproyecto.periodo.carrera.departamento.docentes.map(function(e){u=e.usuario.correo}),r.push({width:110,title:"Estado",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return R.default.createElement(_.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:R.default.createElement(g.default,{type:"cross"})})}},{width:300,title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return R.default.createElement("div",null,"Estimado asesor interno, no reviso en fecha programada, se le ha notifico al residente y al jefe de departamento,las tareas de esta fecha, se acumulan para la próxima revisión")}});var c=[];n.map(function(e){c.push(e.id_orden+".-"+e.tarea+"\n"),V.default.post("/api/proyecto/observacion",{observacion:"Asesor interno no reviso en fecha establecida, será revisada en la proxima fecha de revisión",tipo_observacion:"revision_semanal",id_tarea:e.id,id_asesor_interno:a.state.usuario.id_docente}).then(function(t){V.default.put("/api/revision_semanal/updateEstadoTareaAddObservacion",{id_tarea:e.id}).then(function(e){e.status})}).catch(function(e){w.default.error(e)})}),a.notificarResidenteYJefeDepartameto(i,t,c),a.notificarResidenteYJefeDepartameto(u,t,c)}}else t>(0,M.default)(o).format("YYYY-MM-DD")&&(a.state.dataSource_tareas.map(function(t){t.fecha_entrega===e.props.children&&n.push(t)}),r.push({width:110,title:"Estado",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return R.default.createElement(_.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:R.default.createElement(g.default,{type:"cross"})})}},{width:110,title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return R.default.createElement("div",null,"Evidencia no disponible")}}));return R.default.createElement("div",null,R.default.createElement(f.default,{rowClassName:function(e,t){return"revision"===e.estado_revision_semanal?"ant-table-content-gris":"aprobado"===e.estado_revision_semanal?"ant-table-content-verde":"ant-table-content-rojo"},title:function(){return"Lista de tareas"},columns:r,dataSource:n}))},a.ocultarShowObservacion=function(){a.setState({visibleShowObservacion:!1})},a.ocultarShowObservacionBadge=function(){a.setState({visibleShowObservacionBadge:!1})},a.ocultarAddObservacion=function(){a.setState({visibleAddObservacion:!1})},a.handleCancel=function(){a.setState({visibleEvidencia:!1})},a.getEvidencia_update=function(){a.state.id_evidencia>0&&document.getElementById("evidencia").setAttribute("src","/api/revision_semanal/get_evidencia_update/"+a.state.id_evidencia)},a.actulizarCantidadObservacionesAddObservacion=function(){},a.showAddObservacion=function(){a.setState({visibleAddObservacion:!0,visibleShowObservacion:!1})},a.showObservacion=function(){a.setState({visibleAddObservacion:!1,visibleShowObservacion:!0})},a.showObservacionBadge=function(e,t){a.setState({visibleShowObservacionBadge:!0,id_tarea:e})},a.state={proyecto:e.proyecto,visibleEvidencia:!1,usuario:e.usuario,nombre_asesor_interno:e.nombre_asesor_interno,dataSource_tareas:[],dataSource_semanas:[],dataSource_evidencias:[],dataSource_actividades_generales:[],filename_evidencia:null,id_evidencia:null,visibleAddObservacion:!1,visibleShowObservacion:!1,visibleShowObservacionBadge:!1,id_tarea:null,dataSource_observaciones:[]},a}return l(t,e),A(t,[{key:"render",value:function(){var e=this,t=[{width:"90%",title:"Semana",dataIndex:"fecha_entrega",key:"fecha_entrega"},{width:"15%",title:"Observaciones",dataIndex:"observaciones",key:"observaciones",render:function(t,a){return e.state.dataSource_observaciones.length>=1?R.default.createElement(p.default,null,R.default.createElement("span",null,R.default.createElement(v.default,{count:e.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.fecha_entrega===a.fecha_entrega.props.children}).length}))):null}}];return R.default.createElement("div",null,R.default.createElement(p.default,null,R.default.createElement(d.default,{xs:24,lg:24},R.default.createElement(f.default,{title:function(){return"Lista de semanas"},bordered:!0,columns:t,dataSource:this.state.dataSource_semanas,expandedRowRender:function(t){return e.expandedRowRenderTareas(t.fecha_entrega)}}))),R.default.createElement(S.default,{title:"Evidencia",visible:this.state.visibleEvidencia,onCancel:this.handleCancel,maskClosable:!0,width:"90%",footer:[R.default.createElement(j.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},R.default.createElement(p.default,null,R.default.createElement(d.default,{span:18},R.default.createElement("iframe",{id:"evidencia",style:{width:"100%",height:500},src:"/api/revision_semanal/get_evidencia/"+this.state.filename_evidencia})),R.default.createElement(d.default,{span:6},R.default.createElement(j.default,{disabled:i,icon:"plus",onClick:this.showAddObservacion},"Agregar observación"),R.default.createElement(j.default,{icon:"eye",onClick:this.showObservacion},"Visualizar observaciones")))),R.default.createElement(F.default,{visible:this.state.visibleAddObservacion,actulizarCantidadObservacionesAddObservacion:this.obtenerTareas,tipo:"revision_semanal",id_tarea:this.state.id_tarea,usuario:this.state.usuario,ocultarAddObservacion:this.ocultarAddObservacion,rutaUpdateObservacion:"/api/revision_semanal/updateEstadoTareaAddObservacion"}),R.default.createElement(N.default,{visible:this.state.visibleShowObservacion,actulizarCantidadObservaciones:this.obtenerTareas,tipo:"revision_semanal",id_tarea:this.state.id_tarea,disabledEstadoAsesorInterno:u,ocultarShowObservacion:this.ocultarShowObservacion}),R.default.createElement(G.default,{visible:this.state.visibleShowObservacionBadge,tipo:"revision_semanal",id_tarea:this.state.id_tarea,ocultarShowObservacion:this.ocultarShowObservacionBadge}))}}]),t}(P.Component);t.default=U},1320:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(47),a(48)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(16),a(17)),g=n(y),E=(a(15),a(21)),w=n(E),O=(a(19),a(20)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=(a(6),a(9)),A=n(j),P=a(34),R=n(P),I=a(1),M=n(I),T=(S.default.Item,w.default.Group,g.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.state.ocultarShowObservacion()},a.saveFormRef=function(e){a.form=e},a.onChangeObservacion=function(e,t){A.default.put("/api/proyecto/observacion",{id:e,estado:t}).then(function(e){200===e.status?_.default.success("Los cambios se han guardado."):_.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.state={visible:e.visible,tipo:e.tipo,id_tarea:e.id_tarea,dataSource_observaciones:[],ocultarShowObservacion:e.ocultarShowObservacion},a}return l(t,e),C(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.visible,n=e.tipo,r=e.id_tarea,o=e.ocultarShowObservacion;this.setState({visible:a,tipo:n,id_tarea:r,ocultarShowObservacion:o}),A.default.get("/api/plan_de_trabajo/"+r+"/"+this.state.tipo+"/get_observaciones").then(function(e){if(200===e.status){var a=e.data.map(function(e){return{key:R.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_creacion:(0,M.default)(e.createdAt).utc().format("LL")}});t.setState({dataSource_observaciones:a})}})}},{key:"render",value:function(){var e=this,t=[{width:140,title:"Estado asesor interno",dataIndex:"estado",key:"estado",render:function(t,a){return x.default.createElement(p.default,{disabled:!0,onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.estado,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:570,title:"Observación",dataIndex:"observacion",key:"observacion"},{width:120,title:"Estado residente",dataIndex:"estado_alumno",key:"estado_alumno",render:function(e,t){return x.default.createElement(p.default,{disabled:!0,defaultChecked:t.estado_alumno,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:180,title:"Fecha de creación",dataIndex:"fecha_creacion",key:"createdAT"}];return x.default.createElement("div",null,x.default.createElement(u.default,{visible:this.state.visible,title:"Observación  "+this.state.tipo,width:1e3,onCancel:this.handleCancel,footer:[x.default.createElement(f.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},x.default.createElement(S.default,{layout:"vertical"},x.default.createElement(d.default,{dataSource:this.state.dataSource_observaciones,className:"full-width",columns:t}))))}}]),t}(k.Component));t.default=T},1321:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(92),a(98)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(656),a(657)),p=n(m),b=(a(87),a(88)),v=n(b),h=(a(29),a(28)),_=n(h),y=(a(22),a(23)),g=n(y),E=(a(12),a(13)),w=n(E),O=(a(55),a(56)),S=n(O),C=(a(16),a(17)),k=n(C),x=(a(15),a(21)),j=n(x),A=(a(19),a(20)),P=n(A),R=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=a(0),M=n(I),T=(a(6),a(9)),D=n(T),F=a(1),Y=(n(F),a(34)),N=(n(Y),a(655)),z=n(N),G=(P.default.Item,j.default.Group,k.default.Option,S.default.TabPane,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getActividadesGenerales=function(){},a.showAddSubactividad=function(){a.setState({visibleRegistrarSubactividad:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleUpdate=function(){a.setState({renderPlanDeTrabajo:M.default.createElement(z.default,{proyecto:a.state.proyecto,usuario:a.state.usuario})}),w.default.success("Actulización finalizada")},a.saveFormRef=function(e){a.form=e},a.statusPlanDeTrabajo=function(){var e=!1,t=[];D.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_actividad_general").then(function(n){if(200===n.status){n.data;n.data.map(function(a){a.subactividades.map(function(a){a.tareas.map(function(a){"revision"===a.estado_revision_plan?e=!0:"no_aprobado"===a.estado_revision_plan&&t.push(a.id_orden+".-"+a.tarea+"\n")})})})}e?(console.log("proyecto "+JSON.stringify(a.state.proyecto)),w.default.warning("No se puede notificar al residente, existen tareas sin revisar")):a.enviarNotificacion(a.state.proyecto.anteproyecto.alumno.usuario.correo,t)})},a.enviarNotificacion=function(e,t){D.default.post("/api/plan_de_trabajo/notificacion_observaciones_plan",{correo:e,mensaje:t+"\n Por favor de revisarlas y corregirlas  ",subject:"Estimado residente por este medio, se le notifica que durante la revisión del plan de trabajo, se realizaron observaciones a las siguientes tareas: "}).then(function(e){200===e.status?w.default.loading("Notificación realizada al residente..",2.5):g.default.error({title:"Error ",content:M.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){w.default.error(e)})},a.state={usuario:e.usuario,visible:e.visible,proyecto:e.proyecto,visibleRegistrarSubactividad:e.visibleRegistrarSubactividad,renderPlanDeTrabajo:null,subactividades:null},a}return l(t,e),R(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.proyectoActividadGeneral,n=e.visibleRegistrarSubactividad;this.setState({visible:t,proyectoActividadGeneral:a,visibleRegistrarSubactividad:n}),this.setState({renderPlanDeTrabajo:M.default.createElement(z.default,{proyecto:this.state.proyecto,usuario:this.state.usuario})})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state;e.visibleRegistrarSubactividad,e.proyectoActividadGeneral;return M.default.createElement("div",null,M.default.createElement(g.default,{visible:this.state.visible,title:"Plan de trabajo",okText:"Guardar",width:1300,height:1500,onCancel:this.handleCancel,centered:!0,footer:[M.default.createElement(_.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},M.default.createElement(P.default,{layout:"vertical"},M.default.createElement(u.default,null,M.default.createElement(f.default,{span:8},M.default.createElement("div",null,M.default.createElement(v.default,{status:"processing"}),M.default.createElement(p.default,{color:"#979997"},"En revisión"))),M.default.createElement(f.default,{span:8},M.default.createElement("div",null,M.default.createElement(v.default,{status:"processing"}),M.default.createElement(p.default,{color:"#00CC00"},"Aprobado"))),M.default.createElement(f.default,{span:8},M.default.createElement("div",null,M.default.createElement(v.default,{status:"processing"}),M.default.createElement(p.default,{color:" #FF1A1A"},"No aprobado"))),M.default.createElement(f.default,{span:24},this.state.renderPlanDeTrabajo),M.default.createElement(f.default,{span:24},M.default.createElement(d.default,{content:"Se podrá notificar al residente una vez que todas las tareas  han sido revisadas"},M.default.createElement(_.default,{key:"back",type:"primary",onClick:this.statusPlanDeTrabajo},"Notificar observaciones a residente"),","))))))}}]),t}(I.Component));t.default=G},1325:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(12),a(13)),d=n(c),s=(a(83),a(77)),f=n(s),m=(a(51),a(52)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(a(6),a(2)),y=(n(_),a(57)),g=a(9),E=n(g),w=a(64),O=a(84),S=n(O),C=a(256),k=n(C),x=a(666),j=n(x),A=a(667),P=n(A),R=a(107),I=n(R),M=p.default.Header,T=p.default.Content,D=p.default.Footer,F=p.default.Sider,Y=f.default.SubMenu,N=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.imagens=function(t){E.default.get("/api/usuario/foto/"+(t||e.state.usuario.id)).then(function(t){200==t.status&&e.setState({imagen:t.data})})},e.logo=function(e){return h.default.createElement("div",{className:"titulo",style:{textAlign:"down",top:10,height:40,width:1e3}},h.default.createElement("img",{src:"/img/logoprincipal.png",alt:"logo_tec",height:"250%"}),h.default.createElement("div",{style:{fontSize:20}},e," "))},e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state.anteproyecto;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visiblecolaborador:!1,componentRender:{title:e.logo("Registro de anteproyecto"),render:h.default.createElement(k.default,{anteproyecto:n})}})}3==a&&e.setState({visibleCambiarContrasenia:!0,visiblecolaborador:!1,visible_add_alumno:!1}),4==a&&e.setState({visiblecolaborador:!0,visibleCambiarContrasenia:!1,visible_add_alumno:!1}),5==a&&e.setState({componentSelected:a,componentRender:{title:e.logo("Actualizacion de tu foto de perfil"),render:h.default.createElement(I.default,{ok:e.imagens.bind(e)})}})},e.state={collapsed:!0,isAuth:!0,usuario:null,imagen:null,nombre:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,anteproyecto:null,visiblecolaborador:!1,id_alumnoC:null,datosAlumno:null,visible_add_alumno:!1},e}return l(t,e),b(t,[{key:"getDatosCandidato",value:function(e){var t=this;E.default.get("/api/alumno/informacion/"+e).then(function(e){200==e.status?(t.imagens(e.data.id_usuario),null==e.data.sexo&&t.setState({visible_add_alumno:!0}),t.setState({datosAlumno:e.data,nombre:e.data.nombre+" "+e.data.ap_paterno+" "+e.data.ap_materno})):d.default.error("Ups hubo un error inesperado favor de contactar al administrador")})}},{key:"getIsAuth",value:function(){var e=this;(0,w.getIsAuth)().then(function(t){"candidato_residente"===t.rol?(e.getDatosCandidato(t.id_alumno),E.default.get("/api/alumno/"+t.id_alumno+"/anteproyecto").then(function(a){200===a.status?e.setState({anteproyecto:a.data,isAuth:t.isAuth,usuario:t,id_alumnoC:a.data.id_alumno,visiblecolaborador:!1,visibleCambiarContrasenia:!1,componentRender:{title:e.logo("Registro de anteproyecto"),render:h.default.createElement(k.default,{anteproyecto:a.data})}}):e.setState({isAuth:!1})})):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.imagen,n=e.nombre,r=(e.componentSelected,e.visible_add_alumno),o=e.datosAlumno,l=e.componentRender,i=(e.usuario,e.visibleCambiarContrasenia),c=e.visiblecolaborador,d=e.id_alumnoC;return t?h.default.createElement(p.default,{style:{minHeight:"100vh"}},h.default.createElement(F,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},h.default.createElement("center",null,this.state.collapsed?h.default.createElement("div",{className:"grises"},h.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+a,style:{textAlign:"center",left:50,height:50,width:35}})):h.default.createElement("div",{className:"grises",style:{alignContent:"center",textAlign:"center",top:10,height:120,width:150}},h.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+a,style:{left:35,height:150,width:150}}),h.default.createElement("div",null,n))),this.state.collapsed?"":h.default.createElement("div",null,h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement("br",null)),h.default.createElement(f.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},h.default.createElement(f.default.Item,{key:"1"},h.default.createElement(u.default,{type:"inbox"}),h.default.createElement("span",null,"Registrar anteproyecto")),h.default.createElement(Y,{key:"sub2",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"user-add"}),h.default.createElement("span",null,"Colaborador"))},h.default.createElement(f.default.Item,{key:"4"},"Añadir colaborador")),h.default.createElement(Y,{key:"sub1",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"user"}),h.default.createElement("span",null,"Usuario"))},h.default.createElement(f.default.Item,{key:"3"},"Cambiar contraseña"),h.default.createElement(f.default.Item,{key:"5"},h.default.createElement(u.default,{type:"camera"}),"Actializar foto"),h.default.createElement(f.default.Item,null,h.default.createElement("a",{href:"/api/usuario/logout"}," ",h.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),h.default.createElement(p.default,null,h.default.createElement(M,{style:{background:"#fff",padding:0,height:150}},h.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),h.default.createElement("div",{style:{float:"right",left:50}},l.title)),h.default.createElement(T,{style:{margin:"0px 0px",padding:24,background:"#fff"}},l.render),h.default.createElement(D,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),h.default.createElement(S.default,{visible:i}),h.default.createElement(j.default,{visible:c,id_alumno:d}),h.default.createElement(P.default,{visible:r,datosAlumno:o})):h.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(v.Component);t.default=N},1341:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(62),a(63)),d=n(c),s=(a(83),a(77)),f=n(s),m=(a(51),a(52)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(a(6),a(2)),y=(n(_),a(57)),g=a(9),E=n(g),w=a(64),O=a(84),S=n(O),C=a(646),k=n(C),x=a(1342),j=n(x),A=a(653),P=n(A),R=a(647),I=n(R),M=a(107),T=n(M),D=p.default.Header,F=p.default.Content,Y=p.default.Footer,N=p.default.Sider,z=f.default.SubMenu,G=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.imagens=function(t){E.default.get("/api/usuario/foto/"+(t||e.state.id)).then(function(a){200==a.status&&(e.setState({imagen:a.data}),E.default.get("/api/docente/informacion/"+(t||e.state.id)).then(function(t){e.setState({nombre:t.data.titulo+""+t.data.nombre+" "+t.data.ap_paterno+" "+t.data.ap_materno})}))})},e.logo=function(e){return h.default.createElement("div",{className:"titulo",style:{textAlign:"down",top:10,height:40,width:1e3}},h.default.createElement("img",{src:"/img/logoprincipal.png",alt:"logo_tec",height:"250%"}),h.default.createElement("div",{style:{fontSize:20}},e," "))},e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state,r=n.departamento,o=n.usuario;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Revision de anteproyectos"),render:h.default.createElement(k.default,{usuario:o,departamento:r})}})}else if(2==a){var l=e.state,i=l.departamento,u=l.usuario,c=u.docente_carrera.find(function(e){return"presidente_academia"===e.rol});c?e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Registro de candidato a residente"),render:h.default.createElement(j.default,{departamento:i,presidente_academia:c})}}):e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Permiso denegado"),render:h.default.createElement(d.default,{message:"Permiso denegado, solo el presidente de academia o jefe de departamento puede realizar esta acción.",type:"warning",showIcon:!0})}})}else if(3==a)e.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1});else if(4==a)E.default.get("/api/proyectos/asesor_interno/"+e.state.usuario.id_docente).then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Proyectos de residencia asignados"),render:h.default.createElement(P.default,{proyectos:t.data,usuario:e.state.usuario})}})});else if(5==a){var s=e.state,f=s.departamento,m=s.usuario,p=m.docente_carrera.find(function(e){return"presidente_academia"===e.rol||"jefe_proyecto"===e.rol});if(p){var b=f.carreras.filter(function(e){return e.id===p.id_carrera});e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Revision de seguimientos"),render:h.default.createElement(I.default,{carreras:b,usuario:p})}})}else e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visible_add_docente:!1,componentRender:{title:e.logo("Permiso denegado"),render:h.default.createElement(d.default,{message:"Permiso denegado, solo el presidente de academia, jefe de departamento, jefe de proyecto ó el asesor interno del proyecto puede realizar esta acción.",type:"warning",showIcon:!0})}})}6==a&&e.setState({componentSelected:a,componentRender:{title:e.logo("Actualizacion de tu foto de perfil"),render:h.default.createElement(T.default,{ok:e.imagens.bind(e)})}})},e.state={collapsed:!0,isAuth:!0,usuario:null,departamento:null,imagen:null,nombre:null,id:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1},e}return l(t,e),b(t,[{key:"getIsAuth",value:function(){var e=this;(0,w.getIsAuth)().then(function(t){"docente"===t.rol||"subdirector_academico"===t.rol?(E.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t,id:t.id,componentRender:{title:e.logo("Revision de proyectos"),render:h.default.createElement(k.default,{usuario:t,departamento:a.data})}}):e.setState({isAuth:!1})}),e.imagens(t.id)):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.imagen),n=e.nombre,r=e.componentRender,o=e.visibleCambiarContrasenia;e.usuario,e.departamento;return t?h.default.createElement(p.default,{style:{minHeight:"100vh"}},h.default.createElement(N,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},h.default.createElement("center",null,this.state.collapsed?h.default.createElement("div",{className:"grises"},h.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+a,style:{textAlign:"center",left:50,height:50,width:35}})):h.default.createElement("div",{className:"grises",style:{alignContent:"center",textAlign:"center",top:10,height:120,width:150}},h.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+a,style:{left:35,height:150,width:150}}),h.default.createElement("div",null,n))),this.state.collapsed?"":h.default.createElement("div",null,h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement("br",null)),h.default.createElement(f.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},h.default.createElement(f.default.Item,{key:"1"},h.default.createElement(u.default,{type:"solution"}),h.default.createElement("span",null,"Revisión anteproyectos")),h.default.createElement(f.default.Item,{key:"2"},h.default.createElement(u.default,{type:"usergroup-add"}),h.default.createElement("span",null,"Agregar candidato a residente")),h.default.createElement(f.default.Item,{key:"4"},h.default.createElement(u.default,{type:"book"}),h.default.createElement("span",null,"Proyectos de residencia")),h.default.createElement(f.default.Item,{key:"5"},h.default.createElement(u.default,{type:"calendar"}),h.default.createElement("span",null,"Revisión de seguimientos")),h.default.createElement(f.default.Divider,null),h.default.createElement(z,{key:"sub1",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"user"}),h.default.createElement("span",null,"Usuario"))},h.default.createElement(f.default.Item,{key:"3"},"Cambiar contraseña"),h.default.createElement(f.default.Item,{key:"6"},h.default.createElement(u.default,{type:"camera"}),"Actializar foto"),h.default.createElement(f.default.Item,null,h.default.createElement("a",{href:"/api/usuario/logout"}," ",h.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),h.default.createElement(p.default,null,h.default.createElement(D,{style:{background:"#fff",padding:0,height:150}},h.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),h.default.createElement("div",{style:{float:"right",left:50}},r.title)),h.default.createElement(F,{style:{margin:"24px 16px",padding:24,background:"#fff"}},r.render),h.default.createElement(Y,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),h.default.createElement(S.default,{visible:o})):h.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(v.Component);t.default=G},1342:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(12),a(13)),v=n(b),h=(a(22),a(23)),_=n(h),y=(a(119),a(120)),g=n(y),E=(a(30),a(18)),w=n(E),O=(a(16),a(17)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=a(9),A=n(j),P=a(1),R=n(P),I=a(34),M=n(I),T=a(1343),D=n(T),F=(S.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showListaCandidatosResidente=function(e){A.default.get("/api/periodo/"+e+"/anteproyectos").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return x.default.createElement(g.default.Item,{key:t,color:"green",dot:x.default.createElement(w.default,{type:"check-circle-o",style:{fontSize:"16px"}})},e.nombre+" "+e.ap_paterno+" "+e.ap_materno)});_.default.info({width:600,title:"Lista de candidatos a residente del periodo.",content:x.default.createElement(g.default,null,t),onOk:function(){}})}})},a.showAddAlumno=function(e){a.setState({visible_add_alumno:!0,id_periodo:e})},a.state={departamento:e.departamento,carreraSeleccionada:null,visible_add_alumno:!1,id_periodo:null,presidente_academia:e.presidente_academia,alumnos_rechazados_por_carrera:[]},a}return l(t,e),C(t,[{key:"componentWillMount",value:function(){var e=this,t=this.state,a=t.departamento,n=t.presidente_academia;console.warn(n);var r=a.carreras.find(function(e){return e.id===n.id_carrera});r&&A.default.get("/api/carrera/"+r.id+"/periodos").then(function(t){200===t.status?A.default.get("/api/alumnos/"+r.id+"/rechazados").then(function(a){200===a.status&&e.setState({alumnos_rechazados_por_carrera:a.data._alumnos,carreraSeleccionada:t.data,visible_add_alumno:!1})}):v.default.warning("Verificar conexión.")})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.departamento,t.carreraSeleccionada),n=t.visible_add_alumno,r=t.id_periodo,o=(t.visible_lista_candidatos_residente,t.alumnos_rechazados_por_carrera),l=a?a.periodos.map(function(e,t){return{id:e.id,key:M.default.v1(),periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,acciones:(0,R.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,R.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto,lista_candidatos:"sisisi"}}):null,i=[{title:"Periodo",key:"periodo",dataIndex:"periodo"},{title:"Ciclo",key:"ciclo",dataIndex:"ciclo"},{title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(e,t){return x.default.createElement("span",null,t.fecha_inicio_entrega_anteproyecto+"- "+t.fecha_fin_entrega_anteproyecto)}},{className:"center-text",title:"Acciones",key:"acciones",dataIndex:"Acciones",render:function(t,a){return x.default.createElement("span",null,!0===a.acciones?x.default.createElement(p.default,{style:{marginRight:5},icon:"user-add",onClick:function(){return e.showAddAlumno(a.id)}},"Candidato a residente"):x.default.createElement("p",{style:{color:"#ff5757"}},"Deshabilitado, revisar fechas."))}},{className:"center-text",title:"Lista de candidatos",key:"lista_candidatos",dataIndex:"lista_candidatos",render:function(t,a){return x.default.createElement("span",null,x.default.createElement(p.default,{icon:"solution",onClick:function(){return e.showListaCandidatosResidente(a.id)}}))}}];return x.default.createElement(u.default,null,x.default.createElement(f.default,{xs:24,lg:24,style:{marginBottom:20}},x.default.createElement("h2",null,"Carrera: ",a?a.nombre:"")),x.default.createElement(f.default,{xs:24,lg:24},x.default.createElement(d.default,{bordered:!0,title:function(){return"Gestión de periodos "},dataSource:l,className:"full-width",columns:i,pagination:{pageSize:8},scroll:{x:1e3}})),x.default.createElement(D.default,{visible:n,carrera:a,id_periodo:r,alumnos_rechazados_por_carrera:o}))}}]),t}(k.Component));t.default=F},1343:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(119),a(120)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(26),a(27)),v=n(b),h=(a(24),a(25)),_=n(h),y=(a(30),a(18)),g=n(y),E=(a(55),a(56)),w=n(E),O=(a(16),a(17)),S=n(O),C=(a(15),a(21)),k=n(C),x=(a(19),a(20)),j=n(x),A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=a(0),R=n(P);a(6);a(44);var I=a(9),M=n(I),T=j.default.Item,D=(k.default.Group,S.default.Option),F=w.default.TabPane,Y=j.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.carrera,l=e.alumnos_rechazados,i=e.addToPeriodo,u=e.handleChange,c=e.options,s=r.getFieldDecorator;s("id_tipo_seguro",{})(R.default.createElement(S.default,{style:{width:80}},R.default.createElement(D,{value:"1"},"IMMS."),R.default.createElement(D,{value:"2"},"ISSTE"),R.default.createElement(D,{value:"3"},"METLIFE"),R.default.createElement(D,{value:"4"},"GNP"),R.default.createElement(D,{value:"5"},"QUÁLITAS"),R.default.createElement(D,{value:"6"},"INBURSA"),R.default.createElement(D,{value:"7"},"OTRO")));return R.default.createElement(d.default,{visible:t,title:"Agregar alumno a la carrera de "+(o?o.nombre:""),okText:"Guardar",onCancel:a,onOk:n,style:{top:10},width:600},R.default.createElement(w.default,{defaultActiveKey:"1"},R.default.createElement(F,{tab:R.default.createElement("span",null,R.default.createElement(g.default,{type:"user-add"}),"Nuevo candidato"),key:"1"},R.default.createElement(j.default,{layout:"vertical"},R.default.createElement(v.default,null,R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(v.default,{gutter:16},R.default.createElement(_.default,{xs:24,lg:12},R.default.createElement(T,{label:"Número de control"},s("no_control",{rules:[{required:!0,message:"El número de control es obligatorio."},{len:8,message:"El numero de control contiene 8 digitos"}]})(R.default.createElement(k.default,{type:"number",style:{width:"100%"},placeholder:"Ingrese el número de control del alumno"})))))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Nombre"},s("nombre",{rules:[{required:!0,message:"El alumno debe tener un nombre"}]})(R.default.createElement(k.default,{type:"mayuscula",placeholder:"Ingrese el nombre(s) del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Apellido paterno"},s("ap_paterno",{rules:[{required:!0,message:"El alumno debe tener un apellido paterno."}]})(R.default.createElement(k.default,{type:"mayuscula",placeholder:"Ingrese el apellido paterno del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Apellido materno"},s("ap_materno",{rules:[{required:!0,message:"El alumno debe tener un apellido materno"}]})(R.default.createElement(k.default,{type:"mayuscula",placeholder:"Ingrese el apellido materno del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Correo electronico"},s("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(R.default.createElement(S.default,{mode:"combobox",onChange:u,filterOption:!1,placeholder:"Ingrese el correo electronico del alumno"},c))))))),R.default.createElement(F,{tab:R.default.createElement("span",null,R.default.createElement(g.default,{type:"usergroup-delete"}),"Candidato a residente rechazado"),key:"2"},R.default.createElement(f.default,{style:{marginLeft:10}},l.map(function(e,t){return R.default.createElement(f.default.Item,{dot:R.default.createElement(g.default,{type:"exclamation-circle-o",style:{fontSize:"16px"}}),color:"red",key:t},R.default.createElement("p",null,e.no_control+" - "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno),R.default.createElement(p.default,{onClick:function(){return i(e.id)}},"Agregar al periodo"))})))))}),N=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChange=function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:["gmail.com","hotmail.com","outlook.com"].map(function(t){var a=e+"@"+t;return R.default.createElement(D,{key:a.toLowerCase()},a.toLowerCase())}),a.setState({options:t})},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.addToPeriodo=function(e){M.default.put("/api/alumno/retry_anteproyecto",{id_alumno:e,id_periodo:a.state.id_periodo}).then(function(e){200===e.status?(u.default.success("Alumno agregado al periodo !"),a.setState({visible:!1})):d.default.error({title:"Error al actualizar al alumno. Revisar los siguientes campos",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||M.default.post("/api/pre_registro",{no_control:n.no_control,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,correo:n.correo,id_carrera:a.state.carrera.id,estado:!0}).then(function(t){200===t.status?(u.default.success("Alumno agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar al alumno. Revisar los siguientes campos",content:R.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,carrera:e.carrera,id_periodo:e.id_periodo,alumnos_rechazados:e.alumnos_rechazados_por_carrera,options:[]},a}return l(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.carrera;this.setState({visible:t,carrera:a,id_periodo:e.id_periodo,alumnos_rechazados:e.alumnos_rechazados_por_carrera})}},{key:"render",value:function(){return R.default.createElement("div",null,R.default.createElement(Y,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,carrera:this.state.carrera,addToPeriodo:this.addToPeriodo,alumnos_rechazados:this.state.alumnos_rechazados,handleChange:this.handleChange,options:this.state.options}))}}]),t}(P.Component);t.default=N},1344:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(83),a(77)),d=n(c),s=(a(51),a(52)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),v=(a(6),a(57)),h=a(9),_=n(h),y=a(64),g=a(84),E=n(g),w=a(256),O=(n(w),a(1345)),S=n(O),C=f.default.Header,k=f.default.Content,x=f.default.Footer,j=f.default.Sider,A=d.default.SubMenu,P=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;3==a&&e.setState({visibleCambiarContrasenia:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,y.getIsAuth)().then(function(t){"asesor_externo"===t.rol?_.default.get("/api/proyectos/asesor_externo/"+t.id_asesor_externo).then(function(a){200===a.status&&e.setState({isAuth:t.isAuth,usuario:t,visibleCambiarContrasenia:!1,componentRender:{title:"Proyectos de residencia",render:b.default.createElement(S.default,{proyectos:a.data,usuario:e.state.usuario})}})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=(e.componentSelected,e.componentRender),n=(e.usuario,e.visibleCambiarContrasenia);return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(j,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"inbox"}),b.default.createElement("span",null,"Menu1")),b.default.createElement(A,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(C,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),a.title),b.default.createElement(k,{style:{margin:"24px 16px",padding:24,background:"#fff"}},a.render),b.default.createElement(x,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(E.default,{visible:n})):b.default.createElement(v.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=P},1345:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(137),a(138)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(16),a(17)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=a(9),y=n(_),g=a(34),E=n(g),w=a(668),O=n(w),S=p.default.Option,C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeResidente=function(e){a.setState({spin:!0}),y.default.get("/api/alumno/proyecto_para_asesor_externo/"+e).then(function(t){200===t.status&&a.setState({renderProyecto:h.default.createElement(O.default,{key:E.default.v4(),updateProyecto:a.updateProyecto.bind(a),proyecto:t.data,usuario:a.state.usuario}),id_proyecto:e,spin:!1})})},a.updateProyecto=function(){a.setState({spin:!0}),y.default.get("/api/alumno/proyecto_para_asesor_externo/"+a.state.id_proyecto).then(function(e){200===e.status&&a.setState({renderProyecto:h.default.createElement(O.default,{key:E.default.v4(),updateProyecto:a.updateProyecto.bind(a),proyecto:e.data,usuario:a.state.usuario}),spin:!1})})},a.state={proyectos:e.proyectos,usuario:e.usuario,renderProyecto:null,id_proyecto:null,spin:!1},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyectos:e.proyectos,usuario:props.usuario,renderProyecto:null,id_proyecto:null,spin:!1})}},{key:"render",value:function(){var e=this.state,t=e.proyectos,a=e.renderProyecto,n=e.spin;return h.default.createElement(u.default,null,h.default.createElement(f.default,{xs:24,lg:24},h.default.createElement(p.default,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Seleccione al residente",onChange:this.onChangeResidente,style:{width:400}},t.map(function(e,t){return h.default.createElement(S,{key:E.default.v4(),value:""+e.id},e.anteproyecto.alumno.no_control+" - "+e.anteproyecto.alumno.nombre+" "+e.anteproyecto.alumno.ap_paterno+" "+e.anteproyecto.alumno.ap_materno)}))),h.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:25}},h.default.createElement("div",{style:{textAlign:"center"}},!0===n?h.default.createElement(d.default,{size:"large",tip:"Cargando..."}):null),a))}}]),t}(v.Component);t.default=C},1346:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option),S=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.criterios,l=e.proyecto,i=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Evaluación de residencia profesional",okText:"Guardar",onCancel:a,onOk:n,width:600,style:{top:20}},y.default.createElement(v.default,{layout:"vertical"},null!==o?o.map(function(e,t){return y.default.createElement(w,{key:t,label:t+1+". "+e.descripcion,style:{width:"100%"}},i(""+e.id,{rules:[{required:!0,message:"La pregunta debe tener un valor de evaluación."}],initialValue:null!==l.evaluacion_asesor_externo?l.evaluacion_asesor_externo.criterios_de_evaluacion.find(function(t){return t.id_criterio==e.id}).valor_de_evaluacion:null})(y.default.createElement(f.default,{placeholder:""},Array(e.valor_max+1).fill(1).map(function(e,t){return y.default.createElement(O,{key:t,value:""+t},t)}))))}):null,y.default.createElement(w,{label:"Observaciones",style:{width:"100%"}},i("observaciones",{rules:[{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"Las observaciones debe tener como maximo 500 caracteres."}],initialValue:null!==l.evaluacion_asesor_externo?l.evaluacion_asesor_externo.observaciones:null})(y.default.createElement(p.default.TextArea,{placeholder:"Escriba aquí sus observaciones",type:"text",autosize:{minRows:2,maxRows:6}})))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),E.default.put("/api/proyecto/evaluacion/asesor_externo",{id_proyecto:a.state.proyecto.id,observaciones:n.observaciones,criterios_evaluacion:n,criterios:a.state.criterios}).then(function(t){200===t.status?(u.default.success("Evaluación guardada!"),a.props.updateProyecto(),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar la evaluación. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,criterios:e.criterios_evaluacion,proyecto:e.proyecto},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.criterios_evaluacion,n=e.proyecto;this.setState({visible:t,criterios:a,proyecto:n})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(S,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,criterios:this.state.criterios,proyecto:this.state.proyecto}))}}]),t}(_.Component);t.default=C},1347:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(29),a(28)),d=n(c),s=(a(62),a(63)),f=n(s),m=(a(69),a(70)),p=n(m),b=(a(12),a(13)),v=n(b),h=(a(55),a(56)),_=n(h),y=(a(19),a(20)),g=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),S=a(9),C=n(S),k=a(1),x=(n(k),a(34)),j=n(x),A=a(1348),P=n(A),R=(g.default.Item,_.default.TabPane,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showEvaluacionSeguimientoAsesorExterno=function(e){C.default.get("/api/proyecto/evaluacionAnexoXXIX/criterios/asesor_externo/").then(function(e){200===e.status?a.setState({criterios_evaluacion_seguimiento:e.data,visibleEvaluacionSeguimientoAsesorExterno:!0}):v.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")})},a.state={numero:e.numero,seguimiento:e.seguimiento,proyecto:e.proyecto,criterios_evaluacion_seguimiento:null,visibleEvaluacionSeguimientoAsesorExterno:!1},a}return l(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({numero:e.numero,proyecto:e.proyecto,seguimiento:e.seguimiento,visibleEvaluacionSeguimientoAsesorExterno:!1,criterios_evaluacion_seguimiento:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.criterios_evaluacion_seguimiento,n=t.visibleEvaluacionSeguimientoAsesorExterno,r=t.seguimiento,o=t.numero,l=t.proyecto;return O.default.createElement(u.default,{xs:24,lg:24},O.default.createElement("h2",{style:{marginTop:20,marginBottom:10},className:"border-top"},"Seguimiento "+(o+1)),r.url_seguimiento?O.default.createElement("div",{style:{marginTop:10,marginBottom:10}},O.default.createElement("p",null,"Link del seguimiento: "),O.default.createElement(p.default,{defaultFileList:[{uid:-2,name:"seguimiento de residencia",status:"done",url:r.url_seguimiento}]})):O.default.createElement(f.default,{style:{marginTop:10,marginBottom:10},message:"El alumno no ha subido el avance de su seguimiento de residencia",type:"warning",showIcon:!0}),r.url_seguimiento?O.default.createElement("div",{style:{marginTop:10,marginBottom:10}},O.default.createElement(d.default,{style:{marginBottom:30},onClick:function(){return e.showEvaluacionSeguimientoAsesorExterno(l.anteproyecto.alumno)},icon:"bars",type:"primary"},"Realizar evaluación"),O.default.createElement(P.default,{key:j.default.v4(),seguimiento:r,visible:n,criterios_evaluacion:a})):O.default.createElement(f.default,{style:{marginTop:10,marginBottom:10},message:"El alumno debe subir su avance del seguimiento de residencia para continuar con el proceso de evaluación",type:"warning",showIcon:!0}))}}]),t}(w.Component));t.default=R},1348:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option),S=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.criterios,l=e.seguimiento,i=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Evaluación de seguimiento de residencia",okText:"Guardar",onCancel:a,onOk:n,width:600,style:{top:20}},y.default.createElement(v.default,{layout:"vertical"},null!==o?o.map(function(e,t){return y.default.createElement(w,{key:t,label:t+1+". "+e.descripcion,style:{width:"100%"}},i(""+e.id,{rules:[{required:!0,message:"La pregunta debe tener un valor de evaluación."}],initialValue:null!==l.evaluacion_asesor_externo?l.evaluacion_asesor_externo.criterios_de_evaluacion.find(function(t){return t.id_criterio==e.id}).valor_de_evaluacion:null})(y.default.createElement(f.default,{placeholder:""},Array(e.valor_max+1).fill(1).map(function(e,t){return y.default.createElement(O,{key:t,value:""+t},t)}))))}):null,y.default.createElement(w,{label:"Observaciones",style:{width:"100%"}},i("observaciones",{rules:[{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"Las observaciones debe tener como maximo 500 caracteres."}],initialValue:null!==l.evaluacion_asesor_externo?l.evaluacion_asesor_externo.observaciones:null})(y.default.createElement(p.default.TextArea,{placeholder:"Escriba aquí sus observaciones",type:"text",autosize:{minRows:2,maxRows:6}})))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){a.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),E.default.put("/api/proyecto/evaluacion_seguimiento/asesor_externo",{id_seguimiento:a.state.seguimiento.id,observaciones:t.observaciones,criterios_evaluacion:t,criterios:a.state.criterios}).then(function(e){200===e.status?(u.default.success("Evaluación del seguimiento guardada!"),a.setState({visible:!1})):d.default.error({title:"Error al guardar la evaluación. Revisar los siguientes campos",content:y.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,criterios:e.criterios_evaluacion,seguimiento:e.seguimiento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.criterios_evaluacion,n=e.seguimiento;this.setState({visible:t,criterios:a,seguimiento:n})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(S,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,criterios:this.state.criterios,seguimiento:this.state.seguimiento}))}}]),t}(_.Component);t.default=C},1349:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(62),a(63)),u=n(i),c=(a(30),a(18)),d=n(c),s=(a(12),a(13)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(83),a(77)),v=n(b),h=(a(51),a(52)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=(a(6),a(2)),O=(n(w),a(57)),S=a(9),C=n(S),k=a(34),x=n(k),j=a(64),A=a(84),P=n(A),R=a(1350),I=n(R),M=a(1351),T=n(M),D=a(1362),F=n(D),Y=a(1364),N=n(Y),z=a(107),G=n(z),L=_.default.Header,q=_.default.Content,B=_.default.Footer,V=_.default.Sider,U=v.default.SubMenu,W=p.default.Group,H=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.imagens=function(t){C.default.get("/api/usuario/foto/"+(t||e.state.usuario.id)).then(function(t){200==t.status&&e.setState({imagen:t.data})})},e.logo=function(e){return E.default.createElement("div",{className:"titulo",style:{textAlign:"down",top:10,height:40,width:1e3}},E.default.createElement("img",{src:"/img/logoprincipal.png",alt:"logo_tec",height:"250%"}),E.default.createElement("div",{style:{fontSize:20}},e," "))},e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1,visibleCancelacion:!1})},e.updateAsesorias=function(){var t=e.state.usuario;C.default.get("/api/alumno/"+t.id_alumno+"/_proyecto").then(function(a){200===a.status&&e.setState({visibleCambiarContrasenia:!1,visibleCancelacion:!1,componentRender:{title:e.logo("Asesorias"),render:E.default.createElement(F.default,{key:x.default.v1(),updateAsesorias:e.updateAsesorias.bind(e),usuario:t,proyecto:a.data})}})})},e.handleMenu=function(t){var a=(t.item,t.key),n=(t.selectedKeys,e.state),r=n.usuario,o=n.proyecto;1==a?C.default.get("/api/alumno/"+r.id_alumno+"/_proyecto").then(function(t){200===t.status&&(console.log(t.data),e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visibleCancelacion:!1,proyecto:t.data,componentRender:{title:e.logo("Proyecto de residencia"),render:E.default.createElement(T.default,{proyecto:t.data,usuario:r})}}))}):2==a?C.default.get("/api/alumno/"+r.id_alumno+"/_proyecto").then(function(t){200===t.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visibleCancelacion:!1,componentRender:{title:e.logo("Asesorias"),render:E.default.createElement(F.default,{key:x.default.v1(),updateAsesorias:e.updateAsesorias.bind(e),usuario:r,proyecto:t.data})}})}):4==a?C.default.put("/api/proyecto/seguimientos",{id_proyecto:o.id,id_periodo:o.anteproyecto.id_periodo}).then(function(t){200===t.status&&C.default.get("/api/alumno/"+r.id_alumno+"/_proyecto").then(function(n){200===n.status&&e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visibleCancelacion:!1,componentRender:{title:e.logo("Seguimientos"),render:E.default.createElement(N.default,{proyecto:n.data,seguimientos:t.data})}})})}):3==a?e.setState({visibleCambiarContrasenia:!0,visibleCancelacion:!1}):5==a&&e.setState({componentSelected:a,componentRender:{title:e.logo("Actualizacion de tu foto de perfil"),render:E.default.createElement(G.default,{ok:e.imagens.bind(e)})}})},e.showFormCancelacion=function(){e.setState({visibleCambiarContrasenia:!1,visibleCancelacion:!0})},e.state={collapsed:!0,isAuth:!0,usuario:null,imagen:null,nombre:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,proyecto:null,cancelacion:null,visibleCancelacion:!1,datosAlumno:null},e}return l(t,e),y(t,[{key:"getDatosCandidato",value:function(e){var t=this;C.default.get("/api/alumno/informacion/"+e).then(function(e){200==e.status?(t.imagens(e.data.id_usuario),t.setState({datosAlumno:e.data,nombre:e.data.nombre+" "+e.data.ap_paterno+" "+e.data.ap_materno})):f.default.error("Ups hubo un error inesperado favor de contactar al administrador")})}},{key:"getIsAuth",value:function(){var e=this;(0,j.getIsAuth)().then(function(t){"residente"===t.rol?(e.getDatosCandidato(t.id_alumno),C.default.get("/api/alumno/"+t.id_alumno+"/_proyecto").then(function(a){200===a.status?e.setState({proyecto:a.data,isAuth:t.isAuth,usuario:t,componentRender:{title:e.logo("Proyecto de residencia"),render:E.default.createElement(T.default,{proyecto:a.data,usuario:t})}}):e.setState({isAuth:!1})}).catch(function(a){C.default.get("/api/alumno/"+t.id_alumno+"/cancelacion").then(function(t){200===t.status&&e.setState({cancelacion:t.data})})})):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this,t=this.state,a=t.visibleCancelacion,n=t.cancelacion,r=t.isAuth,o=t.nombre,l=t.imagen,i=(t.componentSelected,t.componentRender),c=(t.usuario,t.visibleCambiarContrasenia),s=t.proyecto;return r?E.default.createElement(_.default,{style:{minHeight:"100vh"}},E.default.createElement(V,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},E.default.createElement("center",null,this.state.collapsed?E.default.createElement("div",{className:"grises"},E.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+l,style:{textAlign:"center",left:50,height:50,width:35}})):E.default.createElement("div",{className:"grises",style:{alignContent:"center",textAlign:"center",top:10,height:120,width:150}},E.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+l,style:{left:35,height:150,width:150}}),E.default.createElement("div",null,o))),this.state.collapsed?"":E.default.createElement("div",null,E.default.createElement("br",null),E.default.createElement("br",null),E.default.createElement("br",null)),E.default.createElement(v.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},E.default.createElement(v.default.Item,{key:"1"},E.default.createElement(d.default,{type:"inbox"}),E.default.createElement("span",null,"Proyecto")),E.default.createElement(v.default.Item,{key:"2"},E.default.createElement(d.default,{type:"solution"}),E.default.createElement("span",null,"Asesorías")),E.default.createElement(v.default.Item,{key:"4"},E.default.createElement(d.default,{type:"calendar"}),E.default.createElement("span",null,"Seguimientos")),E.default.createElement(U,{key:"sub1",title:E.default.createElement("span",null,E.default.createElement(d.default,{type:"user"}),E.default.createElement("span",null,"Usuario"))},E.default.createElement(v.default.Item,{key:"3"},"Cambiar contraseña"),E.default.createElement(v.default.Item,{key:"5"},E.default.createElement(d.default,{type:"camera"}),"Actializar foto"),E.default.createElement(v.default.Item,null,E.default.createElement("a",{href:"/api/usuario/logout"}," ",E.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),E.default.createElement(_.default,null,E.default.createElement(L,{style:{background:"#fff",padding:0,height:150}},E.default.createElement(d.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),E.default.createElement("div",{style:{float:"right",left:50}},i.title)),E.default.createElement(q,{style:{margin:"24px 16px",padding:24,background:"#fff"}},i.render,s?null:E.default.createElement("div",null,E.default.createElement(u.default,{message:"Residente, usted no tiene proyecto, probablemente hubo una cancelación ó su anteproyecto no fue factible, para mas información preguntar al presidente de academia o jefe de departamento.",type:"error",showIcon:!0}),null===n?null:E.default.createElement("div",null,E.default.createElement(W,null,E.default.createElement(p.default,{onClick:function(){return e.showFormCancelacion()},style:{marginTop:20},icon:"plus"},"Agregar justificación de cancelación de residencia"),E.default.createElement(p.default,{type:"primary",icon:"file-pdf"},E.default.createElement("a",{style:{color:"white"},href:"/api/alumno/"+n.id+"/generarFormatoDeCancelacion",target:"_blank"},"Generar formato"))),E.default.createElement(I.default,{cancelacion:n,visible:a})))),E.default.createElement(B,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Arcos farcosj51@gmail.com")),E.default.createElement(P.default,{visible:c})):E.default.createElement(O.Redirect,{to:"/usuario/auth"})}}]),t}(g.Component);t.default=H},1350:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(15),a(21)),f=n(s),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(a(6),a(57),a(9)),y=n(_),g=p.default.Item,E=p.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.cancelacion,l=r.getFieldDecorator;return h.default.createElement(d.default,{visible:t,title:"Justificación de cancelación del proyecto: "+o.nombre_proyecto,okText:"Guardar",onCancel:a,onOk:n,width:700},h.default.createElement(p.default,{layout:"vertical"},h.default.createElement(g,{label:"Justificación de cancelación"},l("justificacion",{rules:[{required:!0,message:"Debé describir la justificación de la cancelación del proyecto."}],initialValue:o.justificacion})(h.default.createElement(f.default.TextArea,{autosize:{minRows:3,maxRows:6},type:"text",placeholder:"Justificación..."})))))}),w=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){a.form.validateFields(function(e,t){e||y.default.put("/api/alumno/cancelacion_justificacion",{id_cancelacion:a.state.cancelacion.id,justificacion:t.justificacion}).then(function(e){console.log(e),200===e.status?(u.default.success("Justificación guardada satisfactoriamente"),a.setState({visible:!1})):d.default.error({title:"Error al cambiar contraseña. Revisar los siguientes campos",content:h.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,cancelacion:e.cancelacion},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.cancelacion;this.setState({visible:t,cancelacion:a})}},{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement(E,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,cancelacion:this.state.cancelacion}))}}]),t}(v.Component);t.default=w},1351:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(92),a(98)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(24),a(25)),v=n(b),h=(a(30),a(18)),_=n(h),y=(a(15),a(21)),g=n(y),E=(a(19),a(20)),w=n(E),O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),S=a(0),C=n(S),k=a(9),x=n(k),j=a(1),A=(n(j),a(665)),P=n(A),R=a(1352),I=(n(R),a(669)),M=n(I),T=a(1361),D=n(T),F=w.default.Item,Y=C.default.createElement("div",null,C.default.createElement("p",null,"El plan de trabajo debe contener las firmas correspondientes")),N=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showAddActividadGeneral=function(){a.setState({visibleRegistrarActividadGeneral:!0,visiblePlanDeTrabajo:!1})},a.showPlanDeTrabajo=function(){a.setState({visiblePlanDeTrabajo:!0,visibleRegistrarActividadGeneral:!1})},a.obtenerSubactividades=function(){},a.statusPlanDeTrabajo=function(){x.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_actividad_general").then(function(e){200===e.status&&(0==e.data.length&&a.setState({disabledDescargarPlan:!0}),e.data.map(function(e){e.subactividades.map(function(e){e.tareas.map(function(e){"aprobado"!==e.estado_revision_plan&&a.setState({disabledDescargarPlan:!0})})})}))})},a.generarPlanDeTrabajo=function(){x.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_plan_de_trabajo").then(function(e){e.status})},a.visibleAdjuntarPlan=function(){a.setState({visibleAdjuntarPlan:!0})},a.handleCancel=function(){a.setState({visibleAdjuntarPlan:!1})},a.state={proyecto:e.proyecto,usuario:e.usuario,visibleRegistrarActividadGeneral:!1,visiblePlanDeTrabajo:!1,disabledDescargarPlan:!1,visibleAdjuntarPlan:!1},a}return l(t,e),O(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyecto:e.proyecto,usuario:e.usuario})}},{key:"componentDidMount",value:function(){this.statusPlanDeTrabajo()}},{key:"render",value:function(){var e=this.state,t=e.proyecto,a=e.visibleRegistrarActividadGeneral,n=e.visiblePlanDeTrabajo;return C.default.createElement("div",null,C.default.createElement(w.default,null,C.default.createElement(F,{label:"Título"},C.default.createElement(g.default,{value:t.anteproyecto.nombre,readOnly:!0})),C.default.createElement(F,{label:"Objetivo general"},C.default.createElement(g.default,{value:t.anteproyecto.objetivo_general,readOnly:!0})),C.default.createElement(F,{label:"Anteproyecto"},C.default.createElement("a",{style:{color:"#4da1ff"},href:"/api/alumno/"+t.anteproyecto.id_alumno+"/portada_proyecto.docx",target:"_blank"}," Portada  ",C.default.createElement(_.default,{type:"file-word",style:{color:"#4da1ff"}})),C.default.createElement("a",{style:{color:"#4da1ff"},href:"/api/alumno/"+t.anteproyecto.id_alumno+"/CartaPresentacion.docx",target:"_blank"}," Carta de presentacion y agradecimientos     ",C.default.createElement(_.default,{type:"file-word",style:{color:"#4da1ff"}})),C.default.createElement("a",{style:{color:"#4da1ff"},href:"/api/anteproyecto/pdf/"+t.anteproyecto.path_file_anteproyecto,target:"_blank"}," Ver anteproyecto ",C.default.createElement(_.default,{type:"file-pdf",style:{color:"#4da1ff"}})))),C.default.createElement(d.default,{className:"border-top"},C.default.createElement(v.default,{xs:24,lg:24},C.default.createElement("p",{style:{marginBottom:20}},"Plan de trabajo"),C.default.createElement(v.default,{xs:24,lg:4},C.default.createElement("a",{style:{color:"#4da1ff"},href:"/plantillas/plan_de_trabajo.docx"},"Plantilla de plan de trabajo ",C.default.createElement(_.default,{type:"cloud-download"}))),C.default.createElement(v.default,{xs:24,lg:4},C.default.createElement(p.default,{icon:"plus",type:"primary",onClick:this.showAddActividadGeneral},"Registrar plan de trabajo")),C.default.createElement(v.default,{xs:24,lg:4},C.default.createElement(p.default,{icon:"eye",type:"primary",onClick:this.showPlanDeTrabajo},"Visulizar plan de trabajo")),C.default.createElement(v.default,{xs:24,lg:4},C.default.createElement("a",{href:"/api/plan_de_trabajo/"+this.state.proyecto.id+"/generar_plan_de_trabajo",target:"_blank"},C.default.createElement(p.default,{icon:"file-pdf",disabled:this.state.disabledDescargarPlan,type:"primary"},"Descargar plan de trabajo"))),C.default.createElement(v.default,{xs:24,lg:4},C.default.createElement(f.default,{content:Y},C.default.createElement(p.default,{icon:"upload",type:"primary",disabled:this.state.disabledDescargarPlan,onClick:this.visibleAdjuntarPlan},"Adjuntar plan de trabajo"))))),C.default.createElement(d.default,{className:"border-top"},C.default.createElement(v.default,{xs:24,lg:24},C.default.createElement("p",{style:{marginBottom:20}},"Cronograma de actividades"),C.default.createElement("a",{href:"/api/plan_de_trabajo/"+this.state.proyecto.id+"/get_cronograma",target:"_blank"},C.default.createElement(p.default,{icon:"file-pdf",disabled:this.state.disabledDescargarPlan,type:"primary"},"Generar cronograma de actividades")))),C.default.createElement(d.default,{className:"border-top"},C.default.createElement(F,{label:"Documentos de prorroga"},C.default.createElement("a",{style:{color:"#C22121"},href:"/api/solicitud/"+t.anteproyecto.id_alumno+"/solicitud_prorroga.docx",target:"_blank"}," Solicitud de prorroga ",C.default.createElement(_.default,{type:"file-word",style:{color:"#4da1ff"}})),C.default.createElement("a",{style:{color:"#C22121"},href:"/api/solicitud/"+t.anteproyecto.id_alumno+"/oficio_prorroga.docx",target:"_blank"}," Oficio de prorroga ",C.default.createElement(_.default,{type:"file-word",style:{color:"#4da1ff"}})))),C.default.createElement(M.default,{obtenerSubactividades:this.obtenerSubactividades,visible:a,proyectoActividadGeneral:t,visibleRegistrarSubactividad:!1}),C.default.createElement(D.default,{visible:n,proyectoActividadGeneral:t,visibleRegistrarSubactividad:!1}),C.default.createElement("div",null,C.default.createElement(u.default,{title:"Adjuntar plan de trabajo",visible:this.state.visibleAdjuntarPlan,onCancel:this.handleCancel,footer:[]},C.default.createElement(P.default,{proyecto:t}))))}}]),t}(S.Component);t.default=N},1352:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(69),a(70)),u=n(i),c=(a(30),a(18)),d=n(c),s=(a(12),a(13)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=(n(g),a(1)),w=(n(E),v.default.Item),O=(p.default.TextArea,function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},l=a,o(n,l)}return l(t,e),h(t,[{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||f.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||f.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.proyecto;return y.default.createElement(v.default,{onSubmit:this.handleSubmit},y.default.createElement("div",{className:"dropbox"},y.default.createElement(w,{label:"Seleccione su cronograma de actividades"},e("file_cronograma",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:t.filename_cronograma?[{uid:1,name:"cronograma.pdf",status:"done",url:"/api/cronograma/pdf/"+t.filename_cronograma}]:[]})(y.default.createElement(u.default.Dragger,{name:"fileCronograma",action:"/api/alumno/cronograma/"+t.id,beforeUpload:this.beforeUpload},y.default.createElement("p",{className:"ant-upload-drag-icon"},y.default.createElement(d.default,{type:"inbox"})),y.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),y.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))))}}]),t}(_.Component)),S=v.default.create({mapPropsToFields:function(e){return{props:e}}})(O);t.default=S},1360:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(26),a(27)),f=n(s),m=(a(85),a(86)),p=n(m),b=(a(78),a(68)),v=n(b),h=(a(258),a(259)),_=n(h),y=(a(24),a(25)),g=n(y),E=(a(30),a(18)),w=n(E),O=(a(55),a(56)),S=n(O),C=(a(16),a(17)),k=n(C),x=(a(15),a(21)),j=n(x),A=(a(19),a(20)),P=n(A),R=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=a(0),M=n(I),T=(a(6),a(9)),D=n(T),F=a(1),Y=(n(F),a(260)),N=(n(Y),P.default.Item),z=(j.default.Group,k.default.Option,S.default.TabPane,P.default.create()(function(e){function t(e){console.log("changed",e)}var a=e.visibleTarea,n=e.onCancel,r=e.onCreate,o=e.form,l=(e.nuevaSubactividad,o.getFieldDecorator);return M.default.createElement(d.default,{visible:a,title:"Registrar tarea",okText:"Guardar",onCancel:n,onOk:r,width:600,maskClosable:!1,centered:!0},M.default.createElement(P.default,{layout:"vertical"},M.default.createElement(f.default,null,M.default.createElement(g.default,{span:20},M.default.createElement(N,{label:"Tarea"},l("tarea",{rules:[{required:!0,message:"Tarea es obligatoria.."},{min:5,message:"El minimo de caracteres es 5."},{max:500,message:"El maximo de caracteres es 500."}]})(M.default.createElement(j.default,{prefix:M.default.createElement(w.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Tarea"})))),M.default.createElement(g.default,{span:20},M.default.createElement(N,{label:"Horas"},l("horas",{rules:[{required:!0,message:"Horas es obligatoria.."}],InitialValue:0,valuePropName:"option"})(M.default.createElement(_.default,{min:1,max:60,defaultValue:1,onChange:t})))),M.default.createElement(g.default,{span:20},M.default.createElement(N,{label:"Entregable"},l("entregable",{rules:[{required:!0,message:"Entregable es obligatoria.."},{min:5,message:"El minimo de caracteres es 5."},{max:400,message:"El maximo de caracteres es 400."}]})(M.default.createElement(j.default,{prefix:M.default.createElement(w.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Entregable"})))),M.default.createElement(g.default,{span:20},M.default.createElement(N,{label:M.default.createElement("span",null,"Fecha de entrega ",M.default.createElement(v.default,{title:"La fecha en la que se entregará la evidencia"},M.default.createElement(w.default,{type:"question-circle-o"})))},l("fecha_entrega",{rules:[{required:!0,message:"La fecha de asesoría es obligatoria."}]})(M.default.createElement(p.default,{format:"ll"})))))))})),G=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleCancelTarea=function(){a.form.resetFields(),a.setState({visibleTarea:!1})},a.handleCreateTarea=function(){var e=a.state.subactividad,t=a.form;t.validateFields(function(n,r){n||(console.log("Tarea "+r.tarea+r.horas,r.entregable+r.fecha_entrega),D.default.post("/api/plan_de_trabajo/addTarea",{id_proyecto:e,tipo:"agregarTarea",tarea:r.tarea,horas:r.horas,entregable:r.entregable,fecha_entrega:r.fecha_entrega}).then(function(e){200===e.status?(u.default.success("Tarea registrada satisfactoriamente"),t.resetFields(),a.props.obtenerTareas()):d.default.error({title:"Error al registrar la tarea. Revisar los siguientes campos",content:M.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visibleTarea:e.visibleTarea,subactividad:e.subactividad,obtenerTareas:e.obtenerTareas},a}return l(t,e),R(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.subactividad,a=e.visibleTarea;this.setState({subactividad:t,visibleTarea:a})}},{key:"render",value:function(){var e=this.state;e.visibleRegistrarTarea,e.visibleTareao;return M.default.createElement("div",null,M.default.createElement(z,{ref:this.saveFormRef,visibleTarea:this.state.visibleTarea,onCancel:this.handleCancelTarea,onCreate:this.handleCreateTarea,nuevaSubactividad:this.nuevaSubactividad}))}}]),t}(I.Component);t.default=G},1361:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(656),a(657)),p=n(m),b=(a(87),a(88)),v=n(b),h=(a(29),a(28)),_=n(h),y=(a(12),a(13)),g=n(y),E=(a(55),a(56)),w=n(E),O=(a(16),a(17)),S=n(O),C=(a(15),a(21)),k=n(C),x=(a(19),a(20)),j=n(x),A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=a(0),R=n(P),I=(a(6),a(9)),M=(n(I),a(1)),T=(n(M),a(34)),D=(n(T),a(260)),F=n(D),Y=(j.default.Item,k.default.Group,S.default.Option,w.default.TabPane,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getActividadesGenerales=function(){},a.showModal=function(){a.setState({visible:!0})},a.showAddSubactividad=function(){a.setState({visibleRegistrarSubactividad:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleUpdate=function(){a.setState({renderPlanDeTrabajo:R.default.createElement(F.default,{proyecto:a.state.proyeproyectoActividadGeneral})}),g.default.success("Actulización finalizada")},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,proyeproyectoActividadGeneral:e.proyectoActividadGeneral,visibleRegistrarSubactividad:e.visibleRegistrarSubactividad,renderPlanDeTrabajo:null,subactividades:null},a}return l(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.proyectoActividadGeneral,n=e.visibleRegistrarSubactividad;this.setState({visible:t,proyectoActividadGeneral:a,visibleRegistrarSubactividad:n}),this.setState({renderPlanDeTrabajo:R.default.createElement(F.default,{proyecto:this.state.proyeproyectoActividadGeneral})})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state;e.visibleRegistrarSubactividad,e.proyectoActividadGeneral;return R.default.createElement("div",null,R.default.createElement(u.default,{visible:this.state.visible,title:"Plan de trabajo",okText:"Guardar",onCancel:this.handleCancel,onOk:this.handleUpdate,width:1300,height:1500,maskClosable:!1,centered:!0,footer:[R.default.createElement(_.default,{key:"back",onClick:this.handleCancel},"Cerrar"),R.default.createElement(_.default,{key:"submit",type:"primary",onClick:this.handleUpdate},"Actualizar")]},R.default.createElement(j.default,{layout:"vertical"},R.default.createElement(d.default,null,R.default.createElement(f.default,{span:8},R.default.createElement("div",null,R.default.createElement(v.default,{status:"processing"}),R.default.createElement(p.default,{color:"#979997"},"En revisión"))),R.default.createElement(f.default,{span:8},R.default.createElement("div",null,R.default.createElement(v.default,{status:"processing"}),R.default.createElement(p.default,{color:"#00CC00"},"Aprobado"))),R.default.createElement(f.default,{span:8},R.default.createElement("div",null,R.default.createElement(v.default,{status:"processing"}),R.default.createElement(p.default,{color:" #FF1A1A"},"No aprobado"))),R.default.createElement(f.default,{span:24},this.state.renderPlanDeTrabajo)))))}}]),t}(P.Component));t.default=Y},1362:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(78),a(68)),c=n(u),d=(a(24),a(25)),s=n(d),f=(a(39),a(40)),m=n(f),p=(a(26),a(27)),b=n(p),v=(a(87),a(88)),h=n(v),_=(a(47),a(48)),y=n(_),g=(a(30),a(18)),E=n(g),w=(a(22),a(23)),O=n(w),S=(a(12),a(13)),C=n(S),k=(a(92),a(98)),x=n(k),j=(a(29),a(28)),A=n(j),P=(a(19),a(20)),R=n(P),I=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),M=a(0),T=n(M),D=a(1),F=n(D),Y=a(671),N=n(Y),z=a(1363),G=n(z),L=a(672),q=n(L),B=a(261),V=n(B),U=a(79),W=(n(U),a(34)),H=n(W),K=a(9),J=n(K),X=R.default.Item,Q=!1,Z=0,$="",ee=!1,te=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.componentWillReceiveProps=function(e){a.setState({filename_evidencia:e.filename_evidencia})},a.componentDidMount=function(){a.getSemanasActividadesGenerales(),a.obtenerTareas(),a.semanas(),a.formatoSemanalAdjuntado()},a.obtenerTareas=function(){var e=[],t=[],n=[];J.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(r){200===r.status&&(r.data.map(function(e){n.push({key:H.default.v1(),id:e.id,id_subactividad:e.id_subactividad,id_orden:e.id_orden,tarea:e.tarea,horas:e.horas,entregable:e.entregable,fecha_entrega:e.fecha_entrega,estado_revision_semanal:e.estado_revision_semanal})}),r.data.map(function(a){a.evidencias.map(function(t){e.push({key:H.default.v1(),id:t.id,filename_evidencia:t.filename_evidencia,fecha_actualizacion:t.updatedAt,id_tarea:t.id_tarea})}),a.observaciones.map(function(e){"revision_semanal"==e.tipo_observacion&&t.push({key:H.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_entrega:a.fecha_entrega})})}),a.setState({dataSource_tareas:n,dataSource_evidencias:e,dataSource_observaciones:t}))})},a.tareas=function(e){var t=a.state.dataSource_actividades_generales;t=t.filter(function(t){return t.fecha_entrega===e});var n={};t=t.filter(function(e){var t=!n[e.id]||!1;return n[e.id]=!0,t});var r=t.map(function(e){return T.default.createElement("li",{key:H.default.v1()},e.actividad)});return T.default.createElement("div",null,T.default.createElement("ul",null,r))},a.evidencias=function(e){var t=a.state.dataSource_evidencias;t=t.filter(function(t){return t.id_tarea===e});var n=t.map(function(e){return T.default.createElement("li",{key:H.default.v1()},T.default.createElement(A.default,{icon:"file",onClick:function(){return a.showEvidencia(e.filename_evidencia,e.id,e.id_tarea)}}))});return T.default.createElement("div",null,T.default.createElement("ul",null,n))},a.showEvidencia=function(e,t,n){a.setState({visibleEvidencia:!0,filename_evidencia:e,id_evidencia:t,id_tarea:n})},a.semanas=function(){J.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(e){if(200===e.status){var t=[],n=0,r=1;e.data.map(function(e){e.fecha_entrega!=n&&(t.push({key:H.default.v1(),fecha_entrega:T.default.createElement(x.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++),n=e.fecha_entrega}),a.setState({dataSource_semanas:t})}})},a.formatoSemanalAdjuntado=function(){J.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/formato_semanal_adjuntado").then(function(e){if(200===e.status){console.log("formato "+JSON.stringify(e.data));var t=e.data.map(function(e){return{key:H.default.v1(),semana:e.semana}});a.setState({dataSource_formato_semanal:t})}})},a.getSemanasActividadesGenerales=function(){J.default.get("/api/alumno/getPlan_revision_semanal/"+a.state.proyecto.id).then(function(e){if(200===e.status){var t=[];e.data.map(function(e){e.subactividades.map(function(a){a.tareas.map(function(n){t.push({fecha_entrega:n.fecha_entrega,actividad:e.actividad,id:a.id_actividad_general})})})}),a.setState({dataSource_actividades_generales:t})}})},a.comprobarEstado=function(e){var t=!1;return"aprobado"===e&&(t=!0),t},a.comprobarFormatoAdjundo=function(e){var t=(0,F.default)().format("YYYY-MM-DD");if(e>t)return ee=!0,!0;var n=a.state.dataSource_formato_semanal;return n=n.filter(function(t){return t.semana===e}),n.length>=1?(ee=!0,!0):(ee=!1,!1)},a.disabledEvidencia=function(e){return!((0,F.default)((0,F.default)().format("YYYY-MM-DD")).diff(e,"days")<=4)},a.showObservacionBadge=function(e){a.setState({visibleShowObservacionBadge:!0,id_tarea:e})},a.showObservacion=function(e){a.setState({visibleShowObservacion:!0,id_tarea:e})},a.btn_generar_formato_disabled=function(e){Q=e},a.generarFormatoRevision=function(){J.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/generar_formato_revision/").then(function(e){e.status})},a.notificarCorreccionObservacionesAsesorInterno=function(){var e=a.state.dataSource_observaciones;e=e.filter(function(e){return!1===e.estado_alumno}),0===e.length?J.default.post("/api/revision_semanal/notificacion_correo",{correo:a.state.proyecto.anteproyecto.asesor_interno.usuario.correo,mensaje:"Se le notifica que el residente "+a.state.proyecto.anteproyecto.alumno.nombre+" "+a.state.proyecto.anteproyecto.alumno.ap_paterno+" "+a.state.proyecto.anteproyecto.alumno.ap_materno+" ha concluido con la correción de observaciones ",subject:"Notificación de correción de revisión semanal"}).then(function(e){200===e.status?C.default.loading("Notificando a asesor interno  de correciones finalizadas..",2.5):O.default.error({title:"Error ",content:T.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){C.default.error(e)}):C.default.warning("No se puede notificar hay observaciones pendientes")},a.expandedRowRenderTareas=function(e,t){var n=e.props.children,r=[];$=e.props.children,Z=t;var o=[{width:100,title:"No. orden",dataIndex:"id_orden",key:"id_orden"},{title:"Tarea",dataIndex:"tarea",key:"tarea"},{width:110,title:"Estado",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return T.default.createElement(y.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:T.default.createElement(E.default,{type:"cross"})})}},{width:110,title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return T.default.createElement(x.default,{id:"PopoverEvidencia",content:a.evidencias(t.id),title:"Evidencias",trigger:"click"},T.default.createElement(A.default,{icon:"file-pdf"}))}}],l=(0,F.default)((0,F.default)().format("YYYY-MM-DD")),i=(0,F.default)(n).diff(l,"days");return i>=1&&i<=4&&n>(0,F.default)(l).format("YYYY-MM-DD")?(a.state.dataSource_tareas.map(function(e){e.fecha_entrega===n&&r.push(e)}),o.push({width:200,title:"Adjuntar evidencia",dataIndex:"evidencia",key:"evidencia",render:function(e,t){return T.default.createElement(N.default,{ruta:"/api/alumno/file_evidencia/"+t.id,tarea:t.id,showEvidencia:a.obtenerTareas})}}),a.btn_generar_formato_disabled(!1)):(0,F.default)(l).format("YYYY-MM-DD")>=n?(a.state.dataSource_tareas.map(function(e){e.fecha_entrega===n&&(r.push(e),e.estado_revision_semanal)}),o.push({width:200,title:"Adjuntar evidencia",dataIndex:"evidencia",key:"evidencia",render:function(e,t){return T.default.createElement("div",{disabled:!0},T.default.createElement(N.default,{disabledAddEvidencia:t.estado_revision_semanal,ruta:"/api/alumno/file_evidencia/"+t.id,tarea:t.id,showEvidencia:a.obtenerTareas}))}}),a.btn_generar_formato_disabled(!1)):n>(0,F.default)(l).format("YYYY-MM-DD")&&(a.state.dataSource_tareas.map(function(e){e.fecha_entrega===n&&r.push(e)}),o.push({width:200,title:"Adjuntar evidencia",dataIndex:"evidencia",key:"evidencia",render:function(e,t){return T.default.createElement("div",null,"Entrega no disponible")}}),a.btn_generar_formato_disabled(!0)),o.push({width:"15%",title:"Observaciones",dataIndex:"observaciones",key:"observaciones",render:function(e,t){return a.state.dataSource_observaciones.length>=1?T.default.createElement(b.default,null,T.default.createElement("span",null,T.default.createElement(h.default,{count:a.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},T.default.createElement(A.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id)}},"Ver")))):null}}),T.default.createElement("div",null,T.default.createElement(m.default,{rowClassName:function(e,t){return"revision"===e.estado_revision_semanal?"ant-table-content-gris":"aprobado"===e.estado_revision_semanal?"ant-table-content-verde":"ant-table-content-rojo"},title:function(){return"Lista de tareas"},columns:o,dataSource:r}),T.default.createElement(b.default,null,T.default.createElement(s.default,{xs:{span:5,offset:1},lg:{span:6,offset:2}},T.default.createElement("a",{href:"/api/revision_semanal/"+a.state.proyecto.id+"/"+Z+"/generar_formato_revision",target:"_blank"},T.default.createElement(A.default,{disabled:a.comprobarFormatoAdjundo($),type:"primary",icon:"file-pdf"},"Generar formato de revisión semanal"))),T.default.createElement(s.default,{xs:{span:11,offset:1},lg:{span:6,offset:2}},T.default.createElement(A.default,{type:"primary",icon:"upload",onClick:function(){return a.showAddFormatoSemanal()}}," Adjuntar formato de revisión semanal con firmas")),T.default.createElement(s.default,{xs:{span:5,offset:1},lg:{span:6,offset:2}},T.default.createElement(A.default,{type:"primary",icon:"bell",disabled:a.comprobarFormatoAdjundo($),onClick:function(){return a.notificarCorreccionObservacionesAsesorInterno()}},"Notificar correción de observaciones"))),",")},a.handleCancelEvidencia=function(){a.setState({visibleEvidencia:!1})},a.getEvidencia_update=function(){a.state.id_evidencia>0&&document.getElementById("evidencia").setAttribute("src","/api/revision_semanal/get_evidencia_update/"+a.state.id_evidencia)},a.ocultarShowObservacionBadge=function(){a.setState({visibleShowObservacionBadge:!1})},a.ocultarShowObservacion=function(){a.setState({visibleShowObservacion:!1})},a.handleCancel=function(){a.setState({visibleAdjuntarFormatoSemanal:!1})},a.showAddFormatoSemanal=function(){a.setState({visibleAdjuntarFormatoSemanal:!0})},a.state={proyecto:e.proyecto,visibleEvidencia:!1,usuario:e.usuario,dataSource_tareas:[],dataSource_semanas:[],dataSource_evidencias:[],dataSource_actividades_generales:[],dataSource_formato_semanal:[],filename_evidencia:null,id_evidencia:null,dataSource_observaciones:[],visibleShowObservacion:!1,visibleShowObservacionBadge:!1,id_tarea:null,visibleAdjuntarFormatoSemanal:!1},a}return i(t,e),I(t,[{key:"render",value:function(){var e=this,t=(this.state.proyecto,[{width:"95%",title:"Semana",dataIndex:"fecha_entrega",key:"fecha_entrega"},{width:"15%",title:"Observaciones",dataIndex:"observaciones",key:"observaciones",render:function(t,a){return e.state.dataSource_observaciones.length>=1?T.default.createElement(b.default,null,T.default.createElement("span",null,T.default.createElement(h.default,{count:e.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.fecha_entrega===a.fecha_entrega.props.children}).length}))):null}}]);return T.default.createElement("div",null,T.default.createElement(b.default,null,T.default.createElement(s.default,{xs:24,lg:24},T.default.createElement(m.default,{title:function(){return"Lista de semanas"},bordered:!0,columns:t,dataSource:this.state.dataSource_semanas,expandedRowRender:function(t){return e.expandedRowRenderTareas(t.fecha_entrega,t.numero_semana)}}))),T.default.createElement(O.default,{title:"Evidencia",visible:this.state.visibleEvidencia,onCancel:this.handleCancelEvidencia,maskClosable:!0,width:"90%",footer:[T.default.createElement(A.default,{key:"back",onClick:this.handleCancelEvidencia},"Cerrar")]},T.default.createElement(b.default,null,T.default.createElement(s.default,{span:16},T.default.createElement("iframe",{id:"evidencia",style:{width:"100%",height:500},src:"/api/revision_semanal/get_evidencia/"+this.state.filename_evidencia})),T.default.createElement(s.default,{span:8},T.default.createElement(X,{label:T.default.createElement("span",null,"Actualizar evidencia ",T.default.createElement(c.default,{title:"En caso de haberse equivocado de archivo agregue uno nuevo para reemplazar al anterior "},T.default.createElement(E.default,{type:"question-circle-o"})))}),T.default.createElement(N.default,r({showEvidencia:this.mensaje,ruta:"/api/alumno/update_file_evidencia/"+this.state.id_evidencia},"showEvidencia",this.getEvidencia_update)),T.default.createElement(A.default,{icon:"eye",type:"primary",onClick:function(){return e.showObservacion(e.state.id_tarea)}},"Ver observaciones")))),T.default.createElement(q.default,{visible:this.state.visibleShowObservacionBadge,tipo:"revision_semanal",id_tarea:this.state.id_tarea,ocultarShowObservacion:this.ocultarShowObservacionBadge,actualizarCantidadObservaciones:this.obtenerTareas}),T.default.createElement(V.default,{visible:this.state.visibleShowObservacion,tipo:"revision_semanal",id_tarea:this.state.id_tarea,ocultarShowObservacion:this.ocultarShowObservacion}),T.default.createElement("div",null,T.default.createElement(O.default,{title:"Adjuntar formato semanal",visible:this.state.visibleAdjuntarFormatoSemanal,onCancel:this.handleCancel,footer:[]},T.default.createElement(G.default,{ruta:"/api/alumno/file_formato_semanal/"+this.state.proyecto.id+"/"+$,proyecto:this.state.proyecto,semana:$,disabledFormatoSemanal:ee}))))}}]),t}(M.Component);t.default=te},1363:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(69),a(70)),u=n(i),c=(a(30),a(18)),d=n(c),s=(a(22),a(23)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(15),a(21)),v=n(b),h=(a(19),a(20)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=(a(6),a(9)),O=n(w),S=a(1),C=(n(S),_.default.Item),k=(v.default.TextArea,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.state={showEvidencia:e.showEvidencia,ruta:e.ruta,disabledAddEvidencia:e.disabledAddEvidencia},a}return l(t,e),y(t,[{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||p.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||p.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"afterUpload",value:function(){alert("ruta "+this.state.ruta),O.default.get(this.state.ruta).then(function(e){return e.data})}},{key:"dummyRequest",value:function(e){alert("ruta"+e),O.default.post(e,{}).then(function(e){200===e.status||f.default.error({title:"Error al modificar. Revisar los siguientes campos",content:E.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){p.default.error(e)})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.ruta,n=t.proyecto,r=t.semana,o=t.disabledFormatoSemanal;return E.default.createElement(_.default,{onSubmit:this.handleSubmit},E.default.createElement(C,{label:""},e("file_plan_trabajo",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:n.filename_plan_trabajo?[{uid:1,name:"formato_semanal.pdf",status:"done",url:"/api//revision_semanal/get_formato_semanal/"+n.id+"/"+r}]:[]})(E.default.createElement(u.default.Dragger,{name:"fileFormatos",action:a,accept:".pdf",beforeUpload:this.beforeUpload,disabled:o},E.default.createElement(d.default,{type:"inbox",style:{fontSize:"50px",color:"#08c"}}),E.default.createElement("div",{className:"ant-upload-hint"},"Debe pesar menos de 10 MB.")))))}}]),t}(g.Component)),x=_.default.create({mapPropsToFields:function(e){return{props:e}}})(k);t.default=x},1364:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(30),a(18)),f=n(s),m=(a(62),a(63)),p=n(m),b=(a(55),a(56)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(34),E=(n(g),a(1)),w=n(E),O=a(9),S=n(O),C=a(1365),k=n(C),x=a(1366),j=n(x),A=v.default.TabPane,P=a(262),R=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeSeguimiento=function(e){var t=a.state.seguimientos,n=(0,w.default)().format("YYYY-MM-DD");if("seguimiento_final"===e){var r=t[0][0].proyecto.anteproyecto.periodo;n>=(0,w.default)(r.fecha_fin,"YYYY-MM-DD").subtract(P.periodo_residencia.dias_habiles_seguimiento_final,"days").format("YYYY-MM-DD")&&n<=(0,w.default)(r.fecha_fin,"YYYY-MM-DD").add(P.periodo_residencia.dias_habiles_seguimiento_final,"days").format("YYYY-MM-DD")?a.setState({renderSeguimiento:y.default.createElement(j.default,{proyecto:t[0][0].proyecto})}):a.setState({renderSeguimiento:y.default.createElement(p.default,{message:"El seguimiento final no esta disponible,\n Fecha inicial: "+(0,w.default)(r.fecha_fin,"YYYY-MM-DD").subtract(P.periodo_residencia.dias_habiles_seguimiento_final,"days").format("LL")+" - Fecha final: "+(0,w.default)(r.fecha_fin,"YYYY-MM-DD").add(P.periodo_residencia.dias_habiles_seguimiento_final,"days").format("LL"),type:"warning",showIcon:!0})})}else{alert("id seguimiento "+e);var o=t.find(function(t){return t[0].id==e})[0];S.default.get("/api/seguimientos/obtener_seguimientos/"+a.state.proyecto.anteproyecto.id_periodo).then(function(t){if(200===t.status){var n=0,r=0;t.data.map(function(t){alert("ide seguimiento: "+e+" id de seguimientos: "+t.id),o.seguimiento.id==t.id&&(alert("entre ompracion "+n),r=n),n++}),a.setState({renderSeguimiento:y.default.createElement(k.default,{proyecto:a.state.proyecto,seguimiento:o,seguimientos:t.data,numeroSeguimiento:r})})}})}},a.state={seguimientos:e.seguimientos,proyecto:e.proyecto,renderSeguimiento:null},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({seguimientos:e.seguimientos,proyecto:e.proyecto,renderSeguimiento:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.seguimientos,n=t.renderSeguimiento;return y.default.createElement("div",null,y.default.createElement(u.default,null,y.default.createElement(d.default,{xs:24,lg:4},y.default.createElement(v.default,{defaultActiveKey:"-1",tabPosition:"left",onChange:function(t){return e.onChangeSeguimiento(t)}},a.map(function(e,t){return console.log("key",e[0].id),y.default.createElement(A,{tab:y.default.createElement("span",null,y.default.createElement(f.default,{type:"schedule"}),"Seguimiento "+(t+1)),key:e[0].id})}),y.default.createElement(A,{tab:y.default.createElement("span",null,y.default.createElement(f.default,{type:"schedule"}),"Seguimiento final"),key:"seguimiento_final"}))),y.default.createElement(d.default,{xs:24,lg:20},n)))}}]),t}(_.Component);t.default=R},1365:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(78),a(68)),c=n(u),d=(a(24),a(25)),s=n(d),f=(a(39),a(40)),m=n(f),p=(a(26),a(27)),b=n(p),v=(a(87),a(88)),h=n(v),_=(a(47),a(48)),y=n(_),g=(a(30),a(18)),E=n(g),w=(a(22),a(23)),O=n(w),S=(a(12),a(13)),C=n(S),k=(a(92),a(98)),x=n(k),j=(a(29),a(28)),A=n(j),P=(a(19),a(20)),R=n(P),I=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),M=a(0),T=n(M),D=a(1),F=n(D),Y=a(671),N=n(Y),z=a(672),G=n(z),L=a(261),q=n(L),B=a(79),V=(n(B),a(34)),U=n(V),W=a(9),H=n(W),K=R.default.Item,J=!1,X=0,Q=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.componentWillReceiveProps=function(e){a.setState({filename_evidencia:e.filename_evidencia,proyecto:e.proyecto,seguimiento:e.seguimiento,usuario:e.usuario,dataSource_semanas:e.dataSource_semanas,seguimientos:e.seguimientos,numeroSeguimiento:e.numeroSeguimiento,visibleShowObservacionBadge:!1,visibleShowObservacion:!1}),a.getSemanasActividadesGenerales(),a.obtenerTareas(),a.semanas()},a.componentDidMount=function(){a.getSemanasActividadesGenerales(),a.obtenerTareas(),a.semanas()},a.obtenerTareas=function(){var e=[],t=[],n=[],r=[];H.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(o){200===o.status&&(o.data.map(function(e){r.push({key:U.default.v1(),id:e.id,id_subactividad:e.id_subactividad,id_orden:e.id_orden,tarea:e.tarea,horas:e.horas,entregable:e.entregable,fecha_entrega:e.fecha_entrega,estado_revision_semanal:e.estado_revision_semanal,estado_revision_mensual:e.estado_revision_mensual})}),o.data.map(function(a){a.evidencias.map(function(t){e.push({key:U.default.v1(),id:t.id,filename_evidencia:t.filename_evidencia,fecha_actualizacion:t.updatedAt,id_tarea:t.id_tarea})}),a.observaciones.map(function(e){"revision_mensual"==e.tipo_observacion?n.push({key:U.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_entrega:a.fecha_entrega}):"revision_semanal"==e.tipo_observacion&&t.push({key:U.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_entrega:a.fecha_entrega})})}),a.setState({dataSource_tareas:r,dataSource_evidencias:e,dataSource_observaciones_mensual:n,dataSource_observaciones_semanal:t}))})},a.tareas=function(e){var t=a.state.dataSource_actividades_generales;t=t.filter(function(t){return t.fecha_entrega===e});var n={};t=t.filter(function(e){var t=!n[e.id]||!1;return n[e.id]=!0,t});var r=t.map(function(e){return T.default.createElement("li",{key:U.default.v1()},e.actividad)});return T.default.createElement("div",null,T.default.createElement("ul",null,r))},a.evidencias=function(e){var t=a.state.dataSource_evidencias;t=t.filter(function(t){return t.id_tarea===e});var n=t.map(function(e){return T.default.createElement("li",{key:U.default.v1()},T.default.createElement(A.default,{icon:"file",onClick:function(){return a.showEvidencia(e.filename_evidencia,e.id,e.id_tarea)}}))});return T.default.createElement("div",null,T.default.createElement("ul",null,n))},a.showEvidencia=function(e,t,n){a.setState({visibleEvidencia:!0,filename_evidencia:e,id_evidencia:t,id_tarea:n})},a.semanas=function(){H.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(e){if(200===e.status){var t=[],n=0,r=1;e.data.map(function(e){0==a.state.numeroSeguimiento?e.fecha_entrega<=a.state.seguimiento.seguimiento.fecha_final&&(e.fecha_entrega!=n&&(t.push({key:U.default.v1(),fecha_entrega:T.default.createElement(x.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++),n=e.fecha_entrega):1==a.state.numeroSeguimiento?e.fecha_entrega>a.state.seguimientos[0].fecha_final&&e.fecha_entrega<=a.state.seguimiento.seguimiento.fecha_final&&(e.fecha_entrega!=n&&(t.push({key:U.default.v1(),fecha_entrega:T.default.createElement(x.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++),n=e.fecha_entrega):2==a.state.numeroSeguimiento&&e.fecha_entrega>a.state.seguimientos[1].fecha_final&&e.fecha_entrega<=a.state.seguimiento.seguimiento.fecha_final&&(e.fecha_entrega!=n&&(t.push({key:U.default.v1(),fecha_entrega:T.default.createElement(x.default,{content:a.tareas(e.fecha_entrega),title:"Actividades generales"},e.fecha_entrega),numero_semana:r}),r++),n=e.fecha_entrega)}),a.setState({dataSource_semanas:t})}})},a.obtener_seguimientos=function(){H.default.get("/api/seguimientos/obtener_seguimientos/"+a.state.proyecto.anteproyecto.id_periodo).then(function(e){200===e.status&&a.setState({seguimientos:e.data})})},a.getSemanasActividadesGenerales=function(){H.default.get("/api/alumno/getPlan_revision_semanal/"+a.state.proyecto.id).then(function(e){if(200===e.status){var t=[];e.data.map(function(e){e.subactividades.map(function(a){a.tareas.map(function(n){t.push({fecha_entrega:n.fecha_entrega,actividad:e.actividad,id:a.id_actividad_general})})})}),a.setState({dataSource_actividades_generales:t})}})},a.comprobarEstado=function(e){var t=!1;return"aprobado"===e&&(t=!0),t},a.disabledEvidencia=function(e){return!((0,F.default)((0,F.default)().format("YYYY-MM-DD")).diff(e,"days")<=4)},a.showObservacionBadge=function(e,t){alert(e+"= "+t),a.setState({id_tarea:e,tipo_observacion:t,visibleShowObservacionBadge:!0})},a.showObservacion=function(e,t){alert(e+"= "+t),a.setState({id_tarea:e,tipo_observacion:t,visibleShowObservacion:!0})},a.btn_generar_formato_disabled=function(e){J=e},a.generarFormatoRevision=function(){H.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/generar_formato_revision/").then(function(e){e.status})},a.notificarCorreccionObservacionesAsesorInterno=function(){a.obtenerTareas();var e=a.state.dataSource_observaciones_mensual;e=e.filter(function(e){return!1===e.estado_alumno}),0===e.length?H.default.post("/api/revision_semanal/notificacion_correo",{correo:a.state.proyecto.anteproyecto.asesor_interno.usuario.correo,mensaje:"Se le notifica que el residente "+a.state.proyecto.anteproyecto.alumno.nombre+" "+a.state.proyecto.anteproyecto.alumno.ap_paterno+" "+a.state.proyecto.anteproyecto.alumno.ap_materno+" ha concluido con la correción de observaciones ",subject:"Notificación de correción de revisión semanal"}).then(function(e){200===e.status?C.default.loading("Notificando a asesor interno  de correciones finalizadas..",2.5):O.default.error({title:"Error ",content:T.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){C.default.error(e)}):C.default.error("No se puede notificar hay observaciones pendientes")},a.expandedRowRenderTareas=function(e,t){var n=e.props.children,r=[];X=t;var o=[{width:"5%",title:"No. orden",dataIndex:"id_orden",key:"id_orden"},{width:"30%",title:"Tarea",dataIndex:"tarea",key:"tarea"},{width:"12%",title:"Estado mensual",dataIndex:"estado_revision_mensual",key:"estado_revision_mensual",render:function(e,t){return T.default.createElement(y.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_mensual),checkedChildren:"Aprobada",unCheckedChildren:T.default.createElement(E.default,{type:"cross"})})}},{width:"12%",title:"Estado semanal",dataIndex:"estado_revision_semanal",key:"estado_revision_semanal",render:function(e,t){return T.default.createElement(y.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_semanal),checkedChildren:"Aprobada",unCheckedChildren:T.default.createElement(E.default,{type:"cross"})})}},{width:"6%",title:"Evidencia",dataIndex:"evidencia",key:"evidencia_doc",render:function(e,t){return T.default.createElement(x.default,{id:"PopoverEvidencia",content:a.evidencias(t.id),title:"Evidencias",trigger:"click"},T.default.createElement(A.default,{icon:"file-pdf"}))}}],l=(0,F.default)((0,F.default)().format("YYYY-MM-DD"));(0,F.default)(n).diff(l,"days");return(0,F.default)(l).format("YYYY-MM-DD")>=(0,F.default)(a.state.seguimiento.seguimiento.fecha_inicial).format("YYYY-MM-DD")?(a.state.dataSource_tareas.map(function(e){e.fecha_entrega===n&&(r.push(e),e.estado_revision_mensual)}),o.push({width:200,title:"Adjuntar evidencia",dataIndex:"evidencia",key:"evidencia",render:function(e,t){return T.default.createElement("div",null,T.default.createElement(N.default,{disabledAddEvidencia:t.estado_revision_mensual,ruta:"/api/alumno/file_evidencia/"+t.id,tarea:t.id,showEvidencia:a.obtenerTareas}))}}),a.btn_generar_formato_disabled(!1)):(0,F.default)(a.state.seguimiento.seguimiento.fecha_inicial).format("YYYY-MM-DD")>(0,F.default)(l).format("YYYY-MM-DD")&&(a.state.dataSource_tareas.map(function(e){e.fecha_entrega===n&&r.push(e)}),o.push({width:"20%",title:"Adjuntar evidencia",dataIndex:"evidencia",key:"evidencia",render:function(e,t){return T.default.createElement("div",null,"No se ha cumplido la fecha de seguimiento")}}),a.btn_generar_formato_disabled(!0)),o.push({width:"10%",title:"Observaciones seguimiento",dataIndex:"observaciones",key:"observaciones",render:function(e,t){return a.state.dataSource_observaciones_mensual.length>=1?T.default.createElement(b.default,null,T.default.createElement("span",null,T.default.createElement(h.default,{count:a.state.dataSource_observaciones_mensual.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},T.default.createElement(A.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,"revision_mensual")}},"Ver")))):null}},{width:"10%",title:"Observaciones asesor interno",dataIndex:"observaciones",key:"observacionesAI",render:function(e,t){return a.state.dataSource_observaciones_semanal.length>=1?T.default.createElement(b.default,null,T.default.createElement("span",null,T.default.createElement(h.default,{count:a.state.dataSource_observaciones_semanal.filter(function(e){return!e.estado&&e.id_tarea===t.id}).length},T.default.createElement(A.default,{icon:"eye",type:"primary",onClick:function(){return a.showObservacionBadge(t.id,"revision_semanal")}},"Ver")))):null}}),T.default.createElement("div",null,T.default.createElement(m.default,{rowClassName:function(e,t){return"revision"===e.estado_revision_mensual?"ant-table-content-gris":"aprobado"===e.estado_revision_mensual?"ant-table-content-verde":"ant-table-content-rojo"},title:function(){return"Lista de tareas"},columns:o,dataSource:r}),T.default.createElement("a",{href:"/api/revision_semanal/"+a.state.proyecto.id+"/"+X+"/generar_formato_revision",target:"_blank"},T.default.createElement(A.default,{type:"primary",icon:"file-pdf",disabled:J},"Generar formato de revisión")),T.default.createElement(A.default,{type:"primary",icon:"file-pdf",disabled:J,onClick:function(){return a.notificarCorreccionObservacionesAsesorInterno()}},"Notificar correción de observaciones"))},a.handleCancel=function(){a.setState({visibleEvidencia:!1})},a.getEvidencia_update=function(){a.state.id_evidencia>0&&document.getElementById("evidencia").setAttribute("src","/api/revision_semanal/get_evidencia_update/"+a.state.id_evidencia)},a.ocultarShowObservacionBadge=function(){a.setState({visibleShowObservacionBadge:!1})},a.ocultarShowObservacion=function(){a.setState({visibleShowObservacion:!1})},a.state={proyecto:e.proyecto,seguimiento:e.seguimiento,seguimientos:e.seguimientos,numeroSeguimiento:e.numeroSeguimiento,visibleEvidencia:!1,usuario:e.usuario,dataSource_tareas:[],dataSource_semanas:[],dataSource_evidencias:[],dataSource_actividades_generales:[],filename_evidencia:null,id_evidencia:null,dataSource_observaciones_mensual:[],dataSource_observaciones_semanal:[],visibleShowObservacionBadge:!1,visibleShowObservacion:!1,id_tarea:null,tipo_observacion:null},a}return i(t,e),I(t,[{key:"render",value:function(){var e=this,t=(this.state.proyecto,[{width:"85%",title:"Semana",dataIndex:"fecha_entrega",key:"fecha_entrega"},{width:"15%",title:"Observaciones",dataIndex:"observaciones",key:"observaciones",render:function(t,a){return e.state.dataSource_observaciones_mensual.length>=1?T.default.createElement(b.default,null,T.default.createElement("span",null,T.default.createElement(h.default,{count:e.state.dataSource_observaciones_mensual.filter(function(e){return!e.estado&&e.fecha_entrega===a.fecha_entrega.props.children}).length}))):null}}]);return T.default.createElement("div",null,T.default.createElement(b.default,null,T.default.createElement(s.default,{xs:24,lg:24},T.default.createElement(m.default,{title:function(){return"Lista de semanas"},bordered:!0,columns:t,dataSource:this.state.dataSource_semanas,expandedRowRender:function(t){return e.expandedRowRenderTareas(t.fecha_entrega,t.numero_semana)}}))),T.default.createElement(O.default,{title:"Evidencia",visible:this.state.visibleEvidencia,onCancel:this.handleCancel,maskClosable:!0,width:"90%",footer:[T.default.createElement(A.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},T.default.createElement(b.default,null,T.default.createElement(s.default,{span:16},T.default.createElement("iframe",{id:"evidencia",style:{width:"100%",height:500},src:"/api/revision_semanal/get_evidencia/"+this.state.filename_evidencia})),T.default.createElement(s.default,{span:8},T.default.createElement(K,{label:T.default.createElement("span",null,"Actualizar evidencia ",T.default.createElement(c.default,{title:"En caso de haberse equivocado de archivo agregue uno nuevo para reemplazar al anterior "},T.default.createElement(E.default,{type:"question-circle-o"})))}),T.default.createElement(N.default,r({showEvidencia:this.mensaje,ruta:"/api/alumno/update_file_evidencia/"+this.state.id_evidencia},"showEvidencia",this.getEvidencia_update)),T.default.createElement(A.default,{icon:"eye",type:"primary",onClick:function(){return e.showObservacion(e.state.id_tarea,"revision_semanal")}},"Ver observaciones semanal"),T.default.createElement("br",null),T.default.createElement("br",null),T.default.createElement(A.default,{icon:"eye",type:"primary",onClick:function(){return e.showObservacion(e.state.id_tarea,"revision_mensual")}},"Ver observaciones mensual")))),T.default.createElement(G.default,{tipo:this.state.tipo_observacion,id_tarea:this.state.id_tarea,visible:this.state.visibleShowObservacionBadge,ocultarShowObservacion:this.ocultarShowObservacionBadge}),T.default.createElement(q.default,{tipo:this.state.tipo_observacion,id_tarea:this.state.id_tarea,visible:this.state.visibleShowObservacion,ocultarShowObservacion:this.ocultarShowObservacion}))}}]),t}(M.Component);t.default=Q},1366:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(62),a(63)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(1367),a(1370)),g=n(y),E=(a(96),a(97)),w=n(E),O=(a(15),a(21)),S=n(O),C=(a(19),a(20)),k=n(C),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=a(0),A=n(j),P=(a(6),a(9)),R=n(P),I=a(1),M=(n(I),k.default.Item),T=(S.default.TextArea,w.default.Panel,g.default.TreeNode),D=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),R.default.put("/api/proyecto/informe_tecnico",{id_proyecto:n.props.proyecto.id,url_informe_tecnico:t.url_informe_tecnico}).then(function(e){200===e.status?_.default.success("Informe técnico actualizado satisfactoriamente"):_.default.error("Error al actualizar al informe técnico, favor de reportar al administrador.")}))})},l=a,o(n,l)}return l(t,e),x(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.proyecto;return A.default.createElement("div",null,A.default.createElement(d.default,{gutter:16},A.default.createElement(f.default,{xs:24,lg:12},A.default.createElement(k.default,{onSubmit:this.handleSubmit},A.default.createElement(M,{label:"URL del informe técnico en google drive"},e("url_informe_tecnico",{rules:[{required:!0,message:"El url del archivo es necesario para la revisión."},{pattern:"^https://drive.google.com/[^\\s]*$",message:"La URL esta mal formada ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ"}]})(A.default.createElement(S.default,{prefix:A.default.createElement(v.default,{type:"global",style:{fontSize:13}}),placeholder:"URL del sitio donde esta almacenado el archivo del seguimiento ejemplo: https://drive.google.com/open?id=0B-agd1bGfOTYcHZNWmtFZ1BINzQ",addonAfter:t.url_informe_tecnico?A.default.createElement("a",{href:t.url_informe_tecnico?t.url_informe_tecnico:"#",target:"_blank"},A.default.createElement(v.default,{type:"cloud"}),"Ver informe técnico"):null}))),A.default.createElement(p.default,{type:"primary",htmlType:"submit"},"Actualizar"))),A.default.createElement(f.default,{xs:24,lg:12},A.default.createElement("h3",null,"Estructura del informe técnico"),A.default.createElement(g.default,{showLine:!0},A.default.createElement(T,{title:"Informe técnico",key:"0"},A.default.createElement(T,{title:"Portada",key:"1"},A.default.createElement(T,{title:"Periodo de residencia",key:"1-0"}),A.default.createElement(T,{title:"Nombre de proyecto",key:"1-1"})))))),A.default.createElement(d.default,{gutter:20,style:{marginTop:30}},A.default.createElement(f.default,{xs:24,lg:24,className:"border-bottom"},A.default.createElement("h3",null,"Formato de evaluación")),A.default.createElement(f.default,{xs:24,lg:24},null!==t.id_evaluacion_asesor_interno&null!==t.id_evaluacion_asesor_externo?A.default.createElement("a",{target:"_blank",href:"/api/proyecto/"+t.id+"/formato_evaluacion/"+("2009-2010"===t.anteproyecto.alumno.plan_estudios?"anexoIII":"anexoXXX")},A.default.createElement(p.default,{type:"primary",icon:"file-pdf"},"Generar formato de evaluación")):A.default.createElement(u.default,{message:(null===t.id_evaluacion_asesor_interno?"El asesor interno no ha realizado la evaluación":"")+"\n"+(null===t.id_evaluacion_asesor_externo?", El asesor externo no ha realizado la evaluación":""),type:"warning",showIcon:!0}))),A.default.createElement(d.default,{gutter:20,style:{marginTop:30}},A.default.createElement(f.default,{xs:24,lg:24,className:"border-bottom"},A.default.createElement("h3",null,"Cartas de liberación")),A.default.createElement(f.default,{xs:24,lg:12},A.default.createElement("h4",null,"Asesor interno"),t.autorizar_carta_liberacion_asesor_interno?A.default.createElement("a",{target:"_blank",href:"/api/proyecto/"+t.id+"/carta_liberacion/asesor_interno"},A.default.createElement(p.default,{type:"primary",icon:"file-pdf"},"Generar carta de liberación")):A.default.createElement(u.default,{message:"Tu asesor interno no ha autorizado tu carta de liberación",type:"warning",showIcon:!0})),A.default.createElement(f.default,{xs:24,lg:12},A.default.createElement("h4",null,"Asesor externo"),t.autorizar_carta_liberacion_asesor_externo?A.default.createElement("a",{target:"_blank",href:"/api/proyecto/"+t.id+"/carta_liberacion/asesor_externo"},A.default.createElement(p.default,{type:"primary",icon:"file-pdf"},"Generar carta de liberación")):A.default.createElement(u.default,{message:"Tu asesor externo no ha autorizado tu carta de liberación",type:"warning",showIcon:!0}))))}}]),t}(j.Component),F=k.default.create({mapPropsToFields:function(e){return{props:e}}})(D);t.default=F},1371:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(161),a(162)),d=n(c),s=(a(83),a(77)),f=n(s),m=(a(51),a(52)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(a(6),a(2)),y=(n(_),a(57)),g=a(9),E=n(g),w=a(64),O=a(1372),S=n(O),C=a(236),k=n(C),x=a(1377),j=n(x),A=a(247),P=(n(A),a(176)),R=(n(P),a(250)),I=(n(R),a(84)),M=n(I),T=a(1379),D=n(T),F=a(1380),Y=n(F),N=a(1381),z=n(N),G=a(1383),L=n(G),q=a(675),B=n(q),V=a(107),U=n(V);a(44);var W=a(1404),H=n(W),K=a(1405),J=n(K),X=p.default.Header,Q=p.default.Content,Z=p.default.Footer,$=p.default.Sider,ee=f.default.SubMenu,te=(d.default.Meta,1),ae=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.logo=function(e){return h.default.createElement("div",{className:"titulo",style:{textAlign:"down",top:10,height:40,width:1e3}},h.default.createElement("img",{src:"/img/logoprincipal.png",alt:"logo_tec",height:"250%"}),h.default.createElement("div",{style:{fontSize:20}},e," "))},a.imagens=function(e){E.default.get("/api/usuario/foto/"+(e||a.state.id)).then(function(t){200==t.status&&(a.setState({imagen:t.data}),E.default.get("/api/docente/informacion/"+(e||a.state.id)).then(function(e){a.setState({nombre:e.data.titulo+""+e.data.nombre+" "+e.data.ap_paterno+" "+e.data.ap_materno})}))})},a.toggle=function(){a.setState({collapsed:!a.state.collapsed,visibleCambiarContrasenia:!1})},a.handleMenu=function(e){var t=(e.item,e.key);e.selectedKeys;3==t?a.setState({visibleCambiarContrasenia:!0}):a.setState({componentSelected:t,visibleCambiarContrasenia:!1})},a.state={collapsed:!1,isAuth:!0,componentSelected:1,imagen:null,nombre:null,id:null,components:{1:{title:a.logo("Registro de residentes"),render:h.default.createElement(D.default,null)},2:{title:a.logo("Coordinadores de carrera"),render:h.default.createElement(S.default,null)},5:{title:a.logo("Revision de seguimientos"),render:h.default.createElement(L.default,null)},6:{title:a.logo("Apertura de periodo de residencia"),render:h.default.createElement(Y.default,null)},7:{title:a.logo("Gestion de periodo de residencia"),render:h.default.createElement(z.default,null)},8:{title:a.logo("Gestion de departamentos academicos"),render:h.default.createElement(k.default,null)},9:{title:a.logo("Asignacion de presidetes de academia"),render:h.default.createElement(j.default,null)},10:{title:a.logo("Situacion del residente"),render:h.default.createElement(B.default,null)},11:{title:a.logo("Actualizacion de tu foto de perfil"),render:h.default.createElement(U.default,{ok:a.imagens.bind(a)})},12:{title:a.logo("Dictamenes"),render:h.default.createElement(H.default,null)},13:{title:a.logo("Estadisticas de termino de residencias"),render:h.default.createElement(J.default,null)}},visibleCambiarContrasenia:!1},a}return l(t,e),b(t,[{key:"getIsAuth",value:function(){var e=this;(0,w.getIsAuth)().then(function(t){"jefe_departamento"===t.rol?(te=t.id,e.setState({isAuth:t.isAuth,usuario:t.id_departamento,id:t.id}),e.imagens(t.id)):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.componentSelected,n=e.nombre,r=e.components,o=e.visibleCambiarContrasenia,l=e.imagen,i=r[a];return t?h.default.createElement(p.default,{style:{minHeight:"100vh"}},h.default.createElement($,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},h.default.createElement("center",null,this.state.collapsed?h.default.createElement("div",{className:"grises"},h.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+l,style:{textAlign:"center",left:50,height:50,width:35}})):h.default.createElement("div",{className:"grises",style:{alignContent:"center",textAlign:"center",top:10,height:120,width:150}},h.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+l,style:{left:35,height:150,width:150}}),h.default.createElement("div",null,n))),this.state.collapsed?"":h.default.createElement("div",null,h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement("br",null)),h.default.createElement(f.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},h.default.createElement(f.default.Item,{key:"1"},h.default.createElement(u.default,{type:"user-add"}),h.default.createElement("span",null,"Registro de Residentes")),h.default.createElement(ee,{key:"sub4",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"team"}),h.default.createElement("span",null,"Personal"))},h.default.createElement(f.default.Item,{key:"2"},h.default.createElement(u.default,{type:"solution"}),"Division de estudios"),h.default.createElement(ee,{key:"sub5",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"team"}),h.default.createElement("span",null,"Dictamen"))},h.default.createElement(f.default.Item,{key:"8"},"Jefes de departamento académico"),h.default.createElement(f.default.Item,{key:"9"},h.default.createElement("strong",null,"Presidentes de academia")))),h.default.createElement(ee,{key:"sub3",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"calendar"}),h.default.createElement("span",null,"Periodo de residencia"))},h.default.createElement(f.default.Item,{key:"7"},"Gestion de periodo"),h.default.createElement(f.default.Item,{key:"6"},h.default.createElement("strong",null,"Apertura de periodo"))),h.default.createElement(ee,{key:"sub6",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"bars"}),h.default.createElement("span",null,"Reportes"))},h.default.createElement(f.default.Item,{key:"12"},h.default.createElement(u.default,{type:"schedule"}),"Dictamenes"),h.default.createElement(f.default.Item,{key:"5"},h.default.createElement(u.default,{type:"schedule"}),"Seguimientos"),h.default.createElement(f.default.Item,{key:"10"},h.default.createElement(u.default,{type:"solution"}),h.default.createElement("strong",null,"Residente")),h.default.createElement(f.default.Item,{key:"13"},h.default.createElement(u.default,{type:"line-chart"}),h.default.createElement("strong",null,"Estadisticas"))),h.default.createElement(f.default.Divider,null),h.default.createElement(ee,{key:"sub1",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"user"}),h.default.createElement("span",null,"Usuario"))},h.default.createElement(f.default.Item,{key:"3"},h.default.createElement(u.default,{type:"unlock"}),"Cambiar contraseña"),h.default.createElement(f.default.Item,{key:"11"},h.default.createElement(u.default,{type:"camera"}),"Actializar foto"),h.default.createElement(f.default.Item,null,h.default.createElement("a",{href:"/api/usuario/logout"},h.default.createElement(u.default,{type:"logout"})," ",h.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),h.default.createElement(p.default,null,h.default.createElement(X,{style:{background:"#fff",padding:0,height:150}},h.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),h.default.createElement("div",{style:{float:"right",left:50}},i.title)),h.default.createElement(Q,{style:{margin:"0px 0px",padding:24,background:"#fff"}},i.render),h.default.createElement(Z,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Arcos farcosj51@gmail.com")),h.default.createElement(M.default,{visible:o})):h.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(v.Component);t.default=ae},1372:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(29),a(28)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(16),a(17)),v=n(b),h=(a(39),a(40)),_=n(h),y=(a(51),a(52)),g=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),S=(a(6),a(9)),C=n(S),k=a(34),x=n(k),j=a(64),A=a(1373),P=n(A),R=a(1374),I=n(R),M=a(175),T=n(M),D=a(1375),F=n(D),Y=a(1376),N=(n(Y),g.default.Content,g.default.Header,_.default.Column),z=(_.default.ColumnGroup,v.default.Option),G=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModalFormDepartamento=function(){e.setState({visible_form_departamento:!0,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!1})},e.showModalFormEditDepartamento=function(t){C.default.get("/api/carreracoordinador/"+t).then(function(a){e.setState({visible_add_docente:!1,visible_add_carrera:!1,visible_form_departamento:!1,visible_form_edit_departamento:!0,departamentoD:a.data,idcarrera:t})})},e.showAddDocente=function(){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_carrera:!1,visible_add_docente:!0})},e.showAddCarrera=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!0,props_add_carrera:{id_departamento:t,nombre_departamento:a}})},e.changeSubdirectorAcademico=function(e){C.default.put("/api/docente/jefeDivisionEstudiosProfesionales",{id_usuario:e||null}).then(function(e){200===e.status?p.default.success("Jefe de departamento actualizado satisfactoriamente"):p.default.error("Tuvimos un error al asignar al subdirector academico.")}).catch(function(e){p.default.error("Error al asignar al subdirector academico")})},e.state={data:[],visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null},visible_add_carrera:!1,props_add_carrera:{id_departamento:null,nombre_departamento:null},departamento:null,departamentoD:null,docentesAsignados:null,loadTable:!0,carrerasd:null,idcarrera:null,docentes:[]},e}return l(t,e),E(t,[{key:"fetchDepartamento",value:function(){var e=this;(0,j.getIsAuth)().then(function(t){"jefe_departamento"===t.rol&&e.setState({props_add_docente:{id_departamento:t.id_departamento,nombre_departamento:"Division de estudios profesionales"}})}),C.default.get("/api/docentesdivision").then(function(t){200===t.status&&(e.setState({docentes:t.data,loadTable:!1,visible_form_edit_departamento:!1,visible_add_docente:!1}),C.default.get("/api/carrera_coordinadores").then(function(t){200===t.status&&(e.setState({docentesAsignados:t.data}),C.default.get("/api/carreras").then(function(t){if(200===t.status){var a=t.data.carreras.map(function(t,a){var n=e.state.docentesAsignados.find(function(e){return e.id_carrera===t.id&&"coordinador_carrera"===e.rol})||null,r=n?e.state.docentes.find(function(e){return e.id===n.id_docente}):"";return{key:a,id:t.id,nombre:t.nombre,coordinador_carrera:r?r.titulo+" "+r.nombre+" "+r.ap_paterno+" "+r.ap_materno:"no asignado",acciones:"Editar departamento"}});e.setState({data:a,carrerasd:t.data})}}))}))})}},{key:"actualizarSele",value:function(){this.fetchDepartamento(),this.setState({visible_add_docente:!1})}},{key:"handleAddDepartamento",value:function(){this.fetchDepartamento(),this.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1})}},{key:"componentDidMount",value:function(){this.fetchDepartamento()}},{key:"render",value:function(){var e=this,t=this.state,a=t.idcarrera,n=t.carrerasd,r=t.departamentoD,o=t.visible_form_edit_departamento,l=t.visible_form_departamento,i=t.docentes,c=t.data,s=(t.departamento,t.loadTable),m=t.visible_add_docente,p=t.props_add_docente,b=t.visible_add_carrera,h=t.props_add_carrera,y=i.find(function(e){return"jefe_departamento"===e.usuario.rol&&"DIVISION DE ESTUDIOS PROFESIONALES"===e.departamento_doce.nombre});return O.default.createElement("div",null,O.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},O.default.createElement(f.default,{style:{marginRight:20}},O.default.createElement("h1",null," Personal ")),O.default.createElement(f.default,null,O.default.createElement(d.default,{type:"primary",icon:"plus",onClick:this.showAddDocente},"Agregar"))),O.default.createElement(u.default,{style:{marginTop:20,marginBottom:20}},O.default.createElement(f.default,{xs:24,lg:8},O.default.createElement("h3",null,"Seleccione al jefe de departamento"),O.default.createElement(v.default,{key:x.default.v4(),style:{width:"100%"},showSearch:!0,placeholder:"Seleccion el jefe de departamento",optionFilterProp:"children",allowClear:!0,onChange:function(t){return e.changeSubdirectorAcademico(t)},defaultValue:y?y.titulo+" "+y.nombre+" "+y.ap_materno+" "+y.ap_paterno:null},i.map(function(e,t){return O.default.createElement(z,{key:x.default.v1(),value:""+e.id_usuario},e.titulo+" "+e.nombre+" "+e.ap_materno+" "+e.ap_paterno)})))),O.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},O.default.createElement(_.default,{dataSource:c,className:"full-width",pagination:{pageSize:5},loading:s,scroll:{x:800}},O.default.createElement(N,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),O.default.createElement(N,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),O.default.createElement(N,{title:"Coordinador carrera",dataIndex:"coordinador_carrera",key:"coordinador_carrera",className:"center-text"}),O.default.createElement(N,{title:"Acciones",key:"acciones",render:function(t,a){return O.default.createElement("span",null,O.default.createElement(d.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditDepartamento(a.id)}},"Carrera"))},className:"center-text"}))),O.default.createElement(P.default,{visible:l,onAddDepartamento:this.handleAddDepartamento.bind(this)}),O.default.createElement(I.default,{visible:o,onReloadDepartamentos:this.fetchDepartamento.bind(this),carrera:r,docentes:i,carreras:n,idcarrera:a}),O.default.createElement(T.default,{visible:m,departamento:p,onReloadDocente:this.fetchDepartamento.bind(this)}),O.default.createElement(F.default,{visible:b,departamento:h}))}}]),t}(w.Component);t.default=G},1373:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar nuevo departamento",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre del departamento"},o("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}]})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Nombre del departamento"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/departamento",{nombre:n.nombre_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento agregado satisfactoriamente"),a.setState({visible:!1}),a.props.onAddDepartamento()):d.default.error({title:"Error al guardar el departamento. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},1374:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_);a(6);a(44);var g=a(9),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option),S=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.carrera,l=e.docentes,i=e.carreras,u=e.idcarrera;console.log("===>-_-",u);var c=r.getFieldDecorator,s=null;o&&(s=o.find(function(e){return"coordinador_carrera"===e.rol})||null),s&&console.log("---",s.carrera.nombre,"El coordinador ");var m=null;return i&&i.carreras.map(function(e,t){if(console.log(e.id,e.nombre),e.id===u)return m=e.nombre}),y.default.createElement(d.default,{visible:t,title:"Editar Carrera",okText:"Actualizar",onCancel:a,onOk:n,width:600,className:"full-width"},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre de la carrera",initialValue:"",hasFeedback:!0},c("nombre_carrera",{rules:[{required:!0,message:"La carrera debe tener un nombre."}],initialValue:m||null})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Nombre de la carrera"}))),y.default.createElement(w,{label:"Seleccione al coordinador de la carrera",hasFeedback:!0},c("id_coordinador",{rules:[{required:!0,message:"La carrera debe tener un coordinador."}],initialValue:s?""+l.find(function(e){return e.id===s.id_docente}).id:null})(y.default.createElement(f.default,{placeholder:"Seleccione un docente"},l?l.map(function(e,t){return y.default.createElement(O,{key:t,value:""+e.id},e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno)}):"")))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.idcarrera;e.validateFields(function(n,r){n||E.default.put("/api/carreraD/"+t,{nombre:r.nombre_carrera,id_coordinador:r.id_coordinador}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Carrera actualizado satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadDepartamentos()):d.default.error({title:"Error al actualizar el departzamento. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,carrera:e.carrera,docentes:e.docentes,carreras:e.carreras,idcarrera:e.idcarrera},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.carrera,n=e.docentes,r=e.carreras,o=e.idcarrera;this.setState({visible:t,carrera:a,docentes:n,carreras:r,idcarrera:o})}},{key:"render",value:function(){var e=this.state,t=e.carrera,a=e.docentes,n=e.carreras,r=e.idcarrera;return y.default.createElement("div",null,y.default.createElement(S,{carrera:t,docentes:a,carreras:n,idcarrera:r,ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=C},1375:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar carrera al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre de la carrera"},l("nombre",{rules:[{required:!0,message:"La carrera debe tener un nombre"}]})(y.default.createElement(p.default,{type:"mayuscula",style:{width:"100%"},placeholder:"Nombre de la carrera"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/carrera",{nombre:n.nombre,id_departamento:a.state.departamento.id_departamento}).then(function(t){console.log(t),200===t.status?(u.default.success("Carrera agregada satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar la carrera. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(_.Component);t.default=S},1376:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(28)),u=n(i),c=(a(15),a(21)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v);a(44);var _=p.default.Item,y=f.default.Option,g=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||alert("alv")})},l=a,o(n,l)}return l(t,e),b(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=e("titulo",{initialValue:"ING."})(h.default.createElement(f.default,{style:{width:90}},h.default.createElement(y,{value:"ING."},"ING."),h.default.createElement(y,{value:"DR."},"DR."),h.default.createElement(y,{value:"DRA."},"DRA."),h.default.createElement(y,{value:"MTRO."},"MTRO."),h.default.createElement(y,{value:"DIR."},"DIR."),h.default.createElement(y,{value:"DIRA."},"DIRA."),h.default.createElement(y,{value:"LIC."},"LIC."),h.default.createElement(y,{value:"ISC."},"ISC."),h.default.createElement(y,{value:"ISI."},"ISI."),h.default.createElement(y,{value:"MAI."},"MAI."),h.default.createElement(y,{value:"MBT."},"MTB."),h.default.createElement(y,{value:"MCT."},"MCT."),h.default.createElement(y,{value:"MTI."},"MTI."),h.default.createElement(y,{value:"M.A.T.I."},"M.A.T.I."),h.default.createElement(y,{value:"M.C."},"M.C.")));return h.default.createElement(p.default,{onSubmit:this.handleSubmit},h.default.createElement(_,{label:"Nombre completo del subdirector academico: "},e("nombre",{rules:[{required:!0,message:"El subdirector academico debe tener un nombre."}]})(h.default.createElement(d.default,{type:"mayuscula",addonBefore:t,style:{width:"100%"},placeholder:"Nombre completo del subdirector academico"}))),h.default.createElement(u.default,{htmlType:"submit"},"Guardar"))}}]),t}(v.Component),E=p.default.create()(g);t.default=E},1377:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(12),a(13)),f=n(s),m=(a(16),a(17)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=a(9),y=n(_),g=a(34),E=n(g),w=a(1378),O=n(w),S=p.default.Option,C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChageCarrera=function(e){var t=a.state.carreras,n=t.carreras.find(function(t){return""+t.id===e});y.default.get("/api/departamento/"+n.id_departamento).then(function(t){if(200===t.status){a.setState({departamento:t.data});var n=a.state.departamento,r=n.carreras.find(function(t){return""+t.id===e});y.default.get("/api/carrera/"+e+"/docentes_asignados").then(function(e){200===e.status?(console.log("alv",e.data),a.setState({carrera:h.default.createElement(O.default,{key:E.default.v4(),carrera:r,docentes:n.docentes,docentesAsignados:e.data})})):f.default.warning("Verificar los docentes asignados.")})}})},a.state={departamento:null,carrera:null,docentesAsigandos:null,carreras:null},a}return l(t,e),b(t,[{key:"componentDidMount",value:function(){var e=this;y.default.get("/api/carreras").then(function(t){200==t.status&&(console.log(t.data),e.setState({carreras:t.data}))})}},{key:"componentWillReceiveProps",value:function(e){this.setState({departamento:null,carrera:null,docentesAsigandos:null})}},{key:"render",value:function(){var e=this.state,t=(e.departamento,e.carreras),a=e.carrera;return h.default.createElement("div",null,h.default.createElement(u.default,null,h.default.createElement(d.default,{xs:24,lg:6},h.default.createElement("p",null,"Carrera: "),h.default.createElement(p.default,{placeholder:"Seleccione una carrera",style:{width:"100%"},onChange:this.handleChageCarrera},t?t.carreras.map(function(e,t){return h.default.createElement(S,{key:t,value:""+e.id},e.nombre)}):""))),a)}}]),t}(v.Component);t.default=C},1378:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(22),a(23)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(15),a(21)),_=n(h),y=(a(29),a(28)),g=n(y),E=(a(19),a(20)),w=n(E),O=(a(16),a(17)),S=n(O),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},k=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),x=a(0),j=n(x),A=a(9),P=n(A),R=a(34),I=n(R),M=S.default.Option,T=w.default.Item,D=w.default.create()(function(e){var t=e.form,a=e.handleSubmit,n=e.docentes,r=(e.checkDocenteDiferente,e.docentesAsignados),o=t.getFieldDecorator,l=r.find(function(e){return"presidente_academia"===e.rol})||null;r.find(function(e){return"jefe_proyecto"===e.rol});return j.default.createElement(w.default,{layout:"horizontal",onSubmit:a},j.default.createElement(T,{hasFeedback:!0,label:"Presidente de la academia"},o("id_presidente_academia",{rules:[{required:!0,message:"Seleccione al presidente de academia"}],initialValue:l?""+n.find(function(e){return e.id===l.id_docente}).id:null})(j.default.createElement(S.default,{showSearch:!0,placeholder:"Seleccione al presidente de la academia",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map(function(e,t){return j.default.createElement(M,{key:I.default.v1(),value:""+e.id},e.nombre)})))),j.default.createElement(g.default,{type:"primary",htmlType:"submit"},"Guardar"))}),F=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Y.call(a);var n=e.docentes.map(function(e,t){return{id:e.id,key:I.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,acciones:"assign"}});return a.state={carrera:e.carrera,docentes:n,filterDocentes:n,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados},a}return l(t,e),k(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.docentes.map(function(e,t){return{id:e.id,key:I.default.v1(),nombre:e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno,id_usuario:e.id_usuario,asignacion:"assign"}});this.setState({carrera:e.carrera,docentes:t,filterDocentes:t,filterDropdownVisible:!1,searchText:"",filtered:!1,docentesAsignados:e.docentesAsignados})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.carrera,t.docentes),n=(t.filterDocentes,t.docentesAsignados);j.default.createElement("div",{className:"custom-filter-dropdown"},j.default.createElement(_.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),j.default.createElement(g.default,{type:"primary",onClick:this.onSearch},"Buscar")),j.default.createElement(v.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),this.state.filterDropdownVisible,n.find(function(e){return"presidente_academia"===e.rol}),n.find(function(e){return"jefe_proyecto"===e.rol});return j.default.createElement("div",null,j.default.createElement(u.default,{style:{marginTop:20}},j.default.createElement(d.default,{xs:24,lg:16},j.default.createElement(D,{ref:this.refForm,handleSubmit:this.handleSubmit,docentes:a,checkDocenteDiferente:this.checkDocenteDiferente,docentesAsignados:n}))))}}]),t}(x.Component),Y=function(){var e=this;this.refForm=function(t){e.form=t},this.checkDocenteDiferente=function(t,a,n){a===e.form.getFieldValue("id_presidente_academia")?n("El jefe de proyecto no puede ser el mismo que el presidente de academia"):n()},this.handleSubmit=function(t){t.preventDefault();var a=e.state.carrera;e.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),P.default.post("/api/carrera/asignar_encargadoss",{id_carrera:a.id,id_presidente_academia:t.id_presidente_academia}).then(function(e){200===e.status?p.default.success("Carrera actualizada!"):f.default.error({title:"Error al actualizar la carrera. Revisar los siguientes campos",content:j.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){p.default.error("Error en el servidor verificar con el encargado.")}))})},this.onInputChange=function(t){e.setState({searchText:t.target.value})},this.onSearch=function(){var t=e.state,a=t.searchText,n=t.docentes,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterDocentes:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?C({},e,{nombre:j.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[j.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})}};t.default=F},1379:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(121),a(122)),v=n(b),h=(a(16),a(17)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=a(6),O=(n(w),a(9)),S=n(O),C=a(1),k=n(C),x=_.default.Option,j=function(){v.default.warning({message:"Notificación del sistema",description:"Para poder asignar el usuario y constraseña al candidato a residente debes haber seleccionado un periodo en el combobox de arriba por ejemplo periodo FEBRERO-JUNIO/2018."})};v.default.config({placement:"topRight",bottom:50,duration:13});var A=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fetchPeriodos=function(){S.default.get("/api/periodoss").then(function(t){200===t.status&&(console.log("==>",t.data),e.setState({periodos:t.data}))})},e.fetchUsuarios=function(){S.default.get("/api/pre_registro").then(function(t){if(200===t.status){console.log("alumnos"+t.data);var a=t.data.map(function(e,t){return{id:e.no_control,nombre:e.nombre+" "+e.ap_paterno+" "+e.ap_materno,correo:e.correo,carrera:e.carreraPre.nombre,id_carrera:e.carreraPre.id,key:t}});e.setState({usuarios:a,loadTable:!1})}})},e.enviarContrasenia=function(t,a,n){var r=e.state.periodo;r?S.default.get("/api/alumno/periodot/"+r+"+"+t+"+"+n).then(function(t){200===t.status?(e.fetchUsuarios(),p.default.success("El usuario y la constraseña enviaron al correo del candidato a residente")):p.default.error("ups hubo un error inesperado favor de contactar al administrador")}):j()},e.handlePeriodo=function(t){var a=t.split("#"),n=a[0],r=a[1].split("+"),o=(0,k.default)().format("YYYY-MM-DD");console.log(o+" =>>>>: "+r[0]+"------"+r[1]),o>=r[0]&&o<=r[1]?e.setState({periodo:n}):(p.default.warning("no se puede agregar residentes a ese perido ya que las fechas puestas hasta este momento no cumplen"),e.setState({periodo:null}))},e.state={usuarios:[],loadTable:!0,periodos:null,periodo:null},e}return l(t,e),y(t,[{key:"componentDidMount",value:function(){this.fetchUsuarios(),this.fetchPeriodos()}},{key:"render",value:function(){var e=this,t=this.state,a=t.usuarios,n=t.loadTable,r=t.periodos;console.log(r,"----sl,s,oms");var o=[{title:"No.Control",dataIndex:"id",key:"id"},{title:"Nombre",dataIndex:"nombre",key:"nombre"},{title:"correo",dataIndex:"correo",key:"correo"},{title:"Carrera",dataIndex:"carrera",key:"id_carrera",filters:[{text:"Ingeniería en sistemas computacionales",value:"Ingeniería en sistemas computacionales"},{text:"Ingeniería informática",value:"Ingeniería informática"},{text:"Ingeniería civil",value:"Ingeniería civil"},{text:"Ingeniería en gestión empresarial",value:"Ingeniería en gestión empresarial"},{text:"Contador público",value:"Contador público"}],onFilter:function(e,t){return 0===t.carrera.indexOf(e)}},{className:"center-text",title:"Accion",dataIndex:"key",key:"key",render:function(t,a){return E.default.createElement(f.default,{icon:"reload",onClick:function(){return e.enviarContrasenia(a.id,a.correo,a.id_carrera)}},"Enviar usuario y constraseña  a su correo")}}];return E.default.createElement("div",null,E.default.createElement("div",null,E.default.createElement(_.default,{placeholder:"Seleccione el periodo",onChange:this.handlePeriodo,style:{width:300,left:450,fontSize:20}},r?r.map(function(e,t){return(0,k.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto?E.default.createElement(x,{key:t,value:e.periodo+"+"+e.ciclo+"#"+e.fecha_inicio_entrega_anteproyecto+"+"+e.fecha_fin_entrega_anteproyecto},e.periodo+"/"+e.ciclo):""}):"")),E.default.createElement("h3",null,"Residentes"),E.default.createElement(u.default,{xs:24,lg:24},E.default.createElement(d.default,{dataSource:a,columns:o,pagination:{pageSize:10},loading:n,scroll:{x:1100}})))}}]),t}(g.Component);t.default=A},1380:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(12),a(13)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(26),a(27)),p=n(m),b=(a(24),a(25)),v=n(b),h=(a(85),a(86)),_=n(h),y=(a(16),a(17)),g=n(y),E=(a(19),a(20)),w=n(E),O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),S=a(0),C=n(S),k=a(9),x=n(k),j=a(1),A=n(j),P=w.default.Item,R=g.default.Option,I=_.default.RangePicker,M=w.default.create()(function(e){var t=e.onCreate,a=e.form,n=(e.carreras,e.checkPeriodoEntregaAnteproyecto),r=a.getFieldDecorator,o=2017,l={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]},i={rules:[{validator:n},{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del periodo"}]};return C.default.createElement("div",null,C.default.createElement(w.default,{layout:"vertical",onSubmit:t},C.default.createElement(p.default,{gutter:16},C.default.createElement("h1",null,"Perido de residencia"),C.default.createElement(v.default,{xs:18,lg:8},C.default.createElement(P,{label:"Periodo",hasFeedback:!0},r("periodo",{rules:[{required:!0,message:"Debe indicar el periodo de la residencia"}]})(C.default.createElement(g.default,{placeholder:"Seleccione un periodo"},C.default.createElement(R,{value:"FEBRERO-JUNIO"},"FEBRERO-JUNIO"),C.default.createElement(R,{value:"AGOSTO-DICIEMBRE"},"AGOSTO-DICIEMBRE"))))),C.default.createElement(v.default,{xs:6,lg:4},C.default.createElement(P,{label:"Ciclo",hasFeedback:!0},r("ciclo",{rules:[{required:!0,message:"Debe indicar el ciclo de la residencia"}]})(C.default.createElement(g.default,{placeholder:"Seleccione un ciclo"},Array(50).fill(1).map(function(e,t){return o++,C.default.createElement(R,{key:t,value:""+o},o)})))))),C.default.createElement(p.default,null,C.default.createElement(v.default,{xs:24,lg:8},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin del periodo",style:{width:"100%"}},r("fechas_periodo",l)(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}})))),C.default.createElement(v.default,{xs:24,lg:8},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin de la entrega de anteproyectos"},r("fechas_entrega_anteproyecto",i)(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}}))))),C.default.createElement(p.default,null,C.default.createElement("h1",null,"Fecha de turno de dictamen para los presidentes academicos "),C.default.createElement(v.default,{xs:24,lg:12},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin de de turno de dictamen para los presidentes academicos"},r("fechas_entrega_dictamen",{rules:[{required:!0,message:"Debe indicar una fecha para  los dictamentes"}]})(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}}))))),C.default.createElement(p.default,null,C.default.createElement("h1",null,"Fechas de Conclusión "),C.default.createElement(v.default,{xs:24,lg:12},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin para la liberacion del asesor interno"},r("fechas_entrega_liberacion_interno",{rules:[{required:!0,message:"Debe indicar una fecha para la liberacion del asesor interno"}]})(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}})))),C.default.createElement(v.default,{xs:24,lg:12},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin para la liberacion del asesor externo"},r("fechas_entrega_liberacion_externo",{rules:[{required:!0,message:"Debe indicar una fecha para  la liberacion del asesor externo"}]})(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}}))))),C.default.createElement(p.default,null,C.default.createElement(v.default,{xs:24,lg:12},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin para Emitir la Evolucion final"},r("fechas_emitir_evolucion_final",{rules:[{required:!0,message:"Debe indicar una fecha para Emitir la  evolucion final"}]})(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}})))),C.default.createElement(v.default,{xs:24,lg:12},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin  para la liberacion de la empresa"},r("fecha_entrega_empresa",{rules:[{required:!0,message:"Debe indicar una fecha para la liberacion de la empresa"}]})(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}})))),C.default.createElement(v.default,{xs:24,lg:12},C.default.createElement(P,{label:"Seleccione la fecha de inicio y fin  para la liberacion de la empresa"},r("fechas_liberacion",{rules:[{required:!0,message:"Debe indicar una fecha para  la liberacion de la empresa"}]})(C.default.createElement(I,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,A.default)().format("YYYY-MM-DD")}}))))),C.default.createElement(f.default,{icon:"save",type:"primary",htmlType:"submit",style:{marginTop:20,marginBottom:20}},"Aperturar periodo")))}),T=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.checkPeriodoEntregaAnteproyecto=function(t,a,n){var r=e.form,o=r.getFieldValue("fechas_periodo");console.log(a),console.log(o),o?a[0].format("YYYY-MM-DD")<o[0].format("YYYY-MM-DD")?n("La fecha de inicio de entrega de anteproyecto debe ser despues de: "+o[0].format("ll")):a[1].format("YYYY-MM-DD")>o[1].format("YYYY-MM-DD")?n("La fecha de fin de entrega de anteproyecto debe ser antes que: "+o[1].format("ll")):n():n("Primero seleccione la fecha del periodo.")},e.handleCreate=function(t){t.preventDefault();var a=e.form;a.validateFields(function(e,t){if(!e){console.log("Received values of form: ",t);var n=(t.id_carrera,t.periodo),r=t.ciclo,o=[t.fechas_periodo[0].format("YYYY-MM-DD"),t.fechas_periodo[1].format("YYYY-MM-DD")],l=[t.fechas_entrega_anteproyecto[0].format("YYYY-MM-DD"),t.fechas_entrega_anteproyecto[1].format("YYYY-MM-DD")],i=[t.fechas_entrega_dictamen[0].format("YYYY-MM-DD"),t.fechas_entrega_dictamen[1].format("YYYY-MM-DD")],c=[t.fechas_entrega_liberacion_interno[0].format("YYYY-MM-DD"),t.fechas_entrega_liberacion_interno[1].format("YYYY-MM-DD")],s=[t.fechas_entrega_liberacion_externo[0].format("YYYY-MM-DD"),t.fechas_entrega_liberacion_externo[1].format("YYYY-MM-DD")],f=[t.fechas_emitir_evolucion_final[0].format("YYYY-MM-DD"),t.fechas_emitir_evolucion_final[1].format("YYYY-MM-DD")],m=[t.fecha_entrega_empresa[0].format("YYYY-MM-DD"),t.fecha_entrega_empresa[1].format("YYYY-MM-DD")],p=[t.fechas_liberacion[0].format("YYYY-MM-DD"),t.fechas_liberacion[1].format("YYYY-MM-DD")];x.default.post("/api/carrera/periodos",{periodo_residencia:n,ciclo:r,fechas_periodo:o,fechas_entrega_anteproyecto:l,fechas_dictamen:i,fechas_liberacion_asesor_interno:c,fechas_liberacion_asesor_externo:s,fechas_emitir_evolucion_final:f,fechas_entrega_empresa:m,fechas_liberacion_empresa:p}).then(function(e){console.log(e),200===e.status?(a.resetFields(),d.default.success("Periodo agregado satisfactoriamente!")):u.default.error({title:"Error al guardar el el periodo. Revisar los siguientes campos",content:C.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){d.default.error(e)})}})},e.saveFormRef=function(t){e.form=t},e.state={carreras:null},e}return l(t,e),O(t,[{key:"render",value:function(){var e=this.state.carreras;return C.default.createElement("div",null,C.default.createElement(M,{ref:this.saveFormRef,onCreate:this.handleCreate,carreras:e,checkPeriodoEntregaAnteproyecto:this.checkPeriodoEntregaAnteproyecto}))}}]),t}(S.Component);t.default=T},1381:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(26),a(27)),c=n(u),d=(a(39),a(40)),s=n(d),f=(a(24),a(25)),m=n(f),p=(a(85),a(86)),b=n(p),v=(a(22),a(23)),h=n(v),_=(a(119),a(120)),y=n(_),g=(a(143),a(144)),E=n(g),w=(a(29),a(28)),O=n(w),S=(a(30),a(18)),C=n(S),k=(a(12),a(13)),x=n(k),j=(a(16),a(17)),A=n(j),P=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),R=a(0),I=n(R),M=a(9),T=n(M),D=a(1),F=n(D),Y=a(34),N=(n(Y),a(643)),z=n(N),G=a(1382),L=n(G),q=A.default.Option,B=function(e){function t(){o(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleCancelacion=function(t){T.default.put("/api/alumno/cancelacion",{id_alumno:t}).then(function(t){200===t.status?(x.default.success("Se realizado la cancelación del proyecto del alumno!"),e.setState({visible_add_alumno:!1,visible_add_seguimiento:!1})):x.default.error("Ops, hubo un error al realizar la cancelación, favor de reportar al administrador.")})},e.showListaCandidatosResidente=function(t){T.default.get("/api/periodo/"+t+"/anteproyectos").then(function(t){if(200===t.status){var a=t.data.map(function(t,a){return I.default.createElement("div",{style:{overflowY:100}},I.default.createElement(y.default.Item,{key:a,color:"green",dot:I.default.createElement(C.default,{type:"check-circle-o",style:{fontSize:"16px",marginTop:10,marginLeft:10}})},I.default.createElement("p",null,t.nombre+" "+t.ap_paterno+" "+t.ap_materno),I.default.createElement(E.default,{title:I.default.createElement("span",null,I.default.createElement("p",null,"¿Esta seguro de realizar la cancelación de proyecto?"),I.default.createElement("p",null,"al realizar esta acción, se borrara todo la información relacionada a este alumno"),I.default.createElement("p",null,"y se podra agregar al alumno a otro periodo.")),onConfirm:function(){return e.handleCancelacion(t.id)},okText:"Si",cancelText:"Cancelar"},I.default.createElement(O.default,{icon:"user-delete",style:{marginTop:5},type:"danger"},"Realizar cancelación"))))});h.default.info({width:600,title:"Lista residentes del periodo.",content:I.default.createElement(y.default,null,a),onOk:function(){}})}})},e.showAddAlumno=function(t){e.setState({visible_add_alumno:!0,visible_add_seguimiento:!1,id_periodo:t})},e.showAddSeguimiento=function(t,a){e.setState({visible_add_alumno:!1,visible_add_seguimiento:!0,id_periodo:t})},e.showSeguimientos=function(e){console.warn(e);var t=e.map(function(e,t){return I.default.createElement(y.default.Item,{key:t},I.default.createElement("p",null,I.default.createElement("strong",null,t+1)," - Del ",(0,F.default)(e.fecha_inicial,"YYYY-MM-DD").format("LL")," al ",(0,F.default)(e.fecha_final,"YYYY-MM-DD").format("LL")))});h.default.info({title:"Seguimientos",width:600,content:I.default.createElement(y.default,null,t),onOk:function(){}})},e.handleChageCarrera=function(t){e.setState({fecha_inicioP:t});e.state.carreras;T.default.get("/api/carrera/periodos_todos/"+t,{}).then(function(t){200===t.status?e.setState({carreraSeleccionada:t.data,visible_add_alumno:!1,visible_add_seguimiento:!1}):x.default.warning("Verificar conexión.")})},e.handleChageCarrerarefres=function(){var t=e.state.fecha_inicioP;T.default.get("/api/carrera/periodos_todos/"+t,{}).then(function(t){200===t.status?e.setState({carreraSeleccionada:t.data,visible_add_alumno:!1,visible_add_seguimiento:!1}):x.default.warning("Verificar conexión.")})},e.handleChangeFechaFinEntregaAnteproyecto=function(t,a){var n=e.state.fecha_inicioP;T.default.put("/api/periodo/fecha_fin_entrega_anteproyectos",{fecha_fin_entrega_anteproyecto:t.format("YYYY-MM-DD"),fecha:n,datoamodificar:a}).then(function(t){200===t.status?(x.default.success("Fecha de entrega de anteproyectos actualizada!"),e.handleChageCarrerarefres()):x.default.warning("Ups, verificar conexión.")})},e.state={periodoss:null,carreraSeleccionada:null,visible_add_alumno:!1,visible_add_seguimiento:!1,id_periodo:null,alumnos_rechazados_por_carrera:[],fecha_inicioP:null},e}return i(t,e),P(t,[{key:"componentWillMount",value:function(){var e=this;T.default.get("/api/periodoss").then(function(t){200===t.status&&(console.log("==>",t.data),e.setState({periodoss:t.data}))})}},{key:"eliminarObjetosDuplicados",value:function(e,t){var a=[],n={};for(var r in e)n[e[r][t]]=e[r];for(r in n)a.push(n[r]);return a}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.periodoss,o=a.fecha_inicioP,l=a.carreraSeleccionada,i=a.visible_add_alumno,u=a.id_periodo,d=(a.visible_lista_candidatos_residente,a.alumnos_rechazados_por_carrera),f=a.visible_add_seguimiento,p=(0,F.default)().format("YYYY-MM-DD"),v=l?l.map(function(e,t){var a;return a={id:e.id,key:0,periodo:e.periodo,ciclo:e.ciclo,fecha_periodo:e.fecha_inicio+" - "+e.fecha_fin,fecha_fin:e.fecha_fin,fecha_inicio_entrega_anteproyecto:e.fecha_inicio_entrega_anteproyecto,fecha_fin_entrega_anteproyecto:e.fecha_fin_entrega_anteproyecto,fecha_inicio_dictamen:e.fecha_inicio_dictamen,fecha_fin_dictamen:e.fecha_fin_dictamen,fecha_inicio_lai:e.fecha_inicio_lai,fecha_fin_lai:e.fecha_fin_lai,fecha_inicio_eef:e.fecha_inicio_eef},r(a,"fecha_inicio_eef",e.fecha_inicio_eef),r(a,"fecha_fin_eef",e.fecha_fin_eef),r(a,"fecha_inicio_entrega_empresa",e.fecha_inicio_entrega_empresa),r(a,"fecha_fin_entrega_empresa",e.fecha_fin_entrega_empresa),r(a,"fecha_inicio_liberacion_empresa",e.fecha_inicio_liberacion_empresa),r(a,"fecha_fin_liberacion_empresa",e.fecha_fin_liberacion_empresa),r(a,"acciones",(0,F.default)().format("YYYY-MM-DD")>=e.fecha_inicio_entrega_anteproyecto&&(0,F.default)().format("YYYY-MM-DD")<=e.fecha_fin_entrega_anteproyecto),r(a,"lista_candidatos","on"),r(a,"seguimientos",e.seguimientos),a}):null;console.log(v);var h=[{className:"center-text",title:"Periodo",key:"periodo",dataIndex:"periodo",fixed:"left"},{className:"center-text",title:"Ciclo",key:"ciclo",dataIndex:"ciclo",fixed:"left"},{className:"center-text",title:"Fecha de periodo",key:"fecha_periodo",dataIndex:"fecha_periodo"},{className:"center-text",title:"Fecha entrega anteproyectos",key:"fecha_entrega_anteproyecto",dataIndex:"fecha_entrega_anteproyecto",render:function(e,a){return I.default.createElement("span",null,a.fecha_inicio_entrega_anteproyecto," - ",I.default.createElement(b.default,{onChange:function(e,a){t.handleChangeFechaFinEntregaAnteproyecto(e,"anteproyecto")},disabledDate:function(e){return e.format("YYYY-MM-DD")>(0,F.default)(a.fecha_fin,"YYYY-MM-DD").format("YYYY-MM-DD")||e.format("YYYY-MM-DD")<(0,F.default)(a.fecha_inicio_entrega_anteproyecto,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,F.default)(a.fecha_fin_entrega_anteproyecto,"YYYY-MM-DD")}))}},{className:"center-text",title:"Fecha turno de dictamen",key:"fecha_turno_dictamen",dataIndex:"fecha_turno_dictamen",render:function(e,a){return I.default.createElement("span",null,a.fecha_inicio_dictamen," - ",I.default.createElement(b.default,{onChange:function(e,a){t.handleChangeFechaFinEntregaAnteproyecto(e,"dictamen")},disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,F.default)(a.fecha_fin_dictamen,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,F.default)(a.fecha_fin_dictamen,"YYYY-MM-DD")}))}},{className:"center-text",title:"Fecha de liberacion del asesor interno",key:"fecha_inicio_lai",dataIndex:"fecha_inicio_lai",render:function(e,a){return I.default.createElement("span",null,a.fecha_inicio_lai," - ",I.default.createElement(b.default,{onChange:function(e,a){t.handleChangeFechaFinEntregaAnteproyecto(e,"lai")},disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,F.default)(a.fecha_fin_lai,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,F.default)(a.fecha_fin_lai,"YYYY-MM-DD")}))}},{className:"center-text",title:"Fecha de liberacion del asesor externo",key:"fecha_inicio_eef",dataIndex:"fecha_inicio_eef",render:function(e,a){return I.default.createElement("span",null,a.fecha_inicio_eef," - ",I.default.createElement(b.default,{onChange:function(e,a){t.handleChangeFechaFinEntregaAnteproyecto(e,"lae")},disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,F.default)(a.fecha_fin_eef,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,F.default)(a.fecha_fin_eef,"YYYY-MM-DD")}))}},{className:"center-text",title:"Fecha de entrega a la empresa",key:"fecha_inicio_entrega_empresa",dataIndex:"fecha_inicio_entrega_empresa",render:function(e,a){return I.default.createElement("span",null,a.fecha_inicio_entrega_empresa," - ",I.default.createElement(b.default,{onChange:function(e,a){t.handleChangeFechaFinEntregaAnteproyecto(e,"entrega")},disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,F.default)(a.fecha_fin_entrega_empresa,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,F.default)(a.fecha_fin_entrega_empresa,"YYYY-MM-DD")}))}},{className:"center-text",title:"Fecha de liberacion de la empresa",key:"fecha_inicio_liberacion_empresa",dataIndex:"fecha_inicio_liberacion_empresa",render:function(e,a){return I.default.createElement("span",null,a.fecha_inicio_liberacion_empresa," - ",I.default.createElement(b.default,{onChange:function(e,a){t.handleChangeFechaFinEntregaAnteproyecto(e,"liberacion")},disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,F.default)(a.fecha_fin_liberacion_empresa,"YYYY-MM-DD").format("YYYY-MM-DD")},format:"YYYY-MM-DD",defaultValue:(0,F.default)(a.fecha_fin_liberacion_empresa,"YYYY-MM-DD")}))}},{className:"center-text",title:"Seguimientos",key:"seguimientos",dataIndex:"seguimientos",fixed:"right",render:function(e,a){return I.default.createElement("div",null,I.default.createElement(O.default,{style:{marginRight:2,marginLeft:2},type:"primary",icon:"bars",onClick:function(){return t.showSeguimientos(a.seguimientos)}},"Lista"),p>a.fecha_fin?"":I.default.createElement(O.default,{style:{marginRight:2,marginLeft:2},icon:"plus",onClick:function(){return t.showAddSeguimiento(a.id,a.fecha_fin)}},"Seguimiento"))}}];return I.default.createElement(c.default,{gutter:16},I.default.createElement(m.default,{xs:24,lg:4},I.default.createElement("p",null,"Seleccione el periodo: "),I.default.createElement(A.default,{placeholder:"Seleccione periodo",style:{width:"110%"},onChange:this.handleChageCarrera},n?n.map(function(e,t){return I.default.createElement(q,{key:t,value:e.periodo+"+"+e.ciclo},e.periodo+"/"+e.ciclo)}):"")),I.default.createElement(m.default,{xs:24,lg:30},I.default.createElement(s.default,(e={bordered:!0,title:function(){return"Gestión de periodos"},pagination:!1,dataSource:this.eliminarObjetosDuplicados(v,"key"),className:"full-width",columns:h},r(e,"pagination",!1),r(e,"scroll",{x:2050}),e))),I.default.createElement(z.default,{visible:i,carrera:l,id_periodo:u,alumnos_rechazados_por_carrera:d}),I.default.createElement(L.default,{visible:f,fecha:o,Onresfrecar:this.handleChageCarrerarefres.bind(this)}))}}]),t}(R.Component);t.default=B},1382:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(85),a(86)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=a(1),O=n(w),S=v.default.Item,C=(p.default.TextArea,f.default.RangePicker),k=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator,l={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del seguimiento"}]};return y.default.createElement(d.default,{visible:t,title:"Agregar seguimiento de residencia",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical",style:{width:"100%"}},y.default.createElement(S,{label:"Seleccione la fecha de inicio y fin del seguimiento",style:{width:"100%"}},o("fechas_seguimiento",l)(y.default.createElement(C,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,O.default)().format("YYYY-MM-DD")}})))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){if(!t){var r=n.fechas_seguimiento[0].format("YYYY-MM-DD"),o=n.fechas_seguimiento[1].format("YYYY-MM-DD"),l=(a.state.id_periodo,a.state.fecha);E.default.post("/api/periodo/seguimientos",{fecha:l,fecha_inicial:r,fecha_final:o}).then(function(t){200===t.status?(u.default.success("Seguimiento agregado satisfactoriamente!"),e.resetFields(),a.setState({visible:!1}),a.props.Onresfrecar()):d.default.error({title:"Error al agregar el seguimiento. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})}})},a.saveFormRef=function(e){a.form=e},a.state={fecha:e.fecha,visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.fecha;this.setState({fecha:a,visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=x},1383:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(673),a(674)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(16),a(17)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(9),E=n(g),w=a(34),O=(n(w),a(1391)),S=n(O),C=(v.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSeguimientos=function(e){console.log(e),a.setState({carrera:null,id_termino:e}),""!=e?E.default.get("/api/seguimientos/divi/"+e).then(function(e){200===e.status?a.setState({carrera:y.default.createElement(S.default,{segui:e.data})}):p.default.warning("Verificar lo que has seleccionado")}):p.default.error("Debes selecionar un periodo con la carrera deseada")},a.state={departamento:null,carrera:null,docentesAsigandos:null,carreras:null,options1:[],id_termino:null},a}return l(t,e),h(t,[{key:"componentWillMount",value:function(){var e=this;E.default.get("/api/seguimiento/carreras").then(function(t){if(200==t.status){var a=t.data.map(function(e,t){return{value:""+e.periodo.carrera.id,label:""+e.periodo.carrera.nombre}}),n=t.data.map(function(t,n){return{value:t.periodo.periodo+","+t.periodo.ciclo,label:t.periodo.periodo+"/"+t.periodo.ciclo,children:e.eliminarObjetosDuplicados(a,"value")}});e.setState({options1:e.eliminarObjetosDuplicados(n,"value")})}})}},{key:"componentWillReceiveProps",value:function(e){this.setState({departamento:null,carrera:null,docentesAsigandos:null})}},{key:"eliminarObjetosDuplicados",value:function(e,t){var a=[],n={};for(var r in e)n[e[r][t]]=e[r];for(r in n)a.push(n[r]);return a}},{key:"onChangeD",value:function(e){p.default.success(e)}},{key:"render",value:function(){var e=this.state,t=(e.departamento,e.carreras,e.carrera),a=e.options1;return y.default.createElement("div",null,y.default.createElement(u.default,null,y.default.createElement(d.default,{xs:34,lg:16},y.default.createElement("h2",null,"Periodo:"),y.default.createElement(f.default,{style:{width:400,fontSize:14},options:a,onChange:this.handleSeguimientos,placeholder:"Seleccione el periodo"}))),t)}}]),t}(_.Component));t.default=C},1391:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(30),a(18)),f=n(s),m=(a(62),a(63)),p=n(m),b=(a(12),a(13)),v=n(b),h=(a(55),a(56)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=a(34),O=(n(w),a(1)),S=n(O),C=a(9),k=n(C),x=a(1392),j=n(x),A=a(1393),P=n(A),R=a(1394),I=n(R),M=_.default.TabPane,T=(a(262),function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.actualizarsituacion=function(e){k.default.put("/api/alumno/situacion",{id:e,estado:"cancelado"}).then(function(e){(e.status=200)?console.log("ok se cambio el estado "):v.default.error("Ups ha visto un problema, favor de contactar al administrador")})},a.actualizarsituacionfinal=function(e){return k.default.put("/api/alumno/situacion",{id:e,estado:"abandonado"}).then(function(e){(e.status=200)?console.log("ok se cambio el estado "):v.default.error("Ups ha visto un problema, favor de contactar al administrador")}),"abandonado"},a.actualizaSuNumeroDeSeguimientosEntregados=function(e,t){k.default.put("/api/alumno/situacion/numeroseguimientos",{id:e,numeroseguimientos:t}).then(function(e){(e.status=200)?console.log("ok se cambio el numero "):v.default.error("Ups ha visto un problema, favor de contactar al administrador")})},a.onChangeSeguimiento=function(e){var t=a.state.seguimientos,n=(0,S.default)().format("YYYY-MM-DD"),r=e.split("+");if("seguimiento_final"===e)k.default.get("/api/seguimiento/generar/reportefinal/"+t[0].id_periodo).then(function(e){if(200===e.status){e.data.anteproyectos.map(function(t,n){return{NO:n+1,control:t.alumno.no_control,nombre:t.alumno.nombre+" "+t.alumno.ap_paterno+" "+t.alumno.ap_materno,Anteproyecto:t.nombre,asesor:t.asesor_interno?t.asesor_interno.titulo+" "+t.asesor_interno.nombre+" "+t.asesor_interno.ap_paterno+" "+t.asesor_interno.ap_materno:"",fecha:e.data.periodo.fecha_fin,lugar:t.asesor_externo?t.asesor_externo.empresa.nombre:"",cumplio:t.proyectos[0].autorizar_carta_liberacion_asesor_interno&&t.proyectos[0].autorizar_carta_liberacion_asesor_externo?"SI":"NO",estado:"cancelado"===t.alumno.situacion[0].estado&&0===t.alumno.situacion[0].numeroseguimientos?a.actualizarsituacionfinal(t.alumno.id):t.alumno.situacion[0].estado,key:n}});a.setState({renderSeguimiento:E.default.createElement(I.default,{periodo:e.data.periodo})})}else v.default.error("Ups se ocasiono un problema favor de contactar al administrador")});else if("reporte_final"===e)k.default.get("/api/seguimiento/generar/reportefinal/"+t[0].id_periodo).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(t,n){return{NO:n+1,control:t.alumno.no_control,nombre:t.alumno.nombre+" "+t.alumno.ap_paterno+" "+t.alumno.ap_materno,Anteproyecto:t.nombre,asesor:t.asesor_interno?t.asesor_interno.titulo+" "+t.asesor_interno.nombre+" "+t.asesor_interno.ap_paterno+" "+t.asesor_interno.ap_materno:"",fecha:e.data.periodo.fecha_fin,lugar:t.asesor_externo?t.asesor_externo.empresa.nombre:"",cumplio:t.proyectos[0].autorizar_carta_liberacion_asesor_interno&&t.proyectos[0].autorizar_carta_liberacion_asesor_externo?"SI":"NO",estado:"cancelado"===t.alumno.situacion[0].estado&&0===t.alumno.situacion[0].numeroseguimientos?a.actualizarsituacionfinal(t.alumno.id):t.alumno.situacion[0].estado,key:n}});a.setState({renderSeguimiento:E.default.createElement(P.default,{residentes:t,periodo:e.data.periodo})})}else v.default.error("Ups se ocasiono un problema favor de contactar al administrador")});else{var o=t.find(function(e){return e.id==r[0]});n>=o.fecha_final?k.default.get("/api/seguimiento/generar/"+o.id).then(function(e){if(200==e.status){var t=e.data.map(function(e,t){return o.revisado?console.log("que pasa we que pasa"):"no cumplio"===e.estado_seguimiento&&"activo"===e.proyecto.anteproyecto.alumno.situacion[0].estado&&a.actualizarsituacion(e.proyecto.anteproyecto.alumno.id),o.revisado||"cumplio"===e.estado_seguimiento&&a.actualizaSuNumeroDeSeguimientosEntregados(e.proyecto.anteproyecto.alumno.id,e.proyecto.anteproyecto.alumno.situacion[0].numeroseguimientos),{NO:t+1,control:e.proyecto.anteproyecto.alumno.no_control,nombre:e.proyecto.anteproyecto.alumno.nombre+" "+e.proyecto.anteproyecto.alumno.ap_paterno+" "+e.proyecto.anteproyecto.alumno.ap_materno,Anteproyecto:e.proyecto.anteproyecto.nombre,asesor:e.proyecto.anteproyecto.asesor_interno.titulo+". "+e.proyecto.anteproyecto.asesor_interno.nombre+" "+e.proyecto.anteproyecto.asesor_interno.ap_paterno+" "+e.proyecto.anteproyecto.asesor_interno.ap_materno,fecha:o.fecha_inicial,lugar:e.proyecto.anteproyecto.asesor_externo.empresa.nombre,cumplio:"cumplio"===e.estado_seguimiento?"SI":"NO",key:t}});a.setState({renderSeguimiento:E.default.createElement(j.default,{seguimiento:o,residentes:t,numeroseguimiento:r[1]})}),o.revisado?console.log("ya lo habias visto we"):k.default.put("/api/revisar/seguimiento/"+o.id).then(function(e){200===e.status?console.log("ya vi el seguimiento :",o.id):console.log("paso algo no pudo ver el seguimiento")})}}):a.setState({renderSeguimiento:E.default.createElement(p.default,{message:"No puede acceder al seguimiento,\n Fecha final: "+(0,S.default)(o.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0})})}},a.handleSeguimientos=function(e){a.setState({carrera:null}),""!=e?k.default.get("/api/seguimientos/divi/"+e).then(function(e){200===e.status?a.setState({carrera:E.default.createElement(Seguimientos,{segui:e.data})}):v.default.warning("Verificar lo que has seleccionado")}):v.default.error("Debes selecionar un periodo con la carrera deseada")},a.state={seguimientos:e.segui,renderSeguimiento:null},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({seguimientos:e.seguimientos,renderSeguimiento:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.seguimientos,n=t.renderSeguimiento,r=(0,S.default)().format("YYYY-MM-DD");return E.default.createElement("div",null,E.default.createElement("br",null),E.default.createElement("h2",null,"Seguimientos :"),E.default.createElement("br",null),E.default.createElement(u.default,null,E.default.createElement(d.default,{xs:24,lg:24},E.default.createElement(_.default,{defaultActiveKey:"-1",tabPosition:"center",onChange:function(t){return e.onChangeSeguimiento(t)}},a.map(function(e,t){return E.default.createElement(M,{tab:E.default.createElement("span",null,E.default.createElement(f.default,{type:r>e.fecha_final?e.revisado?"eye-o":"eye":"clock-circle-o"}),"Seguimiento "+(t+1)),key:e.id+"+"+(t+1)})}),E.default.createElement(M,{tab:E.default.createElement("span",null,E.default.createElement(f.default,{type:"schedule"}),"Reporte final"),key:"reporte_final"}),E.default.createElement(M,{tab:E.default.createElement("span",null,E.default.createElement(f.default,{type:"schedule"}),"Resultados "),key:"seguimiento_final"}))),E.default.createElement(d.default,{xs:24,lg:24},n)))}}]),t}(g.Component));t.default=T},1392:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(39),a(40)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(12),a(13)),v=n(b),h=(a(96),a(97)),_=n(h),y=(a(15),a(21)),g=n(y),E=(a(19),a(20)),w=n(E),O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),S=a(0),C=n(S),k=(a(6),a(9)),x=n(k),j=a(1),A=(n(j),w.default.Item,g.default.TextArea,_.default.Panel,function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||x.default.put("/api/proyecto/seguimiento",{id_seguimiento:n.props.seguimiento.id,url_seguimiento:t.url_seguimiento}).then(function(e){200===e.status?v.default.success("Seguimiento actualizado satisfactoriamente"):v.default.error("Error al actualizar al seguimiento, favor de reportar al administrador.")})})},l=a,o(n,l)}return l(t,e),O(t,[{key:"render",value:function(){var e=(this.props.form.getFieldDecorator,this.props),t=e.seguimiento,a=e.residentes,n=e.numeroseguimiento,r=[{title:"No",dataIndex:"NO",key:"NO",width:25},{title:"No. Control",dataIndex:"control",key:"control",width:100},{title:"Nombre del Residente",dataIndex:"nombre",key:"nombre",width:200},{title:"INSTITUTO TECNOLOGICO DE CHILPANCINGO",dataIndex:"Anteproyecto1",key:"Anteproyecto1",children:[{title:"Anteproyecto",dataIndex:"Anteproyecto",key:"Anteproyecto"},{title:"Fecha de entrega",dataIndex:"fecha",key:"fecha",width:110},{title:"Asesor Interno",dataIndex:"asesor",key:"asesor",width:200},{title:"Lugar",dataIndex:"lugar",key:"lugar",width:200}]},{title:"Estado",dataIndex:"cumplio",key:"cumplio",width:100,render:function(e,t){return"SI"===t.cumplio?C.default.createElement("p",{style:{color:"#080C27"}},"CUMPLIO"):C.default.createElement("p",{style:{color:"#FF0000"}}," NO CUMPLIO")},filters:[{text:"CUMPLIERON",value:"SI"},{text:"NO COMPLIERON",value:"NO"}],onFilter:function(e,t){return 0===t.cumplio.indexOf(e)}}];return C.default.createElement("div",null,C.default.createElement(u.default,null,C.default.createElement(d.default,{xs:24,lg:24},C.default.createElement(p.default,{icon:"file-pdf",style:{left:800}},C.default.createElement("a",{href:"/api/generar/"+t.id+"/seguimiento/"+n+"/seguimiento",target:"_blank"},"Genera")),C.default.createElement("br",null),C.default.createElement("br",null),C.default.createElement(f.default,{bordered:!0,title:function(){return"Seguimiento "+n},columns:r,dataSource:a,pagination:{pageSize:5},className:"full-width",loading:!1,scroll:{x:1e3}}))))}}]),t}(S.Component)),P=w.default.create({mapPropsToFields:function(e){return{props:e}}})(A);t.default=P},1393:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(39),a(40)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(96),a(97)),v=n(b),h=(a(15),a(21)),_=n(h),y=(a(19),a(20)),g=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),S=(a(6),a(9)),C=(n(S),a(1)),k=(n(C),g.default.Item,_.default.TextArea,v.default.Panel,function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),E(t,[{key:"render",value:function(){var e=(this.props.form.getFieldDecorator,this.props),t=e.residentes,a=e.periodo,n=[{title:"No",dataIndex:"NO",key:"NO",fixed:"left"},{title:"No. Control",dataIndex:"control",key:"control",fixed:"left",width:100},{title:"Nombre del Residente",dataIndex:"nombre",key:"nombre",fixed:"left",width:200},{title:"INSTITUTO TECNOLOGICO DE CHILPANCINGO",dataIndex:"Anteproyecto1",key:"Anteproyecto1",children:[{title:"Anteproyecto",dataIndex:"Anteproyecto",key:"Anteproyecto",width:300},{title:"Fecha de entrega",dataIndex:"fecha",key:"fecha",width:120},{title:"Asesor Interno",dataIndex:"asesor",key:"asesor",width:200},{title:"Lugar",dataIndex:"lugar",key:"lugar",width:200}]},{title:"Estado",dataIndex:"cumplio",key:"cumplio",fixed:"right",width:100,render:function(e,t){return"SI"===t.cumplio?O.default.createElement("p",{style:{color:"#080C27"}},"CUMPLIO"):O.default.createElement("p",{style:{color:"#FF0000"}}," NO CUMPLIO")},filters:[{text:"CUMPLIERON",value:"SI"},{text:"NO COMPLIERON",value:"NO"}],onFilter:function(e,t){return 0===t.cumplio.indexOf(e)}},{title:"Situacion",dataIndex:"estado",key:"estado",fixed:"right",width:100,filters:[{text:"Activo",value:"acvito"},{text:"Cancelado",value:"cancelado"},{text:"Prorroga",value:"prorroga"},{text:"Abandonado",value:"abandonado"},{text:"Termino satisfactoriamente",value:"termino satisfactoriamente"}],onFilter:function(e,t){return 0===t.estado.indexOf(e)}}];return O.default.createElement("div",null,O.default.createElement(u.default,null,O.default.createElement(d.default,{xs:24,lg:24},"//",O.default.createElement(p.default,{icon:"file-pdf",style:{left:800}},O.default.createElement("a",{href:"/api/generar/"+a.id+"/seguimiento/seguimientofinal",target:"_blank"},"Genera")),O.default.createElement("br",null),O.default.createElement("br",null),O.default.createElement(f.default,{bordered:!0,title:function(){return"Reporte final"},columns:n,dataSource:t,pagination:{pageSize:5},className:"full-width",loading:!1,scroll:{x:1350}}))))}}]),t}(w.Component)),x=g.default.create({mapPropsToFields:function(e){return{props:e}}})(k);t.default=x},1394:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(119),a(120)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(55),a(56)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(9),E=n(g),w=a(1),O=n(w),S=(v.default.TabPane,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.actualizar=function(){var e=0,t=0,n=0,r=0,o=0;E.default.get("/api/situacion/periodo/"+a.state.periodo.id).then(function(l){200===l.status?(l.data.map(function(a,o){"cancelado"===a.estado&&(n+=1),"prorroga"===a.estado&&(e+=1),"activo"===a.estado&&(t+=1),"abandonado"===a.estado&&(r+=1)}),o+=n+e+t+r,a.setState({cancelados:n,terminados:t,abandonados:r,prorroga:e,total:o})):message.warning("En el ciclo seleccionado ya se iniciaron los folios")}).catch(function(e){message.error(e)})},a.state={periodo:e.periodo,cancelados:null,terminados:null,abandonados:null,prorroga:null,total:null},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({periodo:e.periodo})}},{key:"componentDidMount",value:function(){this.actualizar()}},{key:"render",value:function(){var e=this.state,t=e.periodo,a=e.total,n=e.prorroga,r=e.terminados,o=e.cancelados,l=e.abandonados;(0,O.default)().format("YYYY-MM-DD");return console.log("checando valores"),console.log(t),y.default.createElement("div",{style:{width:700}},y.default.createElement(u.default,null,y.default.createElement(p.default,{icon:"file-pdf",style:{left:800}},y.default.createElement("a",{href:"/api/residentes/"+t.id+"/termino/"+t.id_carrera,target:"_blank"},"Genera")),y.default.createElement("br",null),y.default.createElement("br",null),y.default.createElement(f.default,{xs:24,lg:24},y.default.createElement("center",null," ",y.default.createElement("h3",null,"Numero total de residentes: ",a||"0"," "))),y.default.createElement("br",null),y.default.createElement(f.default,{xs:24,lg:24},y.default.createElement("center",null,y.default.createElement(d.default,null,y.default.createElement(d.default.Item,{color:"green"},y.default.createElement("h4",null,"Proyectos concluidos........................................",r||"0")),y.default.createElement(d.default.Item,null,y.default.createElement("h4",null,"Proyectos en prorroga.......................................",n||"0")),y.default.createElement(d.default.Item,{color:"red"},y.default.createElement("h4",null,"Proyectos cancelados........................................",o||0)),y.default.createElement(d.default.Item,{color:"red"},y.default.createElement("h4",null,"Proyectos abandonados......................................",l||"0")))))))}}]),t}(_.Component));t.default=S},1395:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(39),a(40)),f=n(s),m=(a(30),a(18)),p=n(m),b=(a(47),a(48)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(62),a(63)),g=n(y),E=(a(170),a(139)),w=n(E),O=(a(19),a(20)),S=n(O),C=(a(1396),a(1399)),k=n(C),x=(a(96),a(97)),j=n(x),A=(a(55),a(56)),P=n(A),R=(a(15),a(21)),I=n(R),M=(a(16),a(17)),T=n(M),D=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),F=a(0),Y=n(F),N=a(9),z=n(N),G=a(34),L=(n(G),a(1403)),q=(n(L),a(1)),B=n(q),V=(T.default.Option,I.default.Search,P.default.TabPane),U=j.default.Panel,W=k.default.Step,H=S.default.Item,K=w.default.Button,J=w.default.Group,X=a(262),Q=(S.default.Item,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeSeguimiento=function(e){var t=a.props.seguimientos,n=(0,B.default)().format("YYYY-MM-DD");if("seguimiento_final"===e)n>=(0,B.default)(periodo.fecha_fin,"YYYY-MM-DD").subtract(X.periodo_residencia.dias_habiles_seguimiento_final,"days").format("YYYY-MM-DD")&&(0,B.default)(periodo.fecha_fin,"YYYY-MM-DD").add(X.periodo_residencia.dias_habiles_seguimiento_final,"days").format("YYYY-MM-DD");else{var r=t.find(function(t){return t.id==e});console.log(r),n>=r.fecha_inicial&&n<=r.fecha_final||a.setState({renderSeguimiento:Y.default.createElement(g.default,{message:"No puede acceder al seguimiento, Fecha final: "+(0,B.default)(r.fecha_final,"YYYY-MM-DD").format("LL"),type:"warning",showIcon:!0})})}},a.handleStatus=function(e,t){z.default.put("/api/alumno/situacion",{id:e,estado:t?"prorroga":"cancelado"}).then(function(e){(e.status=200)?(a.props.refrescar(),_.default.success("Se actualizo correctamente")):_.default.error("Ups ha visto un problema, favor de contactar al administrador")})},a.verificacion=function(e,t){"no cumplio"===t?z.default.put("/api/alumno/situacion",{id:e,estado:"cancelado"}).then(function(e){(e.status=200)?console.log("ok no hacemos nada va bien el amigo"):_.default.error("Ups ha visto un problema, favor de contactar al administrador")}):console.log("ok no hacemos nada va bien el amigo")},a.handleEntregrables=function(e,t,a){z.default.put("/api/alumno/entregables",{id:e,estado:t,entregable:a}).then(function(e){(e.status=200)?_.default.success("Se actualizo correctamente"):_.default.error("Ups ha visto un problema, favor de contactar al administrador")})},a.state={renderSeguimiento:null},a}return l(t,e),D(t,[{key:"render",value:function(){var e=this,t=(this.state.renderSeguimiento,this.props),a=t.alumno,n=t.interno,r=t.externo,o=t.empresa,l=(t.proyecto,t.anteproyecto),i=t.carrera,c=t.seguimientos,s=t.seguimiento_proyectos,m=t.situacion;console.log("paco que pasa:",s);var b={background:"#f4f8f9",borderRadius:10,marginBottom:24,border:0},h=[{title:"Documento",dataIndex:"dato",key:"dato",width:500},{className:"center-text",title:"Estado",dataIndex:"estado",key:"estado",width:100,render:function(t,n){return Y.default.createElement(v.default,{checkedChildren:"Entrego",defaultChecked:!!n.estado,unCheckedChildren:"No ah entregado",onChange:function(t){return e.handleEntregrables(a.id,t,n.key)}})}}],_=[{key:"cd",dato:"CD que contiene en formato digital (PDF): A. Informe Técnico de Residencia Profesional, (debidamente etiquetado) B. Portada del  informe ténico rubricada por los Asesores externo e interno, sellada por la entidad donde se realizó la Residencia Profesional.",estado:!!m.cd},{key:"liberacion_asesor_interno",dato:"Copia* del oficio de Liberación del Proyecto de Residencia Profesional por parte del Asesor Interno.",estado:!!m.liberacion_asesor_interno},{key:"liberacion_asesor_externo",dato:"Copia* del oficio de Liberación del Asesor Externo, del informe Técnico del Proyecto de Residencia Profesional.",estado:!!m.liberacion_asesor_externo},{key:"carta_presentacion_agradecimientos",dato:"Copia* del oficio de recepción de la carta de presentación y agradecimientos, del Informe Técnico del Proyecto de Residencia, Profesional. (firmada de recibido por la empresae institución).",estado:!!m.carta_presentacion_agradecimientos},{key:"copia_evaluacion",dato:"Copia* de la Evaluación a las Estudiantes Residentes por los Asesores Externo e Interno. (firmada y sellada por el asesor interno, asesor externo, Departamento de Gestión Tecnológica y Vinculación y Departamento Académico correspondiente).",estado:!!m.copia_evaluacion},{key:"portadas",dato:"Dos portadas originales firmadas por el asesor interno y externo, con  los sellos correspondientes.",estado:!!m.portadas}],y=(0,B.default)().format("YYYY-MM-DD");return Y.default.createElement("div",null,Y.default.createElement(u.default,null,Y.default.createElement(d.default,{xs:24,lg:24},Y.default.createElement(P.default,{defaultActiveKey:"1"},Y.default.createElement(V,{tab:Y.default.createElement("span",{className:"texto"},Y.default.createElement(p.default,{type:"book"})," Proyecto "),key:"1"},Y.default.createElement("h2",null,"PERIODO: ",l.periodo.periodo+" / "+l.periodo.ciclo,"   CARRERA: ",i.nombre),Y.default.createElement(S.default,null,Y.default.createElement(H,{label:"Título: "},Y.default.createElement(I.default.TextArea,{value:l.nombre,readOnly:!0,autosize:{minRows:1,maxRows:6}})),Y.default.createElement(H,{label:"Objetivo general: "},Y.default.createElement(I.default.TextArea,{value:l.objetivo_general,readOnly:!0,autosize:{minRows:1,maxRows:6}})),Y.default.createElement(H,{label:"Lugar de residencia: "},Y.default.createElement(I.default.TextArea,{value:o.nombre,readOnly:!0,autosize:{minRows:1,maxRows:6}})),Y.default.createElement(H,{label:"Asesor interno: "},Y.default.createElement(I.default.TextArea,{value:n?n.titulo+" "+n.nombre+" "+n.ap_paterno+" "+n.ap_materno:"Aun no esta asignado",readOnly:!0,autosize:{minRows:1,maxRows:6}})),Y.default.createElement(H,{label:"Asesor externo: "},Y.default.createElement(I.default.TextArea,{value:r?r.nombre:"Aun no esta asigndo",readOnly:!0,autosize:{minRows:1,maxRows:6}})))),Y.default.createElement(V,{tab:Y.default.createElement("span",{className:"texto"},Y.default.createElement(p.default,{type:"schedule"})," Seguimientos "),key:"2"},Y.default.createElement(k.default,{current:1},s.map(function(e,t){var a=c.find(function(t){return t.id==e.id_seguimiento});return Y.default.createElement(W,{title:"Seguimiento "+(t+1),key:e.id,status:y>=a.fecha_final?"cumplio"===e.estado_seguimiento?"finish":"error":"process",description:y>=a.fecha_final?"cumplio"===e.estado_seguimiento?"Cumplio":"No cumplio ":"En proceso"})})),Y.default.createElement("br",null),Y.default.createElement("br",null),Y.default.createElement(K,{className:"botongenerarinformeseguimiento",icon:"file-pdf",style:{backgroundColor:"#108ee8"}},Y.default.createElement("a",{href:"/api/alumno/"+l.id_alumno+"/situacion",target:"_blank",style:{color:"#FBFBEF"}},"Generar informe")," ")),Y.default.createElement(V,{tab:Y.default.createElement("span",{className:"texto"},Y.default.createElement(p.default,{type:"edit"})," Situacion "),key:"3"},Y.default.createElement("div",{style:{left:120}},Y.default.createElement("h2",null,"Situacion:"),Y.default.createElement("br",null),Y.default.createElement(J,{onChange:this.handleStatus,defaultValue:""+m.estado},"activo"===m.estado?Y.default.createElement(K,{value:"activo"},"Activo"):Y.default.createElement(K,{value:"activo",disabled:!0},"Activo"),"cancelado"===m.estado?Y.default.createElement(K,{value:"cancelado"},"Cancelado"):Y.default.createElement(K,{value:"cancelado",disabled:!0},"Cancelado"),"abandonado"===m.estado?Y.default.createElement(K,{value:"abandonado"},"Abandonado"):Y.default.createElement(K,{value:"abandonado",disabled:!0},"Abandonado"),"prorroga"===m.estado?Y.default.createElement(K,{value:"prorroga"},"Prorroga"):Y.default.createElement(K,{value:"prorroga",disabled:!0},"Prorroga"),"termino satisfactoriamente"===m.estado?Y.default.createElement(K,{value:"termino satisfactoriamente"},"Termino satisfactoriamente"):Y.default.createElement(K,{disabled:!0,value:"termino satisfactoriamente"},"Termino satisfactoriamente")),Y.default.createElement("br",null),Y.default.createElement("br",null),"prorroga"===m.estado||"cancelado"===m.estado?Y.default.createElement("div",null,Y.default.createElement("h3",null,"Formatos que se deben entregar para prorroga o cancelacion de residencia "),Y.default.createElement(j.default,{bordered:!0},Y.default.createElement(U,{header:"Solicitud ante comite academico",style:b,key:"1"},Y.default.createElement(v.default,{checkedChildren:"Entrego",defaultChecked:!!m.solicitud_academica,unCheckedChildren:"No ah entregado",onChange:function(t){return e.handleEntregrables(a.id,t,"solicitud")}})),Y.default.createElement(U,{header:"Aprovacion de comite academico",style:b,key:"2"},Y.default.createElement(v.default,{checkedChildren:"Entrego",defaultChecked:!!m.aprobacion_academica,unCheckedChildren:"No ah entregado",onChange:function(t){return e.handleEntregrables(a.id,t,"aprobacion")}})),"prorroga"!=m.estado?Y.default.createElement(U,{header:"Prorroga",style:b,key:"3"},Y.default.createElement(v.default,{checkedChildren:"SOLICITO",defaultChecked:"prorroga"===m.estado,unCheckedChildren:"NO AH SOLICITADO",onChange:function(t){return e.handleStatus(a.id,t)}})):"",Y.default.createElement(U,{header:"Cancelar de residencia",style:b,key:"4"},Y.default.createElement(E.Button,{style:{background:"#FF0000",color:"#FAF2F1"}},"Cancelar residencia")))):Y.default.createElement("div",null,"activo"===m.estado||"termino satisfactoriamente"===m.estado?"Todo marcha bien ":Y.default.createElement("div",null,Y.default.createElement("h3",null,"abandonado"===m.estado?"C":"Prorroga o c","ancelacion del proyecto de residencia "),Y.default.createElement(j.default,{bordered:!0},Y.default.createElement(U,{header:"Cancelar de residencia",style:b,key:"2"},Y.default.createElement(E.Button,{style:{background:"#FF0000",color:"#FAF2F1"}},"Cancelar residencia"))))))),Y.default.createElement(V,{tab:Y.default.createElement("span",{className:"texto"},Y.default.createElement(p.default,{type:"database"}),"Entregables"),key:"4"},Y.default.createElement(K,{className:"botongenerarinformeseguimiento",icon:"file-word",style:{backgroundColor:"#108ee8"}},Y.default.createElement("a",{href:"/api/alumno/comprobante/"+l.id_alumno+"/comprobante.docx",target:"_blank",style:{color:"#FBFBEF"}},"Generar informe")," "),Y.default.createElement(d.default,{xs:24,lg:24},Y.default.createElement(f.default,{bordered:!0,title:function(){return"Documentos a entregar"},dataSource:_,pagination:!1,columns:h})))))))}}]),t}(F.Component)),Z=S.default.create({mapPropsToFields:function(e){return{props:e}}})(Q);t.default=Z},1403:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(96),a(97)),d=n(c),s=(a(15),a(21)),f=n(s),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(a(6),a(9)),y=n(_),g=a(1),E=(n(g),p.default.Item,f.default.TextArea,d.default.Panel,function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,c=Array(i),d=0;d<i;d++)c[d]=arguments[d];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||y.default.put("/api/proyecto/seguimiento",{id_seguimiento:n.props.seguimiento.id,url_seguimiento:t.url_seguimiento}).then(function(e){200===e.status?u.default.success("Seguimiento actualizado satisfactoriamente"):u.default.error("Error al actualizar al seguimiento, favor de reportar al administrador.")})})},l=a,o(n,l)}return l(t,e),b(t,[{key:"render",value:function(){this.props.form.getFieldDecorator,this.props.seguimiento;return h.default.createElement("div",null,h.default.createElement(p.default,{onSubmit:this.handleSubmit}))}}]),t}(v.Component)),w=p.default.create({mapPropsToFields:function(e){return{props:e}}})(E);t.default=w},1404:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(39),a(40)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(673),a(674)),f=n(s),m=(a(62),a(63)),p=n(m),b=(a(24),a(25)),v=n(b),h=(a(22),a(23)),_=n(h),y=(a(12),a(13)),g=n(y),E=(a(29),a(28)),w=n(E),O=(a(16),a(17)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=a(9),A=n(j),P=a(79),R=(n(P),a(1)),I=n(R),M=(S.default.Option,S.default.OptGroup,w.default.Group,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){A.default.get("/api/periodo/"+e+"/dictamen").then(function(e){if(200===e.status)if(null!=e.data.anteproyectos){var t=e.data.anteproyectos.map(function(e,t){return{key:t+1,id:e.id,no_control_alumno:e.alumno.no_control,nombre_alumno:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,sexo_alumno:e.alumno.sexo,nombre_anteproyecto:e.nombre,nombre_titular_empresa:e.asesor_externo.empresa.titular.nombre+" \n "+e.asesor_externo.empresa.titular.puesto,asesor_interno:e.asesor_interno.titulo+" "+e.asesor_interno.nombre+" "+e.asesor_interno.ap_paterno+" "+e.asesor_interno.ap_materno,id_asesor_interno:e.asesor_interno.id,asesor_externo:e.asesor_externo.nombre,dictamen:e.dictamen.toUpperCase(),fecha_dictamen:e.updatedAt}});a.setState({periodo:e.data,dictamen_anteproyectos:t})}else a.setState({periodo:e.data,dictamen_anteproyectos:null})})},a.handleAsesorInterno=function(e,t){A.default.put("/api/anteproyecto/set_asesor_interno",{id_asesor_interno:e,id_anteproyecto:t}).then(function(e){200===e.status?g.default.success("Anteproyecto actualizado!"):_.default.error({title:"Error al actualizar anteproyecto. Revisar los siguientes campos",content:x.default.createElement("div",null,e.data.errores),onOk:function(){}})})},a.updatePeriodo=function(){A.default.get("/api/periodo/"+a.state.periodo.id+"/dictamen").then(function(e){if(200===e.status)if(null!=e.data.anteproyectos){var t=e.data.anteproyectos.map(function(e,t){return{key:t+1,id:e.id,no_control_alumno:e.alumno.no_control,nombre_alumno:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,sexo_alumno:e.alumno.sexo,nombre_anteproyecto:e.nombre,nombre_titular_empresa:e.asesor_externo.empresa.titular.nombre+" \n "+e.asesor_externo.empresa.titular.puesto,asesor_interno:e.asesor_interno.titulo+" "+e.asesor_interno.nombre+" "+e.asesor_interno.ap_paterno+" "+e.asesor_interno.ap_materno,id_asesor_interno:e.asesor_interno.id,asesor_externo:e.asesor_externo.nombre,dictamen:e.dictamen.toUpperCase(),fecha_dictamen:e.updatedAt}});a.setState({periodo:e.data,dictamen_anteproyectos:t})}else a.setState({periodo:e.data,dictamen_anteproyectos:null})})},a.handleGenerarDictamen=function(){var e=a.state.periodo;A.default.post("/api/periodo/generar_dictamen",{id_periodo:e.id}).then(function(e){200===e.status?(g.default.success("Dictamen generado satisfactoriamente!"),a.updatePeriodo()):_.default.error({title:"Error al intentar generar el dictamen",content:x.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){g.default.error(e)})},a.handleSeguimientos=function(e){""!=e?A.default.get("/api/periodo/dictamen/"+e).then(function(e){200===e.status&&a.handleChangePeriodo(e.data.id)}):a.setState({dictamen_anteproyectos:null})},a.state={usuario:e.usuario,departamento:e.departamento,periodo:null,dictamen_anteproyectos:null,docentes:null,options1:[]},a}return l(t,e),C(t,[{key:"eliminarObjetosDuplicados",value:function(e,t){var a=[],n={};for(var r in e)n[e[r][t]]=e[r];for(r in n)a.push(n[r]);return a}},{key:"componentWillMount",value:function(){var e=this;A.default.get("/api/seguimiento/carreras").then(function(t){if(200==t.status){var a=t.data.map(function(e,t){return{value:""+e.periodo.carrera.id,label:""+e.periodo.carrera.nombre}}),n=t.data.map(function(t,n){return{value:t.periodo.periodo+","+t.periodo.ciclo,label:t.periodo.periodo+"/"+t.periodo.ciclo,children:e.eliminarObjetosDuplicados(a,"value")}});e.setState({options1:e.eliminarObjetosDuplicados(n,"value")})}})}},{key:"render",value:function(){var e=this.state,t=(e.departamento,e.dictamen_anteproyectos),a=e.periodo,n=e.options1,r=((0,I.default)().format("YYYY-MM-DD"),[{width:50,fixed:"left",className:"center-text",title:"NUM",dataIndex:"key",key:"key"},{width:100,fixed:"left",className:"center-text",title:"CONTROL",dataIndex:"no_control_alumno",key:"no_control_alumno"},{width:200,fixed:"left",className:"center-text",title:"NOMBRE DEL ESTUDIANTE",dataIndex:"nombre_alumno",key:"nombre_alumno"},{className:"center-text",title:"S",dataIndex:"sexo_alumno",key:"sexo_alumno"},{className:"center-text",title:"ANTEPROYECTO",dataIndex:"nombre_anteproyecto",key:"nombre_anteproyecto"},{className:"center-text",title:"NOMBRE Y CARGO DEL TITULAR DE LA EMPRESA",dataIndex:"nombre_titular_empresa",key:"nombre_titular_empresa",width:300},{title:"ASESORES",children:[{width:300,className:"center-text",title:"INTERNO",dataIndex:"asesor_interno",key:"asesor_interno"},{className:"center-text",title:"EXTERNO",dataIndex:"asesor_externo",key:"asesor_externo",width:300}]},{className:"center-text",title:"DICTAMEN",dataIndex:"dictamen",key:"dictamen",width:150},{className:"center-text",title:"FECHA DE DICTAMEN",dataIndex:"fecha_dictamen",key:"fecha_dictamen",width:100}]),o=null,l=null;return null!=a&&(o=x.default.createElement(v.default,{xs:24,lg:24},x.default.createElement("h2",{style:{textAlign:"center"}},"DEPARTAMENTO DE ",a.carrera.departamento.nombre.toUpperCase()),x.default.createElement("h3",{style:{textAlign:"center"}},"CARRERA: ",a.carrera.nombre.toUpperCase())),l=null===a.filename_dictamen?x.default.createElement(p.default,{message:"No se ha generado el dictamen y solo se puede generar en las fechas "+a.fecha_inicio+" al "+a.fecha_fin,type:"info",showIcon:!0}):x.default.createElement("div",null,x.default.createElement(w.default,{type:"primary",icon:"eye-o"}," ",x.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamens/pdf/"+a.filename_dictamen},"Ver dictamen")),"...",x.default.createElement(w.default,{type:"primary",icon:"file-word"}," ",x.default.createElement("a",{style:{color:"white"},target:"_blank",href:"/api/dictamen/word/"+a.id+"/"+a.carrera.nombre.toUpperCase()+"-DICTAMEN.docx"},"Descargar dictamen")))),x.default.createElement("div",null,x.default.createElement(d.default,{type:"flex"},x.default.createElement(v.default,{xs:24,lg:6},x.default.createElement("h1",null,"Seleccione el periodo"),x.default.createElement(f.default,{style:{width:400,fontSize:14},options:n,onChange:this.handleSeguimientos,placeholder:"Seleccione el periodo"}))),x.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},o),x.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},x.default.createElement(v.default,{xs:24,lg:24,style:{marginBottom:20}},l),x.default.createElement(v.default,{xs:24,lg:24},x.default.createElement(u.default,{bordered:!0,title:function(){return"Dictamen"},dataSource:t,className:"full-width",columns:r,pagination:{pageSize:8},scroll:{x:2200}}))))}}]),t}(k.Component));t.default=M},1405:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(16),a(17)),p=n(m),b=(a(55),a(56)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(9),E=n(g),w=a(1),O=n(w),S=v.default.TabPane,C=p.default.Option,k=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlePeriodo=function(e){var t=e.split("+");a.setState({id_periodo:t[0],id_carrera:t[1]})},a.handlePeriodo1=function(e){var t=e.split("+");a.setState({id_periodo1:t[0],id_carrera1:t[1]})},a.fetchPeriodos=function(){E.default.get("/api/periodoss").then(function(e){200===e.status&&(console.log("==>",e.data),a.setState({periodos:e.data}))})},a.combox=function(e){return y.default.createElement("div",null,y.default.createElement(p.default,{key:"1",placeholder:"Seleccione el periodo",onChange:a.handlePeriodo,style:{width:300,left:10,fontSize:20}},e?e.map(function(e,t){return y.default.createElement(C,{key:t,value:e.periodo+"+"+e.ciclo}," ",y.default.createElement("a",null,e.periodo+"/"+e.ciclo))}):""))},a.state={periodos:null,id_periodo:null,id_carrera:null,id_periodo1:null,id_carrera1:null},a}return l(t,e),h(t,[{key:"componentDidMount",value:function(){this.fetchPeriodos()}},{key:"render",value:function(){var e=this.state,t=e.periodos,a=e.id_carrera,n=e.id_periodo,r=e.id_periodo1,o=e.id_carrera1;(0,O.default)().format("YYYY-MM-DD");return y.default.createElement("div",null,y.default.createElement(u.default,{xs:24,lg:24},y.default.createElement(d.default,{type:"flex"},y.default.createElement(v.default,{defaultActiveKey:"1"},y.default.createElement(S,{tab:"Reporte por semestre",key:"1"},this.combox(t),y.default.createElement("br",null),null!==n&&null!==a?y.default.createElement("div",null,y.default.createElement(f.default,{icon:"file-pdf",style:{backgroundColor:"#108ee8"}},y.default.createElement("a",{href:"/api/residentes/"+n+"/periodo/"+a,target:"_blank",style:{color:"#FBFBEF"}},"Ver")," "),"....",y.default.createElement(f.default,{icon:"file-word",style:{backgroundColor:"#108ee8"}},y.default.createElement("a",{href:"/api/residentes/"+n+"/periodo/"+a+"/reporte_por_periodo.docx",target:"_blank",style:{color:"#FBFBEF"}},"Descargar")," ")):""),y.default.createElement(S,{tab:"Reporte por ciclo Escolar",key:"2"},y.default.createElement("div",null,y.default.createElement(p.default,{key:"2",placeholder:"Seleccione el ciclo",onChange:this.handlePeriodo1,style:{width:300,left:10,fontSize:20}},t?t.map(function(e,t){return y.default.createElement(C,{key:t,value:e.periodo+"+"+e.ciclo}," ",y.default.createElement("a",null,"Ciclo ",e.ciclo))}):""),y.default.createElement("br",null),y.default.createElement("br",null),y.default.createElement("br",null),null!==r&&null!==o?y.default.createElement("div",null,y.default.createElement(f.default,{icon:"file-pdf",style:{backgroundColor:"#108ee8"}},y.default.createElement("a",{href:"/api/residentes/ciclo/"+o,target:"_blank",style:{color:"#FBFBEF"}},"Ver")," "),"....",y.default.createElement(f.default,{icon:"file-word",style:{backgroundColor:"#108ee8"}},y.default.createElement("a",{href:"/api/residentes/ciclo/"+o+"/reporte_por_ciclo.docx",target:"_blank",style:{color:"#FBFBEF"}},"Descargar")," ")):""))))))}}]),t}(_.Component);t.default=k},1406:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(161),a(162)),d=n(c),s=(a(83),a(77)),f=n(s),m=(a(51),a(52)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(a(6),a(2)),y=(n(_),a(57)),g=a(9),E=n(g),w=a(64),O=a(176),S=n(O),C=a(250),k=(n(C),a(84)),x=n(k),j=a(675),A=(n(j),a(107)),P=n(A),R=a(1407),I=n(R);a(44);var M=a(1412),T=n(M),D=a(1413),F=n(D),Y=a(1415),N=n(Y),z=a(1416),G=n(z),L=a(1417),q=n(L),B=a(1418),V=n(B),U=a(1419),W=n(U),H=a(264),K=(n(H),a(1420)),J=n(K),X=a(1421),Q=n(X),Z=p.default.Header,$=p.default.Content,ee=p.default.Footer,te=p.default.Sider,ae=f.default.SubMenu,ne=(d.default.Meta,1),re=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.logo=function(e){return h.default.createElement("div",{className:"titulo",style:{textAlign:"down",top:10,height:40,width:1e3}},h.default.createElement("img",{src:"/img/logoprincipal.png",alt:"logo_tec",height:"250%"}),h.default.createElement("div",{style:{fontSize:20}},e," "))},a.imagens=function(e){E.default.get("/api/usuario/foto/"+(e||a.state.id)).then(function(t){200==t.status&&(a.setState({imagen:t.data}),E.default.get("/api/docente/informacion/"+(e||a.state.id)).then(function(e){a.setState({nombre:e.data.titulo+""+e.data.nombre+" "+e.data.ap_paterno+" "+e.data.ap_materno})}))})},a.nuevaSelccion=function(){a.setState({componentSelected:2,visibleCambiarContrasenia:!1,visible_add_docente:!1,visible_add_puesto:!1,visible_add_colonia:!1,visible_add_titulo:!1,visible_add_folios:!1})},a.toggle=function(){a.setState({collapsed:!a.state.collapsed,visibleCambiarContrasenia:!1,visible_add_docente:!1,visible_add_puesto:!1,visible_add_colonia:!1,visible_add_titulo:!1,visible_add_folios:!1})},a.handleMenu=function(e){var t=(e.item,e.key);e.selectedKeys;if(3==t)a.setState({visibleCambiarContrasenia:!0,visible_add_docente:!1,visible_add_colonia:!1,visible_add_puesto:!1,visible_add_titulo:!1,visible_add_folios:!1});else if(4==t){var n=a.state.departamento;a.setState({visibleCambiarContrasenia:!1,visible_add_puesto:!1,visible_add_docente:!0,visible_add_titulo:!1,visible_add_folios:!1,props_add_docente:{id_departamento:n.id,nombre_departamento:n.nombre}})}else 16==t?a.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,visible_add_colonia:!1,visible_add_puesto:!0,visible_add_titulo:!1,visible_add_folios:!1}):17==t?a.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,visible_add_puesto:!1,visible_add_colonia:!0,visible_add_titulo:!1,visible_add_folios:!1}):18==t?a.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,visible_add_puesto:!1,visible_add_colonia:!1,visible_add_titulo:!0,visible_add_folios:!1}):200==t?a.setState({visibleCambiarContrasenia:!1,visible_add_docente:!1,visible_add_puesto:!1,visible_add_colonia:!1,visible_add_titulo:!1,visible_add_folios:!0}):a.setState({componentSelected:t,visibleCambiarContrasenia:!1,visible_add_docente:!1,visible_add_puesto:!1,visible_add_colonia:!1,visible_add_titulo:!1,visible_add_folios:!1})},a.state={collapsed:!1,isAuth:!0,componentSelected:12,imagen:null,nombre:null,departamento:null,id:null,visible_add_docente:!1,visible_add_puesto:!1,visible_add_colonia:!1,visible_add_titulo:!1,visible_add_folios:!1,props_add_docente:{id_departamento:null,nombre_departamento:null},components:{1:{title:a.logo("Departamento de Gestión Tecnológica y Vinculación "),render:h.default.createElement(S.default,null)},2:{title:a.logo("Gestion de Oficina "),render:h.default.createElement(I.default,null)},11:{title:a.logo("Actualizacion de tu foto de perfil"),render:h.default.createElement(P.default,{ok:a.imagens.bind(a)})},12:{title:a.logo("Convenio de Empresas Pendientes "),render:h.default.createElement(F.default,null)},13:{title:a.logo("Dorectorio de Empresas "),render:h.default.createElement(N.default,null)},14:{title:a.logo("Directorio de Residentes "),render:h.default.createElement(G.default,null)},19:{title:a.logo("Folios de Residencias "),render:h.default.createElement(J.default,null)},20:{title:a.logo("Historial de folios "),render:h.default.createElement(Q.default,null)}},visibleCambiarContrasenia:!1},a}return l(t,e),b(t,[{key:"getIsAuth",value:function(){var e=this;(0,w.getIsAuth)().then(function(t){"jefe_departamento"===t.rol||"encargado"===t.rol?(ne=t.id,E.default.get("/api/departamento/"+t.id_departamento).then(function(a){200===a.status?(e.setState({departamento:a.data,isAuth:t.isAuth,usuario:t.id_departamento,id:t.id}),e.imagens(t.id)):e.setState({isAuth:!1})})):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.componentSelected,n=e.visible_add_colonia,r=(e.visible_add_folios,e.visible_add_titulo),o=e.visible_add_puesto,l=e.nombre,i=e.components,c=e.props_add_docente,d=e.visible_add_docente,s=e.visibleCambiarContrasenia,m=e.imagen,b=i[a];return t?h.default.createElement(p.default,{style:{minHeight:"100vh"}},h.default.createElement(te,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},h.default.createElement("center",null,this.state.collapsed?h.default.createElement("div",{className:"grises"},h.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+m,style:{textAlign:"center",left:50,height:50,width:35}})):h.default.createElement("div",{className:"grises",style:{alignContent:"center",textAlign:"center",top:10,height:120,width:150}},h.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+m,style:{left:35,height:150,width:150}}),h.default.createElement("div",null,l))),this.state.collapsed?"":h.default.createElement("div",null,h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement("br",null)),h.default.createElement(f.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["12"],onSelect:this.handleMenu},h.default.createElement(f.default.Item,{key:"12"},h.default.createElement(u.default,{type:"team"}),h.default.createElement("span",null,"Convenios")),h.default.createElement(ae,{key:"sub6",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"schedule"}),h.default.createElement("span",null,"Oficina"))},h.default.createElement(f.default.Item,{key:"2"},h.default.createElement(u.default,{type:"schedule"}),h.default.createElement("span",null,"Oficina")),h.default.createElement(f.default.Item,{key:"4"},h.default.createElement(u.default,{type:"user-add"}),h.default.createElement("span",null,"Agregar personal")),h.default.createElement(f.default.Item,{key:"16"},h.default.createElement(u.default,{type:"solution"}),h.default.createElement("span",null,"Agregar puesto")),h.default.createElement(f.default.Item,{key:"17"},h.default.createElement(u.default,{type:"solution"}),h.default.createElement("span",null,"Agregar colonia")),h.default.createElement(f.default.Item,{key:"18"},h.default.createElement(u.default,{type:"solution"}),h.default.createElement("span",null,"Agregar grado de estudios"))),h.default.createElement(f.default.Item,{key:"1"},h.default.createElement(u.default,{type:"contacts"}),h.default.createElement("span",null,"Empresas")),h.default.createElement(ae,{key:"sub5",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"phone"}),h.default.createElement("span",null,"Directorio"))},h.default.createElement(f.default.Item,{key:"13"},h.default.createElement(u.default,{type:"contacts"}),"Empresa"),h.default.createElement(f.default.Item,{key:"14"},h.default.createElement(u.default,{type:"contacts"}),"Residentes")),h.default.createElement(ae,{key:"sub15",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"tags"}),h.default.createElement("span",null,"Folios"))},h.default.createElement(f.default.Item,{key:"19"},h.default.createElement(u.default,{type:"tag-o"}),"Iniciar folios"),h.default.createElement(f.default.Item,{key:"20"},h.default.createElement(u.default,{type:"tags-o"}),"Historial de folios")),h.default.createElement(f.default.Divider,null),h.default.createElement(ae,{key:"sub1",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"user"}),h.default.createElement("span",null,"Usuario"))},h.default.createElement(f.default.Item,{key:"3"},h.default.createElement(u.default,{type:"unlock"}),"Cambiar contraseña"),h.default.createElement(f.default.Item,{key:"11"},h.default.createElement(u.default,{type:"camera"}),"Actializar foto"),h.default.createElement(f.default.Item,null,h.default.createElement("a",{href:"/api/usuario/logout"},h.default.createElement(u.default,{type:"logout"})," ",h.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),h.default.createElement(p.default,null,h.default.createElement(Z,{style:{background:"#fff",padding:0,height:150}},h.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),h.default.createElement("div",{style:{float:"right",left:50}},b.title?b.title:"")),h.default.createElement($,{style:{margin:"0px 0px",padding:24,background:"#fff"}},b.render),h.default.createElement(ee,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Arcos farcosj51@gmail.com")),h.default.createElement(x.default,{visible:s}),h.default.createElement(T.default,{visible:d,departamento:c}),h.default.createElement(q.default,{visible:o,onload:this.nuevaSelccion.bind(this)}),h.default.createElement(V.default,{visible:n}),h.default.createElement(W.default,{visible:r})):h.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(v.Component);t.default=re},1407:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(29),a(28)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(16),a(17)),p=n(m),b=(a(39),a(40)),v=n(b),h=(a(51),a(52)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=(a(6),a(9)),O=n(w),S=a(34),C=(n(S),a(64)),k=a(1408),x=(n(k),a(1409)),j=n(x),A=a(175),P=(n(A),a(1410)),R=n(P),I=a(1411),M=(n(I),_.default.Content,_.default.Header,v.default.Column),T=(v.default.ColumnGroup,p.default.Option,function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModalFormDepartamento=function(){e.setState({visible_form_departamento:!0,visible_form_edit_departamento:!1,visible_add_carrera:!1})},e.showModalFormEditDepartamento=function(t){O.default.get("/api/encargadooficinas/"+t).then(function(a){e.setState({visible_add_carrera:!1,visible_form_departamento:!1,visible_add_oficina:!1,visible_form_edit_departamento:!0,departamentoD:a.data,idcarrera:t})})},e.showAddOficina=function(){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_oficina:!0})},e.showAddCarrera=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_carrera:!0,props_add_carrera:{id_departamento:t,nombre_departamento:a}})},e.state={data:[],visible_form_departamento:!1,visible_form_edit_departamento:!1,props_add_docente:{id_departamento:null,nombre_departamento:null},visible_add_oficina:!1,props_add_carrera:{id_departamento:null,nombre_departamento:null},departamento:null,departamentoD:null,docentesAsignados:null,loadTable:!0,carrerasd:null,idcarrera:null,docentes:[]},e}return l(t,e),y(t,[{key:"fetchDepartamento",value:function(){var e=this;(0,C.getIsAuth)().then(function(t){"jefe_departamento"===t.rol&&e.setState({props_add_carrera:{id_departamento:t.id_departamento,nombre_departamento:"Gestión Tecnólogica y Vinculación"}})}),O.default.get("/api/docentesgestion").then(function(t){200===t.status&&(console.log(t.data),e.setState({docentes:t.data,loadTable:!1,visible_form_edit_departamento:!1,visible_add_oficina:!1}),O.default.get("/api/oficina_encargados").then(function(t){200===t.status&&(e.setState({docentesAsignados:t.data}),O.default.get("/api/oficinas/"+e.state.props_add_carrera.id_departamento).then(function(t){if(200===t.status){var a=t.data.oficinas.map(function(t,a){var n=e.state.docentesAsignados.find(function(e){return e.id_oficina===t.id&&"encargado"===e.rol})||null,r=n?e.state.docentes.find(function(e){return e.id===n.id_docente}):"";return{key:a,id:t.id,nombre:t.nombre,encargado_oficina:r?r.titulo+" "+r.nombre+" "+r.ap_paterno+" "+r.ap_materno:"no asignado",acciones:"Editar oficina"}});e.setState({data:a,carrerasd:t.data})}}))}))})}},{key:"actualizarSele",value:function(){this.fetchDepartamento(),this.setState({visible_add_docente:!1})}},{key:"handleAddDepartamento",value:function(){this.fetchDepartamento(),this.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1})}},{key:"componentDidMount",value:function(){this.fetchDepartamento()}},{key:"render",value:function(){var e=this,t=this.state,a=t.idcarrera,n=t.carrerasd,r=t.departamentoD,o=t.visible_form_edit_departamento,l=(t.visible_form_departamento,t.docentes),i=t.data,c=(t.departamento,t.loadTable),s=t.visible_add_oficina,m=(t.props_add_docente,t.visible_add_carrera,t.props_add_carrera);return E.default.createElement("div",null,E.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},E.default.createElement(f.default,{style:{marginRight:20}},E.default.createElement("h1",null," Oficina ")),E.default.createElement(f.default,null,E.default.createElement(d.default,{type:"primary",icon:"plus",onClick:this.showAddOficina},"Agregar"))),E.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},E.default.createElement(v.default,{dataSource:i,className:"full-width",pagination:{pageSize:5},loading:c,scroll:{x:800}},E.default.createElement(M,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),E.default.createElement(M,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),E.default.createElement(M,{title:"Encargado de oficina",dataIndex:"encargado_oficina",key:"encargado_oficina",className:"center-text"}),E.default.createElement(M,{title:"Acciones",key:"acciones",render:function(t,a){return E.default.createElement("span",null,E.default.createElement(d.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditDepartamento(a.id)}},"Oficina"))},className:"center-text"}))),E.default.createElement(j.default,{visible:o,onReloadDepartamentos:this.fetchDepartamento.bind(this),carrera:r,docentes:l,carreras:n,idcarrera:a}),E.default.createElement(R.default,{visible:s,departamento:m,onReloadDepartamentos:this.fetchDepartamento.bind(this)}))}}]),t}(g.Component));t.default=T},1408:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar nuevo departamento",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre del departamento"},o("nombre_departamento",{rules:[{required:!0,message:"El departamento debe tener un nombre."}]})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Nombre del departamento"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/departamento",{nombre:n.nombre_departamento}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Departamento agregado satisfactoriamente"),a.setState({visible:!1}),a.props.onAddDepartamento()):d.default.error({title:"Error al guardar el departamento. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},1409:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_);a(6);a(44);var g=a(9),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option),S=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.carrera,l=e.docentes,i=e.carreras,u=e.idcarrera;console.log("===>-_-",u);var c=r.getFieldDecorator,s=null;o&&(s=o.find(function(e){return"encargado"===e.rol})||null);var m=null;return i&&i.oficinas.map(function(e,t){if(console.log(e.id,e.nombre),e.id===u)return m=e.nombre}),y.default.createElement(d.default,{visible:t,title:"Editar oficina",okText:"Actualizar",onCancel:a,onOk:n,width:600,className:"full-width"},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre de la Oficina",initialValue:"",hasFeedback:!0},c("nombre_carrera",{rules:[{required:!0,message:"La Oficina debe tener un nombre."}],initialValue:m||null})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Nombre de la Oficina"}))),y.default.createElement(w,{label:"Seleccione al encargado de la oficina",hasFeedback:!0},c("id_coordinador",{rules:[{required:!0,message:"La ofcina debe tener un encargado."}],initialValue:s?""+l.find(function(e){return e.id===s.id_docente}).id:null})(y.default.createElement(f.default,{placeholder:"Seleccione un docente"},l?l.map(function(e,t){return y.default.createElement(O,{key:t,value:""+e.id},e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno)}):"")))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.idcarrera;e.validateFields(function(n,r){n||E.default.put("/api/oficinaD/"+t,{nombre:r.nombre_carrera,id_coordinador:r.id_coordinador}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Oficina actualizado satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadDepartamentos()):d.default.error({title:"Error al actualizar la oficina. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,carrera:e.carrera,docentes:e.docentes,carreras:e.carreras,idcarrera:e.idcarrera},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.carrera,n=e.docentes,r=e.carreras,o=e.idcarrera;this.setState({visible:t,carrera:a,docentes:n,carreras:r,idcarrera:o})}},{key:"render",value:function(){var e=this.state,t=e.carrera,a=e.docentes,n=e.carreras,r=e.idcarrera;return y.default.createElement("div",null,y.default.createElement(S,{carrera:t,docentes:a,carreras:n,idcarrera:r,ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=C},1410:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar Oficina al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre de la ofincina"},l("nombre",{rules:[{required:!0,message:"La oficina debe tener un nombre"}]})(y.default.createElement(p.default,{type:"mayuscula",style:{width:"100%"},placeholder:"Nombre de la oficina"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/oficina",{nombre:n.nombre,id_departamento:a.state.departamento.id_departamento}).then(function(t){console.log(t),200===t.status?(u.default.success("Oficina agregada satisfactoriamente"),a.setState({visible:!1}),e.resetFields(),a.props.onReloadDepartamentos()):d.default.error({title:"Error al guardar la Oficina. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,departamento:e.departamento},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(_.Component);t.default=S},1411:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(28)),u=n(i),c=(a(15),a(21)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(19),a(20)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v);a(44);var _=p.default.Item,y=f.default.Option,g=function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||alert("alv")})},l=a,o(n,l)}return l(t,e),b(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=e("titulo",{initialValue:"ING."})(h.default.createElement(f.default,{style:{width:90}},h.default.createElement(y,{value:"ING."},"ING."),h.default.createElement(y,{value:"DR."},"DR."),h.default.createElement(y,{value:"DRA."},"DRA."),h.default.createElement(y,{value:"MTRO."},"MTRO."),h.default.createElement(y,{value:"DIR."},"DIR."),h.default.createElement(y,{value:"DIRA."},"DIRA."),h.default.createElement(y,{value:"LIC."},"LIC."),h.default.createElement(y,{value:"ISC."},"ISC."),h.default.createElement(y,{value:"ISI."},"ISI."),h.default.createElement(y,{value:"MAI."},"MAI."),h.default.createElement(y,{value:"MBT."},"MTB."),h.default.createElement(y,{value:"MCT."},"MCT."),h.default.createElement(y,{value:"MTI."},"MTI."),h.default.createElement(y,{value:"M.A.T.I."},"M.A.T.I."),h.default.createElement(y,{value:"M.C."},"M.C.")));return h.default.createElement(p.default,{onSubmit:this.handleSubmit},h.default.createElement(_,{label:"Nombre completo del subdirector academico: "},e("nombre",{rules:[{required:!0,message:"El subdirector academico debe tener un nombre."}]})(h.default.createElement(d.default,{type:"mayuscula",addonBefore:t,style:{width:"100%"},placeholder:"Nombre completo del subdirector academico"}))),h.default.createElement(u.default,{htmlType:"submit"},"Guardar"))}}]),t}(v.Component),E=p.default.create()(g);t.default=E},1412:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option),S=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=e.handleChangeg,i=e.options,u=r.getFieldDecorator,c=[];E.default.get("/api/titulo").then(function(e){200==e.status&&e.data.map(function(e,t){c.push(y.default.createElement(O,{key:t,value:""+e.nombre},e.nombre))})});var s=u("titulo",{initialValue:"ING."})(y.default.createElement(f.default,{style:{width:80}},c));return y.default.createElement(d.default,{visible:t,title:"Agregar docente al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre"},u("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(y.default.createElement(p.default,{type:"mayuscula",addonBefore:s,style:{width:"100%"},placeholder:"Nombre del docente"}))),y.default.createElement(w,{label:"Apellido paterno"},u("ap_paterno",{rules:[{required:!0,message:"El docente debe tener un apellido paterno."}]})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Apellido paterno del docente"}))),y.default.createElement(w,{label:"Apellido materno"},u("ap_materno",{rules:[{required:!0,message:"El docente debe tener un apellido materno."}]})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Apellido materno del docente"}))),y.default.createElement(w,{label:"Correo electronico"},u("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(y.default.createElement(f.default,{mode:"combobox",onChange:l,filterOption:!1,placeholder:"Ingrese el correo electronico del alumno"},i)))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),E.default.post("/api/docente/encargado",{titulo:n.titulo,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_departamento:a.state.departamento.id_departamento,correo:n.correo}).then(function(t){console.log(t),200===t.status?(u.default.success("Docente agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar el docente. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.handleChangeg=function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:["gmail.com","hotmail.com","outlook.com"].map(function(t){var a=e+"@"+t;return y.default.createElement(O,{key:a.toLowerCase()},a.toLowerCase())}),a.setState({options:t})},a.state={visible:e.visible,departamento:e.departamento,options:[]},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(S,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento,handleChangeg:this.handleChangeg,options:this.state.options}))}}]),t}(_.Component);t.default=C},1413:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(47),a(48)),f=n(s),m=(a(30),a(18)),p=n(m),b=(a(29),a(28)),v=n(b),h=(a(15),a(21)),_=n(h),y=(a(12),a(13)),g=n(y),E=(a(22),a(23)),w=n(E),O=(a(39),a(40)),S=n(O),C=(a(51),a(52)),k=n(C),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=a(0),P=n(A),R=(a(6),a(9)),I=n(R),M=a(79),T=n(M),D=a(64),F=a(1),Y=n(F),N=a(501),z=(n(N),a(502)),G=n(z),L=a(249),q=n(L),B=a(1414),V=n(B),U=(k.default.Content,k.default.Header,S.default.Column,S.default.ColumnGroup,function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onInputChange=function(t){e.setState({searchText:t.target.value})},e.onSearch=function(){var t=e.state,a=t.searchText,n=t.empresas,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterEmpresas:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?x({},e,{nombre:P.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[P.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},e.showModal=function(){e.setState({visible:!0,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!1})},e.showModalFormEditEmpresa=function(t){var a=e.state.empresas,n=a.find(function(e){return e.id===t});e.setState({visible:!1,visibleFormEditEmpresa:!0,visibleFormAddAsesorExterno:!1,props_edit_empresa:n})},e.showAddAsesorExterno=function(t,a){e.setState({visible:!1,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!0,props_add_asesor:{id_empresa:t,nombre_empresa:a}})},e.expandedRowRender=function(e){return P.default.createElement("div",null,P.default.createElement("span",null,P.default.createElement("strong",null,"RFC"),P.default.createElement("p",null,e.detalles.rfc),P.default.createElement("strong",null,"Domicilio"),P.default.createElement("p",null,e.detalles.domicilio),P.default.createElement("strong",null,"Codigo postal"),P.default.createElement("p",null,e.detalles.codigo_postal)),P.default.createElement("span",null,P.default.createElement("strong",null,"Nombre y puesto del titular de la empresa"),P.default.createElement("p",null,e.titular.titulo+" "+e.titular.nombre+" "+e.titular.puesto),P.default.createElement("strong",null,"Nombre y puesto de quien firma el acuerdo con el ITCH"),P.default.createElement("p",null,e.representante_legal.titulo+" "+e.representante_legal.nombre+" "+e.representante_legal.puesto)))},e.actualizarconvenis=function(){var e=(0,Y.default)().format("YYYY-MM-DD");I.default.put("/api/convenio/empresa/actualizar",{currentDate:e}).then(function(e){(e.status=200)&&console.log(e.data)})},e.showAnteproyecto=function(e){w.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:P.default.createElement("div",null,P.default.createElement(T.default,{file:"/api/comprobantes/pdf/"+e,scale:1.5})),onOk:function(){}})},e.handleconvenio=function(e,t){I.default.put("/api/convenio/empresa",{id:e,estado:t}).then(function(e){(e.status=200)?g.default.success("Se actualizo correctamente"):g.default.error("Ups ha visto un problema, favor de contactar al administrador")})},e.showAddPeriodo=function(t,a){var n=t;I.default.get("/api/empresa/verificar/"+t).then(function(a){console.log(a.data.convenio),200===a.status&&(a.data.convenio?g.default.warning("Si el tiempo del convenio es tipo indifinido no es necesario agregar tiempo de convenio"):I.default.post("/api/empresa/convenio",{id_empresa:t,id_docente:e.state.id_docente}).then(function(t){200===t.status&&e.setState({id_convenio:t.data.id,id_empresaU:n,visibleFromAddPeriodo:!0})}))})},e.state={id_docente:null,id_empresaU:null,id_convenio:null,empresas:[],filterEmpresas:[],visible:!1,filterDropdownVisible:!1,searchText:"",filtered:!1,loadTable:!0,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1,visibleFromAddPeriodo:!1,props_add_asesor:{id_empresa:null,nombre_empresa:null},props_edit_empresa:{detalles:null}},e}return l(t,e),j(t,[{key:"getIsAuth",value:function(){var e=this;(0,D.getIsAuth)().then(function(t){"jefe_departamento"!==t.rol&&"encargado"!==t.rol||e.setState({id_docente:t.id_docente})})}},{key:"fetchEmpresas",value:function(){var e=this;I.default.put("/api/convenio/empresa/eliminar",{}).then(function(e){(e.status=200)&&console.log(e.data)}),I.default.put("/api/convenio/empresa/eliminar/convenios",{}).then(function(e){(e.status=200)&&console.log(e.data)}),I.default.get("/api/empresa").then(function(t){if(200===t.status){var a=t.data.empresas.filter(function(e){return 0===e.convenioss.filter(function(e){return!0===e.convenio}).map(function(e,t){return e.convenio}).length&&!1===e.convenio}).map(function(e,t){var a=0;return console.log(e.convenioss.filter(function(e){return!0===e.convenio}).map(function(e,t){return a++}).length),{key:t,id:e.id,nombre:e.nombre,clasificacion:e.clasificacion,titular:e.titular,representante_legal:e.representante_legal,convenio:e.convenio,url_documentos_de_validacion:e.url_documentos_de_validacion,detalles:{rfc:e.rfc,domicilio:e.domicilio+" colonia "+e.colonia,domicilio_only:e.domicilio,colonia:e.colonia,codigo_postal:e.codigo_postal,fax:e.fax,mision:e.mision,puesto_titular:e.puesto_titular,nombre_titular:e.nombre_titular,puesto_firma_acuerdo:e.puesto_firma_acuerdo,nombre_firma_acuerdo:e.nombre_firma_acuerdo,asesores_externos:e.asesor_externos},acciones:"acctions"}});e.setState({loadTable:!1,empresas:a,filterEmpresas:a,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1,visibleFromAddPeriodo:!1})}}).catch(function(t){e.setState({loadTable:!1})})}},{key:"componentDidMount",value:function(){this.fetchEmpresas(),this.getIsAuth(),this.actualizarconvenis()}},{key:"handleAddEmpresa",value:function(){this.fetchEmpresas(),this.setState({visible:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.visible,t.id_docente),n=t.id_empresaU,r=t.id_convenio,o=t.filterEmpresas,l=t.visibleFromAddPeriodo,i=t.loadTable,c=t.visibleFormAddAsesorExterno,s=t.props_add_asesor,m=t.visibleFormEditEmpresa,b=t.props_edit_empresa,h=[{title:"Nombre",dataIndex:"nombre",key:"nombre",width:250,filterDropdown:P.default.createElement("div",{className:"custom-filter-dropdown"},P.default.createElement(_.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),P.default.createElement(v.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:P.default.createElement(p.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1},function(){return e.searchInput.focus()})}},{title:"Documentos de validacion",key:"acciones",width:150,render:function(t,a){return P.default.createElement("span",null,P.default.createElement(v.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.url_documentos_de_validacion)}}),P.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/comprobantes/pdf/"+a.url_documentos_de_validacion},P.default.createElement(p.default,{type:"select"})))},className:"center-text"},{title:"Tiempo de convenio",dataIndex:"convenio",key:"convenio",width:150,render:function(t,a){return P.default.createElement("span",null,P.default.createElement(f.default,{checkedChildren:"Indifinido",defaultChecked:!!a.convenio,unCheckedChildren:"Temporal",onChange:function(t){return e.handleconvenio(a.id,t)}}))},className:"center-text"},{title:"tiempo de convenio",dataIndex:"tiempo",key:"tiempo",width:150,render:function(t,a){return P.default.createElement("span",null,P.default.createElement(v.default,{style:{marginLeft:5},icon:"plus-circle-o",onClick:function(){return e.showAddPeriodo(a.id,a.nombre)}},"Agregar periodo"))},className:"center-text"}];return P.default.createElement("div",null,P.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},P.default.createElement(d.default,{style:{marginRight:20}})),P.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},P.default.createElement(S.default,{dataSource:o,className:"full-width",columns:h,pagination:{pageSize:5},loading:i,scroll:{x:800,y:250},expandedRowRender:this.expandedRowRender})),P.default.createElement(G.default,{visible:m,empresa:b,onReloadFetch:this.fetchEmpresas.bind(this)}),P.default.createElement(q.default,{visible:c,empresa:s,onReloadFetch:this.fetchEmpresas.bind(this)}),P.default.createElement(V.default,{visible:l,id_convenio:r,id_empresa:n,id_docente:a,onAddEmpresa:this.fetchEmpresas.bind(this)}))}}]),t}(A.Component));t.default=U},1414:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(69),a(70)),f=n(s),m=(a(30),a(18)),p=n(m),b=(a(85),a(86)),v=n(b),h=(a(15),a(21)),_=n(h),y=(a(19),a(20)),g=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),S=(a(6),a(9)),C=n(S),k=a(1),x=n(k),j=g.default.Item,A=(_.default.TextArea,v.default.RangePicker),P=g.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.normFile,l=e.beforeUpload,i=(e.id_empresa,e.id_convenio),u=r.getFieldDecorator,c={rules:[{type:"array",required:!0,message:"Seleccione la fecha de inicio y fin del convenio"}]};return O.default.createElement(d.default,{visible:t,title:"Agregar convenio a la empresa",okText:"Guardar",onCancel:a,onOk:n},O.default.createElement(g.default,{layout:"vertical",style:{width:"100%"}},O.default.createElement(j,{label:"Seleccione la fecha de inicio y fin del tiempo del convenio",style:{width:"100%"}},u("fechas_seguimiento",c)(O.default.createElement(A,{format:"ll",disabledDate:function(e){return e.format("YYYY-MM-DD")<(0,x.default)().format("YYYY-MM-DD")}}))),O.default.createElement(j,{label:"Seleccione convenio digitalizado"},O.default.createElement("div",{className:"dropbox"},u("file_convenio",{valuePropName:"fileList",getValueFromEvent:o,rules:[{required:!0,message:"se requiere el documento de convenio"}]})(O.default.createElement(f.default.Dragger,{name:"fileconvenio",action:"/api/empresa/file_convenio/"+i,beforeUpload:l},O.default.createElement("p",{className:"ant-upload-drag-icon"},O.default.createElement(p.default,{type:"inbox"})),O.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),O.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB.")))))))}),R=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){if(!t){var r=n.fechas_seguimiento[0].format("YYYY-MM-DD"),o=n.fechas_seguimiento[1].format("YYYY-MM-DD");C.default.put("/api/empresa/convenio/actual",{fecha_inicial:r,fecha_final:o,id_convenio:a.state.id_convenio}).then(function(t){200===t.status?(u.default.success("Se agrego satisfactoriamente!"),e.resetFields(),a.props.onAddEmpresa(),a.setState({visible:!1})):d.default.error({title:"Error al agregar el tiempo del periodo. Revisar los siguientes campos",content:O.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error("Error en el servidor verificar con el encargado.")})}})},a.saveFormRef=function(e){a.form=e},a.state={id_convenio:e.id_convenio,id_empresa:e.id_empresa,id_docente:e.id_docente,visible:e.visible},a}return l(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_empresa,n=e.id_docente,r=e.id_convenio;this.setState({id_empresa:a,id_convenio:r,id_docente:n,visible:t})}},{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||u.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||u.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){return O.default.createElement("div",null,O.default.createElement(P,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,normFile:this.normFile,beforeUpload:this.beforeUpload,id_empresa:this.state.id_empresa,id_convenio:this.state.id_convenio}))}}]),t}(w.Component);t.default=R},1415:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(30),a(18)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(15),a(21)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(121),a(122)),g=n(y),E=(a(16),a(17)),w=n(E),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=a(0),k=n(C),x=a(6),j=(n(x),a(9)),A=n(j),P=a(1),R=n(P),I=(w.default.Option,function(){g.default.warning({message:"Notificación del sistema",description:"Para poder asignar el usuario y constraseña al candidato a residente debes haber seleccionado un periodo en el combobox de arriba por ejemplo periodo FEBRERO-JUNIO/2018."})});g.default.config({placement:"topRight",bottom:50,duration:13});var M=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fetchPeriodos=function(){},e.onInputChange=function(t){e.setState({searchText:t.target.value})},e.onSearch=function(){var t=e.state,a=t.searchText,n=t.Empresas,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterEmpresas:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?O({},e,{nombre:k.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[k.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},e.fetchUsuarios=function(){A.default.get("/api/directorio/empresas").then(function(t){if(200===t.status){console.log(t.data);var a=t.data.map(function(e,t){return{nombre:e.nombre,clasificacion:e.clasificacion,fax:e.fax,correo:e.correo,telefono:e.telefono,key:t}});e.setState({Empresas:a,loadTable:!1,filterEmpresas:a})}})},e.enviarContrasenia=function(t,a,n){var r=e.state.periodo;r?A.default.get("/api/alumno/periodot/"+r+"+"+t+"+"+n).then(function(t){200===t.status?(e.fetchUsuarios(),_.default.success("El usuario y la constraseña enviaron al correo del candidato a residente")):_.default.error("ups hubo un error inesperado favor de contactar al administrador")}):I()},e.handlePeriodo=function(t){var a=t.split("#"),n=a[0],r=a[1].split("+"),o=(0,R.default)().format("YYYY-MM-DD");console.log(o+" =>>>>: "+r[0]+"------"+r[1]),o>=r[0]&&o<=r[1]?e.setState({periodo:n}):(_.default.warning("no se puede agregar residentes a ese perido ya que las fechas puestas hasta este momento no cumplen"),e.setState({periodo:null}))},e.state={Empresas:[],loadTable:!0,filterEmpresas:[],visible:!1,filterDropdownVisible:!1,searchText:"",filtered:!1},e}return l(t,e),S(t,[{key:"componentDidMount",value:function(){this.fetchUsuarios()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.Empresas,t.loadTable),n=t.filterEmpresas,r=[{title:"Nombre",dataIndex:"nombre",key:"nombre",width:300,filterDropdown:k.default.createElement("div",{className:"custom-filter-dropdown"},k.default.createElement(v.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),k.default.createElement(p.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:k.default.createElement(f.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1},function(){return e.searchInput.focus()})}},{title:"Clasificación",dataIndex:"clasificacion",key:"clasificacion",width:50,filters:[{text:"Público",value:"público"},{text:"Privado",value:"privado"},{text:"Industrial",value:"industrial"},{text:"Servicios",value:"servicios"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.clasificacion.indexOf(e)}},{title:"Telefono",dataIndex:"telefono",key:"telefono",width:50},{title:"Correo",dataIndex:"correo",key:"correo",width:100},{title:"fax",dataIndex:"fax",key:"fax",width:50}];return k.default.createElement("div",null,k.default.createElement("div",null),k.default.createElement("h3",null,"Empresas"),k.default.createElement(u.default,{xs:24,lg:24},k.default.createElement(d.default,{dataSource:n,columns:r,pagination:{pageSize:10},loading:a,scroll:{x:800}})))}}]),t}(C.Component);t.default=M},1416:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(121),a(122)),f=n(s),m=(a(16),a(17)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=a(6),y=(n(_),a(9)),g=n(y),E=a(1);n(E),p.default.Option;f.default.config({placement:"topRight",bottom:50,duration:13});var w=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fetchUsuarios=function(){g.default.get("/api/directorio/telefonico").then(function(t){if(200===t.status){console.log("alumnos"+t.data);var a=t.data.map(function(e,t){return{id:e.no_control,nombre:e.nombre+" "+e.ap_paterno+" "+e.ap_materno,telefono:e.numero_celular,correo:e.usuario.correo,carrera:e.carrera.nombre,id_carrera:e.carrera.id,key:t}});e.setState({usuarios:a,loadTable:!1})}})},e.state={usuarios:[],loadTable:!0,periodos:null,periodo:null},e}return l(t,e),b(t,[{key:"componentDidMount",value:function(){this.fetchUsuarios()}},{key:"render",value:function(){var e=this.state,t=e.usuarios,a=e.loadTable,n=[{title:"No.Control",dataIndex:"id",key:"id"},{title:"Nombre",dataIndex:"nombre",key:"nombre"},{title:"Telefono",dataIndex:"telefono",key:"telefono"},{title:"correo",dataIndex:"correo",key:"correo"},{title:"Carrera",dataIndex:"carrera",key:"id_carrera",filters:[{text:"Ingeniería en sistemas computacionales",value:"Ingeniería en sistemas computacionales"},{text:"Ingeniería informática",value:"Ingeniería informática"},{text:"Ingeniería civil",value:"Ingeniería civil"},{text:"Ingeniería en gestión empresarial",value:"Ingeniería en gestión empresarial"},{text:"Contador público",value:"Contador público"}],onFilter:function(e,t){return 0===t.carrera.indexOf(e)}}];return h.default.createElement("div",null,h.default.createElement("h3",null,"Residentes"),h.default.createElement(u.default,{xs:24,lg:24},h.default.createElement(d.default,{dataSource:t,columns:n,pagination:{pageSize:10},loading:a,scroll:{x:1100}})))}}]),t}(v.Component);t.default=w},1417:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar puestos",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Escribe el puesto "},o("nombre",{rules:[{required:!0,message:"El puesto debe tener un nombre"}]})(y.default.createElement(p.default,{type:"mayuscula",style:{width:"100%"},placeholder:"Nombre del puesto"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.props.onload()},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/puesto",{nombre:n.nombre}).then(function(t){console.log(t),200===t.status?(u.default.success("Puesto agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields(),a.props.onload()):d.default.error({title:"Error al guardar el puesto. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},1418:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar Colonia",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Escribe la colonia "},o("nombre",{rules:[{required:!0,message:"La colonia debe tener un nombre"}]})(y.default.createElement(p.default,{type:"mayuscula",style:{width:"100%"},placeholder:"Nombre de la colonia"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/colonia",{nombre:n.nombre}).then(function(t){console.log(t),200===t.status?(u.default.success("Colonia agregada satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar la colonia. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},1419:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar Titulo de estudios",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Escribe el titulo "},o("nombre",{rules:[{required:!0,message:"El titulo debe tener una abreviacion"}]})(y.default.createElement(p.default,{type:"mayuscula",style:{width:"100%"},placeholder:"Abrecion del titulo"})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/titulo",{nombre:n.nombre}).then(function(t){console.log(t),200===t.status?(u.default.success("Titulo agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar el Titulo. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},1420:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(121),a(122)),v=n(b),h=(a(16),a(17)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=a(6),O=(n(w),a(9)),S=n(O),C=a(1),k=(n(C),a(264)),x=n(k),j=a(676),A=n(j),P=_.default.Option;v.default.config({placement:"topRight",bottom:50,duration:13});var R=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fetchFolios=function(){var t=new Date,a=t.getFullYear(),n=[],r=!0;S.default.get("/api/folio").then(function(t){if(200===t.status){var o=t.data.map(function(e,t){return e.ciclo===a&&(r=!1),{id:e.id,numero:e.numero_folio,ciclo:e.ciclo,estado:e.estado?"Activo":"Terminado",key:t}});r&&n.push(E.default.createElement(P,{key:1,value:""+a},a)),e.setState({folios:n,usuarios:o})}})},e.emi=function(){S.default.get("/api/primeroword/1").then(function(e){200==e.status&&E.default.createElement("a",{style:{color:"#4da1ff"},href:"/plantillas/solicitud.docx"},"Plantilla de plan de trabajo ",E.default.createElement(Icon,{type:"cloud-download"}))})},e.recargar=function(){e.fetchFolios(),e.setState({visible_add_folio_otros:!1,visible_add_folio_residentes:!1})},e.addFolios=function(t,a){e.setState({visible_add_folio_otros:!0,visible_add_folio_residentes:!1,numero_de_folio_otros:a,id_folio:t})},e.addFoliosReservar=function(t,a){e.setState({visible_add_folio_residentes:!0,visible_add_folio_otros:!1,numero_de_folio_otros:a,id_folio:t})},e.handlePeriodo=function(t){e.setState({ciclo:t})},e.iniciarFolios=function(){var t=e.state.ciclo;null===t?p.default.warning("Debes seleccionar el ciclo para poner agregar el inicio de folios"):S.default.post("/api/folio",{anio:t}).then(function(t){console.log(t),200===t.status?(p.default.success("Folio  agregado satisfactoriamente"),e.fetchFolios()):p.default.warning("En el ciclo seleccionado ya se iniciaron los folios")}).catch(function(e){p.default.error(e)})},e.state={numero_de_folio_otros:null,visible_add_folio_otros:!1,visible_add_folio_residentes:!1,id_folio:null,usuarios:[],emisores:null,loadTable:!1,folios:[],periodo:null,ciclo:null},e}return l(t,e),y(t,[{key:"componentDidMount",value:function(){this.fetchFolios()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loadTable,n=t.folios,r=t.usuarios,o=t.visible_add_folio_residentes,l=t.visible_add_folio_otros,i=t.numero_de_folio_otros,c=t.id_folio,s=[{title:"Id",dataIndex:"id",key:"id"},{title:"Numero de folio",dataIndex:"numero",key:"numero"},{title:"Ciclo",dataIndex:"ciclo",key:"ciclo"},{title:"Estado",dataIndex:"estado",key:"estado"},{className:"center-text",title:"Accion",dataIndex:"key",key:"key",render:function(t,a){return E.default.createElement("div",null,"Terminado"===a.estado?"Dado el ciclo escolar terminado no puede reservar folios para residentes":E.default.createElement("span",null,E.default.createElement(f.default,{icon:"plus",onClick:function(){return e.addFoliosReservar(a.id,a.numero+1)}},"Reservar Folios para residentes"),E.default.createElement(f.default,{icon:"plus",onClick:function(){return e.addFolios(a.id,a.numero+1)}},"Generar folio")))}}],m=new Date;m.getFullYear();return E.default.createElement("div",null,E.default.createElement("div",null,E.default.createElement(_.default,{placeholder:"Seleccione el ciclo",onChange:this.handlePeriodo,style:{width:150,left:650,fontSize:12}},n),E.default.createElement(f.default,{type:"primary",onClick:function(){return e.iniciarFolios()},style:{left:750}},"Iniciar Folios")),E.default.createElement("h3",null,"Folios"),E.default.createElement(u.default,{xs:24,lg:24},E.default.createElement(d.default,{dataSource:r,columns:s,pagination:{pageSize:10},loading:a,scroll:{x:1100}})),E.default.createElement(u.default,{xs:24,lg:24},E.default.createElement(A.default,{visible:o,numero:i,id_folio:c,recargar:this.recargar.bind(this)}),E.default.createElement(x.default,{visible:l,numero:i,id_folio:c,recargar:this.recargar.bind(this)})))}}]),t}(g.Component);t.default=R},1421:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(24),a(25)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(12),a(13)),f=n(s),m=(a(121),a(122)),p=n(m),b=(a(16),a(17)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(6),E=(n(g),a(9)),w=n(E),O=a(1),S=(n(O),a(264)),C=n(S),k=a(676),x=n(k),j=a(34),A=n(j);v.default.Option;p.default.config({placement:"topRight",bottom:50,duration:13});var P=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fetchFolios=function(){var t=new Date,a=(t.getFullYear(),[]);w.default.get("/api/folio/otros").then(function(t){if(200===t.status){var n=t.data.map(function(e,t){return{numero:e.numero_de_folio,emisor:e.emisor.titulo+""+e.emisor.nombre+" "+e.emisor.ap_paterno+" "+e.emisor.ap_materno,destinatario:e.nombre_destinatario,descripcion:e.descripcion,ciclo:""+e.folio.ciclo,key:A.default.v4()}});w.default.get("/api/folio/residentes").then(function(t){200===t.status&&(t.data.map(function(e,t){n.push({numero:e.numero_de_folio,emisor:e.docente.titulo+""+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno,destinatario:e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno,descripcion:e.descripcion,ciclo:""+e.folios.folio.ciclo,key:A.default.v4()})}),e.setState({folios:a,usuarios:n}))})}})},e.recargar=function(){e.fetchFolios(),e.setState({visible_add_folio_otros:!1,visible_add_folio_residentes:!1})},e.addFolios=function(t,a){e.setState({visible_add_folio_otros:!0,visible_add_folio_residentes:!1,numero_de_folio_otros:a,id_folio:t})},e.addFoliosReservar=function(t,a){e.setState({visible_add_folio_residentes:!0,visible_add_folio_otros:!1,numero_de_folio_otros:a,id_folio:t})},e.handlePeriodo=function(t){e.setState({ciclo:t})},e.iniciarFolios=function(){var t=e.state.ciclo;null===t?f.default.warning("Debes seleccionar el ciclo para poner agregar el inicio de folios"):w.default.post("/api/folio",{anio:t}).then(function(t){console.log(t),200===t.status?(f.default.success("Folio  agregado satisfactoriamente"),e.fetchFolios()):f.default.warning("En el ciclo seleccionado ya se iniciaron los folios")}).catch(function(e){f.default.error(e)})},e.state={numero_de_folio_otros:null,visible_add_folio_otros:!1,visible_add_folio_residentes:!1,id_folio:null,usuarios:[],emisores:null,loadTable:!1,folios:[],periodo:null,ciclo:null},e}return l(t,e),h(t,[{key:"componentDidMount",value:function(){this.fetchFolios()}},{key:"render",value:function(){var e=this.state,t=e.loadTable,a=(e.folios,e.usuarios),n=e.visible_add_folio_residentes,r=e.visible_add_folio_otros,o=e.numero_de_folio_otros,l=e.id_folio,i=[{title:"Numero de folio",dataIndex:"numero",key:"numero",sorter:function(e,t){return e.numero-t.numero}},{title:"Emisor",dataIndex:"emisor",key:"emisor"},{title:"Destinatario",dataIndex:"destinatario",key:"destinatario"},{title:"Descripcion",dataIndex:"descripcion",key:"descripcion"},{title:"Ciclo",dataIndex:"ciclo",key:"ciclo",filters:[{text:"2017",value:"2017"},{text:"2018",value:"2018"},{text:"2019",value:"2019"}],onFilter:function(e,t){return 0===t.ciclo.indexOf(e)}}],c=new Date;c.getFullYear();return y.default.createElement("div",null,y.default.createElement("h3",null,"Historia Folios"),y.default.createElement(u.default,{xs:24,lg:24},y.default.createElement(d.default,{dataSource:a,columns:i,pagination:{pageSize:10},loading:t,scroll:{x:1100}})),y.default.createElement(u.default,{xs:24,lg:24},y.default.createElement(x.default,{visible:n,numero:o,id_folio:l,recargar:this.recargar.bind(this)}),y.default.createElement(C.default,{visible:r,numero:o,id_folio:l,recargar:this.recargar.bind(this)})))}}]),t}(_.Component);t.default=P},1422:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(12),a(13)),d=n(c),s=(a(83),a(77)),f=n(s),m=(a(51),a(52)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(a(6),a(2)),y=(n(_),a(57)),g=a(9),E=n(g),w=a(64),O=a(84),S=n(O),C=a(1423),k=n(C),x=a(666),j=n(x),A=a(667),P=n(A),R=a(107),I=(n(R),p.default.Header),M=p.default.Content,T=p.default.Footer,D=p.default.Sider,F=f.default.SubMenu,Y=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.logo=function(e){return h.default.createElement("div",{className:"titulo",style:{textAlign:"down",top:10,height:40,width:1e3}},h.default.createElement("img",{src:"/img/logoprincipal.png",alt:"logo_tec",height:"250%"}),h.default.createElement("div",{style:{fontSize:20}},e," "))},e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;if(1==a){var n=e.state.anteproyecto;e.setState({componentSelected:a,visibleCambiarContrasenia:!1,visiblecolaborador:!1,componentRender:{title:e.logo("Registro de anteproyecto"),render:h.default.createElement(k.default,{anteproyecto:n})}})}3==a&&e.setState({visibleCambiarContrasenia:!0,visiblecolaborador:!1,visible_add_alumno:!1}),4==a&&e.setState({visiblecolaborador:!0,visibleCambiarContrasenia:!1,visible_add_alumno:!1})},e.state={collapsed:!0,isAuth:!0,usuario:null,imagen:null,nombre:null,componentRender:{title:null,render:null},visibleCambiarContrasenia:!1,anteproyecto:null,visiblecolaborador:!1,id_alumnoC:null,datosAlumno:null,visible_add_alumno:!1},e}return l(t,e),b(t,[{key:"getDatosCandidato",value:function(e){var t=this;E.default.get("/api/alumno/informacion/"+e).then(function(e){200==e.status?(null==e.data.sexo&&t.setState({visible_add_alumno:!0}),t.setState({datosAlumno:e.data,nombre:e.data.nombre+" "+e.data.ap_paterno+" "+e.data.ap_materno})):d.default.error("Ups hubo un error inesperado favor de contactar al administrador")})}},{key:"getIsAuth",value:function(){var e=this;(0,w.getIsAuth)().then(function(t){"nuevo"===t.rol?(E.default.post("/api/empresa/nueva",{}).then(function(a){200===a.status&&e.setState({isAuth:t.isAuth,id_empresa:a.data.id,componentRender:{title:e.logo("Registro de Empresa"),render:h.default.createElement(k.default,{id_empresa:a.data.id})}})}),e.setState({isAuth:t.isAuth,componentRender:{title:e.logo("Registro de Empresa"),render:h.default.createElement(k.default,null)}})):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.visible_add_alumno,n=e.datosAlumno,r=e.componentRender,o=(e.usuario,e.visibleCambiarContrasenia),l=e.visiblecolaborador,i=e.id_alumnoC;return t?h.default.createElement(p.default,{style:{minHeight:"100vh"}},h.default.createElement(D,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},h.default.createElement("center",null,this.state.collapsed?h.default.createElement("div",{className:"grises"}):h.default.createElement("div",{className:"grises",style:{alignContent:"center",textAlign:"center",top:10,height:120,width:150}})),this.state.collapsed?"":h.default.createElement("div",null,h.default.createElement("br",null),h.default.createElement("br",null),h.default.createElement("br",null)),h.default.createElement(f.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},h.default.createElement(f.default.Item,{key:"1"},h.default.createElement(u.default,{type:"inbox"}),h.default.createElement("span",null,"Registrar Empresa")),h.default.createElement(F,{key:"sub1",title:h.default.createElement("span",null,h.default.createElement(u.default,{type:"user"}),h.default.createElement("span",null,"Usuario"))},h.default.createElement(f.default.Item,null,h.default.createElement("a",{href:"/api/usuario/logout"}," ",h.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),h.default.createElement(p.default,null,h.default.createElement(I,{style:{background:"#fff",padding:0,height:150}},h.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),h.default.createElement("div",{style:{float:"right",left:50}},r.title)),h.default.createElement(M,{style:{margin:"0px 0px",padding:24,background:"#fff"}},r.render),h.default.createElement(T,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),h.default.createElement(S.default,{visible:o}),h.default.createElement(j.default,{visible:l,id_alumno:i}),h.default.createElement(P.default,{visible:a,datosAlumno:n})):h.default.createElement(y.Redirect,{to:"/usuario/auth"})}}]),t}(v.Component);t.default=Y},1423:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(12),a(13)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(69),a(70)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(26),a(27)),_=n(h),y=(a(24),a(25)),g=n(y),E=(a(15),a(21)),w=n(E),O=(a(170),a(139)),S=n(O),C=(a(96),a(97)),k=n(C),x=(a(16),a(17)),j=n(x),A=(a(19),a(20)),P=n(A),R=(a(658),a(659)),I=n(R),M=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),T=a(0),D=n(T),F=a(9),Y=n(F),N=a(1);n(N);a(44);var z=(I.default.TreeNode,P.default.Item),G=j.default.Option,L=(k.default.Panel,S.default.Group,P.default.create()(function(e){var t=e.handleSubmit,a=(e.visible,e.onCancel,e.onCreate,e.form),n=e.normFile,r=e.beforeUpload,o=e.id_empresa,l=a.getFieldDecorator,i=[],u=[],c=[];Y.default.get("/api/puesto").then(function(e){200==e.status&&e.data.map(function(e,t){i.push(D.default.createElement(G,{key:t,value:""+e.nombre},e.nombre))})}),Y.default.get("/api/titulo").then(function(e){200==e.status&&e.data.map(function(e,t){u.push(D.default.createElement(G,{key:t,value:""+e.nombre},e.nombre))})}),Y.default.get("/api/colonia").then(function(e){200==e.status&&e.data.map(function(e,t){c.push(D.default.createElement(G,{key:t,value:""+e.nombre},e.nombre))})});var d=l("titulo_titular",{initialValue:"ING."})(D.default.createElement(j.default,{style:{width:80}},u)),s=l("titulo_firma_acuerdo",{initialValue:"ING."})(D.default.createElement(j.default,{style:{width:80}},u));return D.default.createElement(P.default,{layout:"vertical",onSubmit:t},D.default.createElement(_.default,{gutter:16},D.default.createElement(g.default,{lg:14,xs:24},D.default.createElement(z,{label:"Nombre de la empresa",hasFeedback:!0},l("nombre_empresa",{rules:[{required:!0,message:"La empresa debe tener un nombre."},{max:200,message:"El nombre de la empresa no debe pasar los 200 caracteres."}]})(D.default.createElement(w.default,{type:"mayuscula",placeholder:"Nombre de la empresa"})))),D.default.createElement(g.default,{lg:10,xs:24},D.default.createElement(z,{label:"Seleccione la clasificación de la empresa",hasFeedback:!0},l("clasificacion",{rules:[{required:!0,message:"Indique la clasificación de la empresa"}]})(D.default.createElement(j.default,{placeholder:"Selecciona la clasificación de la empresa"},D.default.createElement(G,{value:"industrial"},"Industrial"),D.default.createElement(G,{value:"servicios"},"Servicios"),D.default.createElement(G,{value:"público"},"Público"),D.default.createElement(G,{value:"privado"},"Privado")))))),D.default.createElement(z,{label:"RFC",hasFeedback:!0},l("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}]})(D.default.createElement(w.default,{type:"mayuscula",placeholder:"RFC de la empresa"}))),D.default.createElement(_.default,{gutter:16},D.default.createElement(g.default,{xs:24,lg:12},D.default.createElement(z,{label:"Domicilio",hasFeedback:!0},l("domicilio",{rules:[{max:100,message:"El domicilio solo debe tener 100 caracteres"}]})(D.default.createElement(w.default,{type:"mayuscula",placeholder:"Domicilio de la empresa"})))),D.default.createElement(g.default,{xs:24,lg:12},D.default.createElement(z,{label:"Colonia",hasFeedback:!0},l("colonia",{rules:[{max:100,message:"La colonia solo debe tener 100 caracteres"}]})(D.default.createElement(j.default,{placeholder:"Seleccione la colonia"},c))))),D.default.createElement(_.default,{gutter:16},D.default.createElement(g.default,{lg:12,xs:24},D.default.createElement(z,{label:"Codigo postal",hasFeedback:!0},l("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}]})(D.default.createElement(w.default,{type:"mayuscula",placeholder:"Codigo postal de la empresa"})))),D.default.createElement(g.default,{lg:12,xs:24},D.default.createElement(z,{label:"Fax",hasFeedback:!0},l("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}]})(D.default.createElement(w.default,{placeholder:"Fax de la empresa"})))),D.default.createElement(g.default,{lg:24,xs:24},D.default.createElement(z,{label:"Misión de la empresa",hasFeedback:!0},l("mision",{rules:[{max:600,message:"La misión debe tener como maximo 600 caracteres"}]})(D.default.createElement(w.default.TextArea,{className:"textarea",placeholder:"Misión de la empresa",autosize:{minRows:2,maxRows:6}}))))),D.default.createElement(_.default,{gutter:16},D.default.createElement(g.default,{xs:6,lg:6},D.default.createElement(z,{label:"Puesto del titular",hasFeedback:!0},l("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."},{max:100,message:"El puesto del titular no debe ser mayor a 100 caracteres"}]})(D.default.createElement(j.default,{placeholder:"Seleccione el puesto"},i)))),D.default.createElement(g.default,{xs:18,lg:18},D.default.createElement(z,{label:"Nombre completo del titular",hasFeedback:!0},l("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."},{max:100,message:"El nombre del titular no debe ser mayor a 100 caracteres"}]})(D.default.createElement(w.default,{type:"mayuscula",addonBefore:d,placeholder:"Nombre completo del titular"}))))),D.default.createElement(_.default,{gutter:16},D.default.createElement(g.default,{xs:6,lg:6},D.default.createElement(z,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},l("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."},{max:100,message:"El puesto del del que firma el acuerdo no debe ser mayor a 100 caracteres"}]})(D.default.createElement(j.default,{placeholder:"Selecciona el puesto"},i)))),D.default.createElement(g.default,{xs:18,lg:18},D.default.createElement(z,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},l("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."},{max:100,message:"El nombre completo del que firma el acuerdo  no debe ser mayor a 100 caracteres"}]})(D.default.createElement(w.default,{type:"mayuscula",addonBefore:s,placeholder:"Nombre completo del que firma el acuerdo de colaboración"}))))),D.default.createElement(_.default,{gutter:16},D.default.createElement(g.default,{xs:6,lg:6},D.default.createElement(z,{label:"Ingrese numero telefonico de la empresa",hasFeedback:!0},l("telefono",{rules:[{required:!0,message:"la empresa necesita un telefono"}]})(D.default.createElement(w.default,{type:"phone",placeholder:"Ingrese el telefono oficial de la empresa"})))),D.default.createElement(g.default,{xs:18,lg:18},D.default.createElement(z,{label:"Ingrese correo electronico de la empresa",hasFeedback:!0},l("correo",{rules:[{required:!0,message:"la empresa necesita un correo"}]})(D.default.createElement(w.default,{type:"email",placeholder:"Ingrese el correo oficial de la empresa"}))))),D.default.createElement(g.default,{xs:18,lg:18},D.default.createElement(z,{label:"Seleccione Documento de verificación de empresa"},D.default.createElement("div",{className:"dropbox"},l("file_comprobacion",{valuePropName:"fileList",getValueFromEvent:n,rules:[{required:!0,message:"se requiere el documento de comprobación"}]})(D.default.createElement(p.default.Dragger,{name:"filecomprobante",action:"/api/alumno/file_comprobante/"+o,beforeUpload:r},D.default.createElement("p",{className:"ant-upload-drag-icon"},D.default.createElement(v.default,{type:"inbox"})),D.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),D.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))),D.default.createElement(f.default,{size:"large",icon:"save",type:"primary",htmlType:"submit",style:{marginTop:40,marginBottom:20}},"Guardar cambios")))})),q=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.saveFormRef=function(e){a.form=e},a.handleSubmit=function(e){var t=a.state.id_empresa;e.preventDefault();var n=a.form;a.state.anteproyecto;n.validateFields(function(e,a){e||Y.default.put("/api/empresa/nueva/registro/"+t,{nombre:a.nombre_empresa,rfc:a.rfc,domicilio:a.domicilio||"",colonia:a.colonia||"",codigo_postal:a.codigo_postal||"",fax:a.fax||"",mision:a.mision||"",titulo_titular:a.titulo_titular,puesto_titular:a.puesto_titular,nombre_titular:""+a.nombre_titular,titulo_firma_acuerdo:a.titulo_firma_acuerdo,puesto_firma_acuerdo:a.puesto_firma_acuerdo,nombre_firma_acuerdo:""+a.nombre_firma_acuerdo,clasificacion:a.clasificacion,correo:a.correo,telefono:a.telefono}).then(function(e){console.log(e),200===e.status?(n.resetFields(),d.default.success("Empresa actualizada satisfactoriamente")):u.default.error({title:"Error al actualizar la empresa. Revisar los siguientes campos",content:D.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){d.default.error(e)})})},a.handleaddColaborador=function(){a.setState({visibleColaborador:!0})},a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.onChange=function(e){console.log("radio checked",e.target.value),a.setState({value:e.target.value})},a.state={id_empresa:e.id_empresa,value:1},a}return l(t,e),M(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.id_empresa;this.setState({id_empresa:t})}},{key:"componentDidMount",value:function(){}},{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||d.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||d.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||d.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||d.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.state.id_empresa;return D.default.createElement("div",null,D.default.createElement(_.default,{type:"flex",justify:"center"},D.default.createElement(g.default,{xs:26,lg:20},D.default.createElement(L,{handleSubmit:this.handleSubmit,ref:this.saveFormRef,id_empresa:e,normFile:this.normFile,beforeUpload:this.beforeUpload}))))}}]),t}(T.Component);t.default=q},1424:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(30),a(18)),u=n(i),c=(a(83),a(77)),d=n(c),s=(a(51),a(52)),f=n(s),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(0),b=n(p),v=(a(6),a(57)),h=a(9),_=n(h),y=a(64),g=a(84),E=n(g),w=a(256),O=(n(w),a(1425)),S=n(O),C=a(249),k=n(C),x=f.default.Header,j=f.default.Content,A=f.default.Footer,P=f.default.Sider,R=d.default.SubMenu,I=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.toggle=function(){e.setState({collapsed:!e.state.collapsed,visibleCambiarContrasenia:!1,visibleFormAddAsesorExterno:!1})},e.handleMenu=function(t){var a=(t.item,t.key);t.selectedKeys;3==a?e.setState({visibleCambiarContrasenia:!0,visibleFormAddAsesorExterno:!1}):4==a&&e.setState({visibleCambiarContrasenia:!1,visibleFormAddAsesorExterno:!0})},e.fetchEmpresas=function(){},e.state={collapsed:!0,isAuth:!0,usuario:null,visibleFormAddAsesorExterno:!1,componentRender:{title:null,render:null},props_add_asesor:{id_empresa:null},visibleCambiarContrasenia:!1},e}return l(t,e),m(t,[{key:"getIsAuth",value:function(){var e=this;(0,y.getIsAuth)().then(function(t){"empresa"===t.rol?_.default.get("/api/proyectos/empresa/"+t.id).then(function(a){200===a.status&&e.setState({isAuth:t.isAuth,usuario:t,visibleCambiarContrasenia:!1,props_add_asesor:{id_empresa:t.id},componentRender:{title:"Proyectos de residencia",render:b.default.createElement(S.default,{proyectos:a.data,usuario:t})}})}):e.setState({isAuth:!1})})}},{key:"componentWillMount",value:function(){this.getIsAuth()}},{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.props_add_asesor,n=e.visibleFormAddAsesorExterno,r=e.componentRender,o=(e.usuario,e.visibleCambiarContrasenia);return t?b.default.createElement(f.default,{style:{minHeight:"100vh"}},b.default.createElement(P,{breakpoint:"lg",trigger:null,collapsible:!0,collapsed:this.state.collapsed},b.default.createElement("div",{className:"logo",style:{textAlign:"center"}},b.default.createElement("img",{src:"/img/tec_logo.png",alt:"logo_tec",height:"100%"})),b.default.createElement(d.default,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],onSelect:this.handleMenu},b.default.createElement(d.default.Item,{key:"1"},b.default.createElement(u.default,{type:"inbox"}),b.default.createElement("span",null,"Menu1")),b.default.createElement(R,{key:"sub1",title:b.default.createElement("span",null,b.default.createElement(u.default,{type:"user"}),b.default.createElement("span",null,"Usuario"))},b.default.createElement(d.default.Item,{key:"4"},"Agregar asesor externo"),b.default.createElement(d.default.Item,{key:"3"},"Cambiar contraseña"),b.default.createElement(d.default.Item,null,b.default.createElement("a",{href:"/api/usuario/logout"}," ",b.default.createElement("strong",null,"Cerrar sesión")," ")," ")))),b.default.createElement(f.default,null,b.default.createElement(x,{style:{background:"#fff",padding:0}},b.default.createElement(u.default,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),r.title),b.default.createElement(j,{style:{margin:"24px 16px",padding:24,background:"#fff"}},r.render),b.default.createElement(A,{style:{textAlign:"center"}},"Sistema de Seguimiento de residencias del ITCH ©2017 Francisco Blanco 00fblanco@gmail.com")),b.default.createElement(E.default,{visible:o}),b.default.createElement(k.default,{visible:n,empresa:a,onReloadFetch:this.fetchEmpresas.bind(this)})):b.default.createElement(v.Redirect,{to:"/usuario/auth"})}}]),t}(p.Component);t.default=I},1425:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(137),a(138)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(16),a(17)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=a(9),y=n(_),g=a(34),E=n(g),w=a(668),O=n(w),S=p.default.Option,C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeResidente=function(e){a.setState({spin:!0}),y.default.get("/api/alumno/proyecto_para_asesor_externo/"+e).then(function(t){200===t.status&&a.setState({renderProyecto:h.default.createElement(O.default,{key:E.default.v4(),updateProyecto:a.updateProyecto.bind(a),proyecto:t.data,usuario:a.state.usuario}),id_proyecto:e,spin:!1})})},a.updateProyecto=function(){a.setState({spin:!0}),y.default.get("/api/alumno/proyecto_para_asesor_externo/"+a.state.id_proyecto).then(function(e){200===e.status&&a.setState({renderProyecto:h.default.createElement(O.default,{key:E.default.v4(),updateProyecto:a.updateProyecto.bind(a),proyecto:e.data,usuario:a.state.usuario}),spin:!1})})},a.state={proyectos:e.proyectos,usuario:e.usuario,renderProyecto:null,id_proyecto:null,spin:!1},a}return l(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyectos:e.proyectos,usuario:props.usuario,renderProyecto:null,id_proyecto:null,spin:!1})}},{key:"render",value:function(){var e=this.state,t=e.proyectos,a=e.renderProyecto,n=e.spin,r=e.usuario;return h.default.createElement(u.default,null,h.default.createElement(f.default,{xs:24,lg:24},h.default.createElement(p.default,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Seleccione al residente",onChange:this.onChangeResidente,style:{width:400}},t.filter(function(e){return e.anteproyecto.asesor_externo.id_empresa===r.id}).map(function(e){return console.log(e.anteproyecto.asesor_externo.id_empresa),h.default.createElement(S,{key:E.default.v4(),value:""+e.id},e.anteproyecto.alumno.no_control+" - "+e.anteproyecto.alumno.nombre+" "+e.anteproyecto.alumno.ap_paterno+" "+e.anteproyecto.alumno.ap_materno)}))),h.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:25}},h.default.createElement("div",{style:{textAlign:"center"}},!0===n?h.default.createElement(d.default,{size:"large",tip:"Cargando..."}):null),a))}}]),t}(v.Component);t.default=C},1426:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(161),a(162)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(51),a(52)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=(p.default.Content,p.default.Header,function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),b(t,[{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement(d.default,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},key:"a"},h.default.createElement(f.default,{lg:16,xs:22},h.default.createElement(u.default,{style:{borderBottomRightRadius:10,borderBottomLeftRadius:10,borderTopLeftRadius:10,borderTopRightRadius:10,paddingTop:25,paddingBottom:25}},h.default.createElement(d.default,{type:"flex",justify:"center",align:"middle"},h.default.createElement(f.default,{lg:24,xs:24,style:{paddingLeft:20,paddingRight:20}},h.default.createElement("h1",{style:{fontSize:150,color:"#4da1ff",textAlign:"center"}},"404"),h.default.createElement("p",{style:{color:"#4da1ff",textAlign:"center"}},"Oops!!! Pagina no encontrada.")))))))}}]),t}(v.Component));t.default=_},1427:function(e,t,a){var n=a(1428);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(37)(n,r);n.locals&&(e.exports=n.locals)},1428:function(e,t,a){t=e.exports=a(36)(void 0),t.push([e.i,".logo-login{\r\n  width: 10em;\r\n  height: 10em;\r\n}\r\n\r\n.trigger {\r\n  font-size: 18px;\r\n  line-height: 64px;\r\n  padding: 0 16px;\r\n  cursor: pointer;\r\n  transition: color .3s;\r\n}\r\n\r\n.cerrar-sesion:hover {\r\n  color: red;\r\n  background-color: red;\r\n}\r\n.trigger:hover {\r\n  color: #108ee9;\r\n}\r\n\r\n.logo {\r\n  height: 32px;\r\n  /* background: #333; */\r\n  border-radius: 6px;\r\n  margin: 16px;\r\n}\r\n\r\n.full-width {\r\n  width: 100%;\r\n}\r\n.center-text{\r\n  text-align: center !important;\r\n}\r\n\r\n\r\n.dynamic-delete-button {\r\n  cursor: pointer;\r\n  position: relative;\r\n  top: 4px;\r\n  font-size: 24px;\r\n  color: #999;\r\n  transition: all .3s;\r\n}\r\n.dynamic-delete-button:hover {\r\n  color: #777;\r\n}\r\n.dynamic-delete-button[disabled] {\r\n  cursor: not-allowed;\r\n  opacity: 0.5;\r\n}\r\n\r\n.custom-filter-dropdown {\r\n  padding: 8px;\r\n  border-radius: 6px;\r\n  background: #fff;\r\n  box-shadow: 0 1px 6px rgba(0, 0, 0, .2);\r\n}\r\n\r\n.custom-filter-dropdown input {\r\n  width: 130px;\r\n  margin-right: 8px;\r\n}\r\n\r\n.highlight {\r\n  color: #f50;\r\n}\r\n\r\n\r\n.components-table-demo-nested .ant-table-expanded-row > td:last-child {\r\n  padding: 0 48px 0 8px;\r\n}\r\n\r\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-thead th {\r\n  border-bottom: 1px solid #e9e9e9;\r\n}\r\n\r\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-thead th:first-child {\r\n  padding-left: 0;\r\n}\r\n\r\n.components-table-demo-nested .ant-table-expanded-row > td:last-child .ant-table-row td:first-child {\r\n  padding-left: 0;\r\n}\r\n\r\n.components-table-demo-nested .ant-table-expanded-row .ant-table-row:last-child td {\r\n  border: none;\r\n}\r\n\r\n.components-table-demo-nested .ant-table-expanded-row .ant-table-thead > tr > th {\r\n  background: none;\r\n}\r\n\r\n.components-table-demo-nested .table-operation a:not(:last-child) {\r\n  margin-right: 24px;\r\n}\r\n.SimplePDF {\r\n  width: 350px; /* width of pdf document box should be != 0 */\r\n  height: 500px; /* height of pdf document box should be != 0 */\r\n  margin: 15px; /* optional */\r\n  padding: 15px; /* optional */\r\n  float: left; /* optional */\r\n}\r\n\r\n.pdf{\r\n  width: 100% !important;\r\n}\r\n\r\n.file-preview {\r\n  width: 600px !important;\r\n}\r\n\r\n.center-block{\r\n  justify-content: center;\r\n  overflow-y: 50px;\r\n}\r\n\r\n.border-top{\r\n  border-top: 1px solid #d7d9db;\r\n  margin-top: 20px;\r\n  padding-top: 10px;\r\n}\r\n.border-bottom{\r\n  border-bottom: 1px solid #d7d9db;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 10px;\r\n}",""])},175:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option),S=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.departamento,l=e.handleChangeg,i=e.options,u=r.getFieldDecorator,c=[];E.default.get("/api/titulo").then(function(e){200==e.status&&e.data.map(function(e,t){c.push(y.default.createElement(O,{key:t,value:""+e.nombre},e.nombre))})});var s=u("titulo",{initialValue:"ING."})(y.default.createElement(f.default,{style:{width:80}},c));return y.default.createElement(d.default,{visible:t,title:"Agregar docente al departamento de "+o.nombre_departamento,okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nombre"},u("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(y.default.createElement(p.default,{type:"mayuscula",addonBefore:s,style:{width:"100%"},placeholder:"Nombre del docente"}))),y.default.createElement(w,{label:"Apellido paterno"},u("ap_paterno",{rules:[{required:!0,message:"El docente debe tener un apellido paterno."}]})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Apellido paterno del docente"}))),y.default.createElement(w,{label:"Apellido materno"},u("ap_materno",{rules:[{required:!0,message:"El docente debe tener un apellido materno."}]})(y.default.createElement(p.default,{type:"mayuscula",placeholder:"Apellido materno del docente"}))),y.default.createElement(w,{label:"Correo electronico"},u("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(y.default.createElement(f.default,{mode:"combobox",onChange:l,filterOption:!1,placeholder:"Ingrese el correo electronico del alumno"},i)))))}),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),E.default.post("/api/docente",{titulo:n.titulo,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_departamento:a.state.departamento.id_departamento,correo:n.correo}).then(function(t){console.log(t),200===t.status?(u.default.success("Docente agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar el docente. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.handleChangeg=function(e){var t=void 0;t=!e||e.indexOf("@")>=0?[]:["gmail.com","hotmail.com","outlook.com"].map(function(t){var a=e+"@"+t;return y.default.createElement(O,{key:a.toLowerCase()},a.toLowerCase())}),a.setState({options:t})},a.state={visible:e.visible,departamento:e.departamento,options:[]},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.departamento;this.setState({visible:t,departamento:a})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(S,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento,handleChangeg:this.handleChangeg,options:this.state.options}))}}]),t}(_.Component);t.default=C},176:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(47),a(48)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(12),a(13)),v=n(b),h=(a(30),a(18)),_=n(h),y=(a(29),a(28)),g=n(y),E=(a(22),a(23)),w=n(E),O=(a(16),a(17)),S=n(O),C=(a(96),a(97)),k=n(C),x=(a(39),a(40)),j=n(x),A=(a(51),a(52)),P=n(A),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},I=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),M=a(0),T=n(M),D=(a(6),a(9)),F=n(D),Y=a(79),N=n(Y),z=a(501),G=n(z),L=a(502),q=n(L),B=a(249),V=n(B),U=(P.default.Content,P.default.Header,j.default.Column,j.default.ColumnGroup,k.default.Panel),W=S.default.Option,H=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onInputChange=function(t){e.setState({searchText:t.target.value})},e.onSearch=function(){var t=e.state,a=t.searchText,n=t.empresas,r=new RegExp(a,"gi");e.setState({visible:!1,filterDropdownVisible:!1,filtered:!!a,filterEmpresas:n.map(function(e){console.warn(e);var t=e.nombre.match(r);return t?R({},e,{nombre:T.default.createElement("span",null,e.nombre.split(r).map(function(e,a){return a>0?[T.default.createElement("span",{className:"highlight"},t[0]),e]:e}))}):null}).filter(function(e){return!!e})})},e.showModal=function(){e.setState({visible:!0,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!1})},e.showModalFormEditEmpresa=function(t){var a=e.state.empresas,n=a.find(function(e){return e.id===t});e.setState({visible:!1,visibleFormEditEmpresa:!0,visibleFormAddAsesorExterno:!1,props_edit_empresa:n})},e.showAnteproyecto=function(e){w.default.info({maskClosable:!0,width:"85%",title:"Anteproyecto",content:T.default.createElement("div",null,T.default.createElement(N.default,{file:"/api/convenios/pdf/"+e,scale:1.5})),onOk:function(){}})},e.showAddAsesorExterno=function(t,a){e.setState({visible:!1,visibleFormEditEmpresa:!1,visibleFormAddAsesorExterno:!0,props_add_asesor:{id_empresa:t,nombre_empresa:a}})},e.expandedRowRender=function(t){var a=[{title:"Nombre",dataIndex:"nombre"},{title:"Puesto",dataIndex:"puesto"}],n=[{title:"Estado de convenio",dataIndex:"convenio",filters:[{text:"Vigente",value:"Vigente"},{text:"Terminado",value:"Terminado"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.convenio.indexOf(e)}},{title:"Fecha inicio",dataIndex:"fecha"},{title:"Fecha final",dataIndex:"fecha_f"},{title:"Documentos de validacion",key:"acciones",render:function(t,a){return T.default.createElement("span",null,T.default.createElement(g.default,{style:{color:"#ff5757",marginRight:3},icon:"file-pdf",onClick:function(){return e.showAnteproyecto(a.url_convenio_firmado_digitalizado)}}),T.default.createElement("a",{style:{color:"#ff5757",marginLeft:3},target:"_blank",href:"/api/convenios/pdf/"+a.url_convenio_firmado_digitalizado},T.default.createElement(_.default,{type:"select"})))},className:"center-text"}];return T.default.createElement("div",null,T.default.createElement("span",null,T.default.createElement("strong",null,"RFC"),T.default.createElement("p",null,t.detalles.rfc),T.default.createElement("strong",null,"Domicilio"),T.default.createElement("p",null,t.detalles.domicilio),T.default.createElement("strong",null,"Codigo postal"),T.default.createElement("p",null,t.detalles.codigo_postal)),T.default.createElement("span",null,T.default.createElement("strong",null,"Nombre y puesto del titular de la empresa"),T.default.createElement("p",null,t.titular.titulo+" "+t.titular.nombre+" "+t.titular.puesto),T.default.createElement("strong",null,"Nombre y puesto de quien firma el acuerdo con el ITCH"),T.default.createElement("p",null,t.representante_legal.titulo+" "+t.representante_legal.nombre+" "+t.representante_legal.puesto)),T.default.createElement(k.default,{defaultActiveKey:["1"]},T.default.createElement(U,{header:"Asesores externos de la empresa",key:"1"},T.default.createElement(j.default,{style:{marginTop:10},columns:a,size:"small",dataSource:t.detalles.asesores_externos.map(function(e,t){return{key:t,nombre:e.nombre,puesto:e.puesto}})})),T.default.createElement(U,{header:"Convenios de la empresa",key:"2"},T.default.createElement(j.default,{style:{marginTop:10},columns:n,size:"small",dataSource:t.detalles.convenios.map(function(e,t){return console.log(e),{key:t,convenio:e.convenio?"Vigente":"Terminado",fecha:e.fecha_inicial,fecha_f:e.fecha_final,url_convenio_firmado_digitalizado:e.url_convenio_firmado_digitalizado}})}))))},e.handleconvenio=function(e,t){F.default.put("/api/convenio/empresa",{id:e,estado:t}).then(function(e){(e.status=200)?v.default.success("Se actualizo correctamente"):v.default.error("Ups ha visto un problema, favor de contactar al administrador")})},e.handleConveniopdf=function(e){if("vigente"===e)return v.default.success(e),T.default.createElement("a",{href:"/api/alumno/1/solicitud_residencia"})},e.state={empresas:[],filterEmpresas:[],visible:!1,filterDropdownVisible:!1,searchText:"",filtered:!1,loadTable:!0,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1,props_add_asesor:{id_empresa:null,nombre_empresa:null},props_edit_empresa:{detalles:null}},e}return l(t,e),I(t,[{key:"fetchEmpresas",value:function(){var e=this;F.default.get("/api/empresa").then(function(t){if(200===t.status){var a=t.data.empresas.filter(function(e){return e.convenioss.filter(function(e){return!0===e.convenio}).map(function(e,t){return e.convenio}).length>0||!0===e.convenio}).map(function(e,t){return{key:t,id:e.id,nombre:e.nombre,clasificacion:e.clasificacion,titular:e.titular,representante_legal:e.representante_legal,convenio:e.convenio,detalles:{rfc:e.rfc,domicilio:e.domicilio+" colonia "+e.colonia,domicilio_only:e.domicilio,colonia:e.colonia,codigo_postal:e.codigo_postal,fax:e.fax,mision:e.mision,puesto_titular:e.puesto_titular,nombre_titular:e.nombre_titular,puesto_firma_acuerdo:e.puesto_firma_acuerdo,nombre_firma_acuerdo:e.nombre_firma_acuerdo,asesores_externos:e.asesor_externos,convenios:e.convenioss},acciones:"acctions"}});e.setState({loadTable:!1,empresas:a,filterEmpresas:a,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1})}}).catch(function(t){e.setState({loadTable:!1})})}},{key:"componentDidMount",value:function(){this.fetchEmpresas()}},{key:"handleAddEmpresa",value:function(){this.fetchEmpresas(),this.setState({visible:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.filterEmpresas,r=t.loadTable,o=t.visibleFormAddAsesorExterno,l=t.props_add_asesor,i=t.visibleFormEditEmpresa,c=t.props_edit_empresa,s=[{title:"Nombre",dataIndex:"nombre",key:"nombre",filterDropdown:T.default.createElement("div",{className:"custom-filter-dropdown"},T.default.createElement(p.default,{ref:function(t){return e.searchInput=t},placeholder:"Buscar por nombre",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),T.default.createElement(g.default,{type:"primary",onClick:this.onSearch},"Buscar")),filterIcon:T.default.createElement(_.default,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t,visible:!1,visibleFormAddAsesorExterno:!1,visibleFormEditEmpresa:!1},function(){return e.searchInput.focus()})}},{title:"Clasificación",dataIndex:"clasificacion",key:"clasificacion",filters:[{text:"Público",value:"público"},{text:"Privado",value:"privado"},{text:"Industrial",value:"industrial"},{text:"Servicios",value:"servicios"}],filterMultiple:!1,onFilter:function(e,t){return 0===t.clasificacion.indexOf(e)}},{title:"Tipo de convenio",key:"tipo",render:function(t,a){return T.default.createElement("span",null,a.convenio?T.default.createElement(f.default,{checkedChildren:"Indifinido",defaultChecked:!!a.convenio,unCheckedChildren:"Temporal",onChange:function(t){return e.handleconvenio(a.id,t)}}):"Temporal")},className:"center-text"},{title:"Acciones",key:"acciones",render:function(t,a){return T.default.createElement("span",null,T.default.createElement(g.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditEmpresa(a.id)}},"Empresa"),T.default.createElement(g.default,{style:{marginLeft:5},icon:"team",onClick:function(){return e.showAddAsesorExterno(a.id,a.nombre)}},"Agregar asesor externo"))},className:"center-text"}];return T.default.createElement("div",null,T.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},T.default.createElement(d.default,{style:{marginRight:20}},T.default.createElement("h1",null," Empresas ")),T.default.createElement(d.default,null,T.default.createElement("div",null,T.default.createElement(S.default,{placeholder:"Convenios",style:{width:200,left:650,fontSize:20}},T.default.createElement(W,{value:"vigente"},T.default.createElement("a",{href:"/api/jefe/vigente/convenios"},"Vigentes")),T.default.createElement(W,{value:"indifinidos"},"  ",T.default.createElement("a",{href:"/api/jefe/indifinido/convenios"},"Indifinidos")),T.default.createElement(W,{value:"terminado"},T.default.createElement("a",{href:"/api/jefe/terminados/convenios"},"Terminados")),T.default.createElement(W,{value:"todos"},T.default.createElement("a",{href:"/api/jefe/todos/convenios"},"Todos")))))),T.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},T.default.createElement(j.default,{dataSource:n,className:"full-width",columns:s,pagination:{pageSize:5},loading:r,scroll:{x:800},expandedRowRender:this.expandedRowRender})),T.default.createElement(G.default,{visible:a,onAddEmpresa:this.handleAddEmpresa.bind(this)}),T.default.createElement(q.default,{visible:i,empresa:c,onReloadFetch:this.fetchEmpresas.bind(this)}),T.default.createElement(V.default,{visible:o,empresa:l,onReloadFetch:this.fetchEmpresas.bind(this)}))}}]),t}(M.Component);t.default=H},236:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(29),a(28)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(16),a(17)),v=n(b),h=(a(39),a(40)),_=n(h),y=(a(51),a(52)),g=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),S=(a(6),a(9)),C=n(S),k=a(34),x=n(k),j=a(1136),A=n(j),P=a(1147),R=n(P),I=a(175),M=n(I),T=a(1148),D=n(T),F=a(1149),Y=(n(F),g.default.Content,g.default.Header,_.default.Column),N=(_.default.ColumnGroup,v.default.Option),z=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModalFormDepartamento=function(){e.setState({visible_form_departamento:!0,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!1})},e.showModalFormEditDepartamento=function(t){C.default.get("/api/departamento/"+t).then(function(t){e.setState({visible_add_docente:!1,visible_add_carrera:!1,visible_form_departamento:!1,visible_form_edit_departamento:!0,departamento:t.data})})},e.showAddDocente=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_carrera:!1,visible_add_docente:!0,props_add_docente:{id_departamento:t,nombre_departamento:a}})},e.showAddCarrera=function(t,a){e.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,visible_add_carrera:!0,props_add_carrera:{id_departamento:t,nombre_departamento:a}})},e.changeSubdirectorAcademico=function(e){C.default.put("/api/docente/subdirector_academico",{id_usuario:e||null}).then(function(e){200===e.status?p.default.success("Subdirector academico actualizado satisfactoriamente"):p.default.error("Tuvimos un error al asignar al subdirector academico.")}).catch(function(e){p.default.error("Error al asignar al subdirector academico")})},e.state={data:[],visible_form_departamento:!1,visible_form_edit_departamento:!1,visible_add_docente:!1,props_add_docente:{id_departamento:null,nombre_departamento:null},visible_add_carrera:!1,props_add_carrera:{id_departamento:null,nombre_departamento:null},departamento:null,loadTable:!0,docentes:[]},e}return l(t,e),E(t,[{key:"fetchDepartamento",value:function(){var e=this;C.default.get("/api/departamento").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){console.log(e.docentes);var a=e.docentes.find(function(e){return"jefe_departamento"===e.usuario.rol});return{key:t,id:e.id,nombre:e.nombre,jefe_departamento:a?a.titulo+" "+a.nombre+" "+a.ap_paterno+" "+a.ap_materno:"no asignado",acciones:"Editar departamento"}});C.default.get("/api/docentes").then(function(t){200===t.status?e.setState({docentes:t.data,data:a,loadTable:!1,visible_form_edit_departamento:!1,visible_add_docente:!1}):e.setState({data:a,loadTable:!1,visible_form_edit_departamento:!1,visible_add_docente:!1})})}})}},{key:"handleAddDepartamento",value:function(){this.fetchDepartamento(),this.setState({visible_form_departamento:!1,visible_form_edit_departamento:!1})}},{key:"componentDidMount",value:function(){this.fetchDepartamento()}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible_form_edit_departamento,n=t.visible_form_departamento,r=t.docentes,o=t.data,l=t.departamento,i=t.loadTable,c=t.visible_add_docente,s=t.props_add_docente,m=t.visible_add_carrera,p=t.props_add_carrera,b=r.find(function(e){return"subdirector_academico"===e.usuario.rol&&"SUBDIRECCIÓN ACADÉMICA"===e.departamento_doce.nombre});return O.default.createElement("div",null,O.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},O.default.createElement(f.default,{style:{marginRight:20}},O.default.createElement("h1",null," Departamentos ")),O.default.createElement(f.default,null,O.default.createElement(d.default,{type:"primary",icon:"plus",onClick:this.showModalFormDepartamento},"Agregar"))),O.default.createElement(u.default,{style:{marginTop:20,marginBottom:20}},O.default.createElement(f.default,{xs:24,lg:8},O.default.createElement("h3",null,"Seleccione al subdirector academico"),O.default.createElement(v.default,{key:x.default.v4(),style:{width:"100%"},showSearch:!0,placeholder:"Seleccione al subdirector academico",optionFilterProp:"children",allowClear:!0,onChange:function(t){return e.changeSubdirectorAcademico(t)},defaultValue:b?b.titulo+" "+b.nombre+" "+b.ap_materno+" "+b.ap_paterno:null},r.filter(function(e){return"SUBDIRECCIÓN ACADÉMICA"===e.departamento_doce.nombre}).map(function(e){return O.default.createElement(N,{key:x.default.v1(),value:""+e.id_usuario},e.titulo+" "+e.nombre+" "+e.ap_materno+" "+e.ap_paterno)})))),O.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},O.default.createElement(_.default,{dataSource:o,className:"full-width",pagination:{pageSize:5},loading:i,scroll:{x:800}},O.default.createElement(Y,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),O.default.createElement(Y,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),O.default.createElement(Y,{title:"Jefe de departamento",dataIndex:"jefe_departamento",key:"jefe_departamento",className:"center-text"}),O.default.createElement(Y,{title:"Acciones",key:"acciones",render:function(t,a){return O.default.createElement("span",null,O.default.createElement(d.default,{style:{marginRight:5},icon:"edit",onClick:function(){return e.showModalFormEditDepartamento(a.id)}},"Departamento"),O.default.createElement(d.default,{style:{marginLeft:5},icon:"plus",onClick:function(){return e.showAddDocente(a.id,a.nombre)}},"docente"),O.default.createElement(d.default,{style:{marginLeft:5},icon:"plus",onClick:function(){return e.showAddCarrera(a.id,a.nombre)}},"carrera"))},className:"center-text"}))),O.default.createElement(A.default,{visible:n,onAddDepartamento:this.handleAddDepartamento.bind(this)}),O.default.createElement(R.default,{visible:a,onReloadDepartamentos:this.fetchDepartamento.bind(this),departamento:l}),O.default.createElement(M.default,{visible:c,departamento:s,onReloadDocente:this.fetchDepartamento.bind(this)}),O.default.createElement(D.default,{visible:m,departamento:p}))}}]),t}(w.Component);t.default=z},247:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(29),a(28)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(39),a(40)),p=n(m),b=(a(51),a(52)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=(v.default.Content,v.default.Header,p.default.Column),O=(p.default.ColumnGroup,function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showModal=function(){e.setState({visible:!0})},e.state={data:[{key:"1",id:1,nombre:"Sistemas y computación",jefe_departamento:"Jose Angel Nava",acciones:"alv"}],visible:!1},e}return l(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;E.default.get("/api/docente").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){return{key:t,id:e.id,nombre:e.nombre,jefe_departamento:"unasigned",acciones:"falta"}});e.setState({data:a})}})}},{key:"render",value:function(){var e=this.state,t=(e.visible,e.data);return y.default.createElement("div",null,y.default.createElement(u.default,{type:"flex",justify:"left",align:"middle"},y.default.createElement(f.default,{style:{marginRight:20}},y.default.createElement("h1",null," Docente ")),y.default.createElement(f.default,null,y.default.createElement(d.default,{type:"primary",icon:"plus",onClick:this.showModal},"Agregar"))),y.default.createElement(u.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:30}},y.default.createElement(p.default,{dataSource:t,className:"full-width"},y.default.createElement(w,{title:"ID",dataIndex:"id",key:"id",className:"center-text"}),y.default.createElement(w,{title:"Nombre",dataIndex:"nombre",key:"nombre",className:"center-text"}),y.default.createElement(w,{title:"Jefe de departamento",dataIndex:"jefe_departamento",key:"jefe_departamento",className:"center-text"}),y.default.createElement(w,{title:"Acciones",key:"acciones",render:function(e,t){return y.default.createElement("span",null,y.default.createElement(d.default,{icon:"edit"}," Cambiar jefe de departamento "))},className:"center-text"}))))}}]),t}(_.Component));t.default=O},249:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(30),a(18)),f=n(s),m=(a(16),a(17)),p=n(m),b=(a(15),a(21)),v=n(b),h=(a(19),a(20)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=(a(6),a(9)),O=n(w),S=_.default.Item,C=(v.default.Group,p.default.Option),k=_.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.empresa,l=r.getFieldDecorator,i=l("titulo",{initialValue:"ING."})(E.default.createElement(p.default,{style:{width:70}},E.default.createElement(C,{value:"ING."},"ING."),E.default.createElement(C,{value:"DR."},"DR."),E.default.createElement(C,{value:"DRA."},"DRA."),E.default.createElement(C,{value:"MTRO."},"MTRO."),E.default.createElement(C,{value:"M.A."},"M.A."),E.default.createElement(C,{value:"DIR."},"DIR."),E.default.createElement(C,{value:"DIRA."},"DIRA."),E.default.createElement(C,{value:"LIC."},"LIC."),E.default.createElement(C,{value:"ISC."},"ISC."),E.default.createElement(C,{value:"ISI."},"ISI."),E.default.createElement(C,{value:"MAI."},"MAI."),E.default.createElement(C,{value:"MBT."},"MTB."),E.default.createElement(C,{value:"MCT."},"MCT."),E.default.createElement(C,{value:"MTI."},"MTI."),E.default.createElement(C,{value:"M.A.T.I."},"M.A.T.I."),E.default.createElement(C,{value:"M.C."},"M.C.")));return E.default.createElement(d.default,{visible:t,title:"Agregar asesor a la empresa "+o.nombre_empresa,okText:"Guardar",onCancel:a,onOk:n},E.default.createElement(_.default,{layout:"vertical"},E.default.createElement(S,{label:"Nombre completo del asesor externo"},l("nombre",{rules:[{required:!0,message:"El docente debe tener un nombre."}]})(E.default.createElement(v.default,{addonBefore:i,style:{width:"100%"},placeholder:"Nombre completo del asesor externo"}))),E.default.createElement(S,{label:"Puesto del asesor externo"},l("puesto",{rules:[{required:!0,message:"El docente debe tener un puesto dentro de la empresa."}]})(E.default.createElement(v.default,{style:{width:"100%"},placeholder:"Puesto del asesor externo"}))),E.default.createElement(S,{label:"Correo del asesor externo"},l("correo",{rules:[{type:"email",message:"El email no es correcto"},{required:!0,message:"El correo es obligatorio."}]})(E.default.createElement(v.default,{prefix:E.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"})))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(console.log("Received values of form: ",n),O.default.post("/api/asesor_externo",{nombre:n.titulo+" "+n.nombre,puesto:n.puesto,correo:n.correo,id_empresa:a.state.empresa.id_empresa}).then(function(t){console.log(t),200===t.status?(u.default.success("Asesor agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields(),a.props.onReloadFetch()):d.default.error({title:"Error al guardar al asesor externo. Revisar los siguientes campos",content:E.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){console.log(e),u.default.error(e)}))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,empresa:e.empresa},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.empresa;this.setState({visible:t,empresa:a})}},{key:"render",value:function(){return E.default.createElement("div",null,E.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,empresa:this.state.empresa}))}}]),t}(g.Component);t.default=x},250:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(12),a(13)),p=n(m),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=a(0),h=n(v),_=a(6),y=(n(_),a(9)),g=n(y),E=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.fetchUsuarios=function(){g.default.get("/api/usuarios").then(function(t){if(200===t.status){var a=t.data.map(function(e,t){return{id:e.id,correo:e.correo,rol:e.rol,key:t}});e.setState({usuarios:a,loadTable:!1})}})},e.enviarContrasenia=function(e,t){g.default.put("/api/usuario/cambiar_contrasenia/email",{id_usuario:e,correo:t}).then(function(e){200===e.status?p.default.success("Contraseña nueva enviada al correo del usuario!"):p.default.error("Surgio un error, verificar conexión")})},e.state={usuarios:[],loadTable:!0},e}return l(t,e),b(t,[{key:"componentDidMount",value:function(){this.fetchUsuarios()}},{key:"render",value:function(){var e=this,t=this.state,a=t.usuarios,n=t.loadTable,r=[{title:"correo",dataIndex:"correo",key:"correo"},{title:"rol",dataIndex:"rol",key:"rol",filters:[{text:"docente",value:"docente"},{text:"residente",value:"residente"},{text:"candidato_residente",value:"candidato_residente"},{text:"jefe_departamento",value:"jefe_departamento"},{text:"asesor_externo",value:"asesor_externo"},{text:"subdirector_academico",value:"subdirector_academico"}],onFilter:function(e,t){return 0===t.rol.indexOf(e)}},{className:"center-text",title:"Recuperar contraseña",dataIndex:"recover",key:"recover",render:function(t,a){return h.default.createElement(f.default,{icon:"reload",onClick:function(){return e.enviarContrasenia(a.id,a.correo)}},"Enviar nueva contraseña a su correo")}}];return h.default.createElement("div",null,h.default.createElement("h3",null,"Usuarios del sistema"),h.default.createElement(u.default,{type:"flex",style:{marginTop:20}},h.default.createElement(d.default,{dataSource:a,columns:r,pagination:{pageSize:10},loading:n,scroll:{x:1100}})))}}]),t}(v.Component);t.default=E},255:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g);a(44);var w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.tipo,l=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar observación  "+o,okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Descripción de la observación"},l("observacion",{rules:[{required:!0,message:"La observación debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(y.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la observacion...",rows:4})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1}),a.state.ocultarAddObservacion()},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/proyecto/observacion",{observacion:n.observacion,tipo_observacion:a.state.tipo,id_tarea:a.state.id_tarea,id_asesor_interno:a.state.usuario.id_docente}).then(function(t){200===t.status?(u.default.success("Observación agregada correctamente"),e.resetFields(),a.state.actulizarCantidadObservacionesAddObservacion(),E.default.put(a.state.rutaUpdateObservacion,{id_tarea:a.state.id_tarea}).then(function(e){200===e.status||u.default.error("No se han guardado los cambios, reportar error al administrador.")})):d.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,tipo:e.tipo,id_tarea:e.id_tarea,usuario:e.usuario,actulizarCantidadObservacionesAddObservacion:e.actulizarCantidadObservacionesAddObservacion,ocultarAddObservacion:e.ocultarAddObservacion,rutaUpdateObservacion:e.rutaUpdateObservacion},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.tipo,a=e.id_tarea,n=e.usuario,r=e.ocultarAddObservacion,o=e.actulizarCantidadObservacionesAddObservacion;this.setState({visible:e.visible,tipo:t,id_tarea:a,usuario:n,ocultarAddObservacion:r,actulizarCantidadObservacionesAddObservacion:o})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,tipo:this.state.tipo}))}}]),t}(_.Component);t.default=S},256:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(62),a(63)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(87),a(88)),p=n(m),b=(a(22),a(23)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(29),a(28)),g=n(y),E=(a(69),a(70)),w=n(E),O=(a(15),a(21)),S=n(O),C=(a(78),a(68)),k=n(C),x=(a(30),a(18)),j=n(x),A=(a(170),a(139)),P=n(A),R=(a(96),a(97)),I=n(R),M=(a(16),a(17)),T=n(M),D=(a(19),a(20)),F=n(D),Y=(a(658),a(659)),N=n(Y),z=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),G=a(0),L=n(G),q=a(9),B=n(q),V=a(1),U=n(V);a(44);var W=a(665),H=(n(W),N.default.TreeNode),K=F.default.Item,J=T.default.Option,X=I.default.Panel,Q=P.default.Group,Z=F.default.create()(function(e){var t=e.handleSubmit,a=e.form,n=e.anteproyecto,r=e.empresas,o=e.normFile,l=e.beforeUpload,i=a.getFieldDecorator;return L.default.createElement(F.default,{layout:"vertical",onSubmit:t},L.default.createElement(K,{label:L.default.createElement("span",null,"Nombre del anteproyecto ",L.default.createElement(k.default,{title:"El nombre del anteproyecto debe tener un formato conciso."},L.default.createElement(j.default,{type:"question-circle-o"}))),hasFeedback:!0},i("nombre",{rules:[{required:!0,message:"El anteproyecto debe tener un nombre"}],initialValue:n.nombre?n.nombre:""})(L.default.createElement(S.default,{type:"mayuscula",placeholder:"Ingrese el nombre del anteproyecto"}))),L.default.createElement(K,{label:"Objetivo general del anteproyecto",hasFeedback:!0},i("objetivo_general",{rules:[{required:!0,message:"El anteproyecto debe tener un objetivo general."}],initialValue:n.objetivo_general?n.objetivo_general:""})(L.default.createElement(S.default.TextArea,{className:"textarea",placeholder:"Escriba aqui el objetivo general",autosize:{minRows:2,maxRows:6}}))),L.default.createElement(K,{label:"Origen del proyecto",hasFeedback:!0},i("origen",{rules:[{required:!0,message:"Debe indicar el origen del anteproyecto."}],initialValue:n.origen?n.origen:""})(L.default.createElement(T.default,{placeholder:"Seleccione el origen de su proyecto"},L.default.createElement(J,{value:"Banco de proyectos"},"Banco de proyectos"),L.default.createElement(J,{value:"Propuesta propia"},"Propuesta propia"),L.default.createElement(J,{value:"Trabajador"},"Trabajador")))),L.default.createElement(K,{label:L.default.createElement("span",null,"Asesor externo ",L.default.createElement(k.default,{title:"Si su asesor o empresa no esta en el catalogo,solicitar al jefe de su departamento."},L.default.createElement(j.default,{type:"question-circle-o"}))),hasFeedback:!0},i("id_asesor_externo",{rules:[{required:!0,message:"El anteproyecto debe tener un asesor externo"}],initialValue:n.id_asesor_externo?""+n.id_asesor_externo:""})(L.default.createElement(N.default,{showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Busque por nombre de empresa o el nombre de su asesor externo.",allowClear:!0,treeDefaultExpandAll:!0,filterTreeNode:function(e,t){return t.props.title.toLowerCase().indexOf(e.toLowerCase())>=0}},r?r.map(function(e,t){return L.default.createElement(H,{title:e.nombre,key:""+t,value:null,disabled:!0},e.asesor_externos.map(function(e,a){return L.default.createElement(H,{value:""+e.id,title:e.nombre,key:a+"_"+t})}))}):null))),L.default.createElement(K,{label:"Seleccione su anteproyecto"},L.default.createElement("div",{className:"dropbox"},i("file_anteproyecto",{valuePropName:"fileList",getValueFromEvent:o})(L.default.createElement(w.default.Dragger,{name:"fileAnteproyecto",action:"/api/alumno/file_anteproyecto/"+n.id,beforeUpload:l},L.default.createElement("p",{className:"ant-upload-drag-icon"},L.default.createElement(j.default,{type:"inbox"})),L.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),L.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))),L.default.createElement(g.default,{size:"large",icon:"save",type:"primary",htmlType:"submit",style:{marginTop:40,marginBottom:20}},"Guardar cambios"))}),$=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.generarFolio=function(){B.default.post("/api/folio/residentes/numero",{id_alumno:a.state.anteproyecto.id_alumno}).then(function(e){200===e.status?"agotados"===e.data&&a.setState({agotado:!0}):_.default.warning("Error no se pudo generar")}).catch(function(e){_.default.error(e)})},a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.saveFormRef=function(e){a.form=e},a.handleSubmit=function(e){e.preventDefault();var t=a.form,n=a.state.anteproyecto;t.validateFields(function(e,t){if(!e){var r=t.id_asesor_externo,o=t.nombre,l=t.origen,i=t.objetivo_general;B.default.put("/api/alumno/"+n.id+"/anteproyecto",{id_asesor_externo:r,nombre:o,objetivo_general:i,origen:l}).then(function(e){200===e.status?(_.default.success("Anteproyecto actualizado satisfactoriamente!"),window.location.reload(),a.generarFolio()):v.default.error({title:"Error no se pudieron guardar los cambios. Revisar los siguientes campos",content:L.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){_.default.error(e)})}})},a.handleaddColaborador=function(){a.setState({visibleColaborador:!0})},a.onChange=function(e){console.log("radio checked",e.target.value),a.setState({value:e.target.value})},a.state={anteproyecto:e.anteproyecto,empresas:null,visibleColaborador:!1,id_alumnoC:e.anteproyecto.id_alumno?e.anteproyecto.id_alumno:"",colaboraciones:null,value:1,agotado:!1},a}return l(t,e),z(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.id_alumnoC;B.default.get("/api/empresa").then(function(a){200==a.status&&e.setState({empresas:a.data.empresas});var n=t;B.default.get("/api/colaboradores/"+n).then(function(t){if(200===t.status){console.log(t.data);var a=L.default.createElement("span",null,t.data.map(function(e,t){return L.default.createElement("p",{key:t},L.default.createElement(p.default,{status:"success",text:"No.Control: "+e.colaboradores.no_control+"\n Nombre: "+e.colaboradores.nombre+" "+e.colaboradores.ap_paterno+" "+e.colaboradores.ap_materno+"\nCarrera: "+e.colaboradores.carrera.nombre+" "}))}));e.setState({colaboraciones:a})}})})}},{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||_.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||_.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.state,t=e.anteproyecto,a=e.empresas,n=(e.visibleColaborador,e.id_alumnoC,e.colaboraciones),r={background:"#f4f8f9",borderRadius:10,marginBottom:24,border:0,overflow:"hidden"};t.periodo.fecha_inicio_entrega_anteproyecto,t.periodo.fecha_fin_entrega_anteproyecto,(0,U.default)().format("YYYY-MM-DD");return L.default.createElement("div",null,L.default.createElement(u.default,{type:"flex",justify:"center"},L.default.createElement(f.default,{xs:24,lg:20,style:{marginBottom:25}},"aprobado"===t.dictamen?L.default.createElement(p.default,{status:"success",text:"Dictamen: aprobado"}):L.default.createElement(p.default,{status:"error",text:"Dictamen: no aprobado"})),L.default.createElement(f.default,{xs:24,lg:20,style:{marginBottom:25}},L.default.createElement("h3",null,"Revisores"),L.default.createElement(I.default,{bordered:!1},t.revisiones.map(function(e,t){return L.default.createElement(X,{header:e.docente.nombre,key:t,style:r},"factible"===e.esFactible?L.default.createElement(p.default,{status:"success",text:"Proyecto factible"}):"","no_factible"===e.esFactible?L.default.createElement(p.default,{status:"error",text:"Proyecto no factible"}):"","corrección"===e.esFactible?L.default.createElement("div",null,L.default.createElement(p.default,{status:"processing",text:"Corregir los siguientes puntos y volver a subir anteproyecto"}),L.default.createElement("p",{style:{marginLeft:20,marginTop:10}},e.comentario)):"")}))),L.default.createElement(f.default,{xs:24,lg:20},L.default.createElement("h3",null,"Colaboradores"),L.default.createElement(I.default,{bordered:!1},L.default.createElement(X,{header:"Residentes",style:r},n))),L.default.createElement(f.default,{xs:26,lg:20},L.default.createElement(Z,{anteproyecto:t,handleSubmit:this.handleSubmit,ref:this.saveFormRef,empresas:a,normFile:this.normFile,beforeUpload:this.beforeUpload})),L.default.createElement(f.default,{xs:26,lg:20},null!=t.nombre&null!=t.origen&null!=t.id_asesor_externo?L.default.createElement("div",null,L.default.createElement(Q,{onChange:this.onChange,value:this.state.value},L.default.createElement(P.default,{value:1},"Solicitud"),L.default.createElement(P.default,{value:2},"Portada"),L.default.createElement(P.default,{value:3},"Carta presentacion")),1==this.state.value?L.default.createElement(g.default,{icon:"file-pdf"},L.default.createElement("a",{href:"/api/alumno/"+t.id_alumno+"/solicitud_residencia",target:"_blank"},"Generar")):2==this.state.value?L.default.createElement(g.default,{icon:"file-pdf"},L.default.createElement("a",{href:"/api/alumno/"+t.id_alumno+"/portada_proyecto",target:"_blank"},"Genera")):L.default.createElement(g.default,{icon:"file-pdf"},L.default.createElement("a",{href:"/api/alumno/"+t.id_alumno+"/CartaPresentacion",target:"_blank"},"Genera")),1==this.state.value?L.default.createElement(g.default,{icon:"file-word"},L.default.createElement("a",{href:"/api/primerword/"+t.id_alumno+"/solicitud.docx",target:"_blank"},"descargar")):2==this.state.value?L.default.createElement(g.default,{icon:"file-word"},L.default.createElement("a",{href:"/api/alumno/"+t.id_alumno+"/portada_proyecto.docx",target:"_blank"},"Descargar")):L.default.createElement(g.default,{icon:"file-word"},L.default.createElement("a",{href:"/api/alumno/"+t.id_alumno+"/CartaPresentacion.docx",target:"_blank"},"Descargar"))):L.default.createElement(d.default,{type:"info",message:"Faltan algunos datos para poder generar su solicitud de residencia",showIcon:!0}))))}}]),t}(G.Component);t.default=$},260:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(85),a(86)),c=n(u),d=(a(78),a(68)),s=n(d),f=(a(258),a(259)),m=n(f),p=(a(15),a(21)),b=n(p),v=(a(92),a(98)),h=n(v),_=(a(22),a(23)),y=n(_),g=(a(12),a(13)),E=n(g),w=(a(47),a(48)),O=n(w),S=(a(30),a(18)),C=n(S),k=(a(39),a(40)),x=n(k),j=(a(87),a(88)),A=n(j),P=(a(26),a(27)),R=n(P),I=(a(24),a(25)),M=n(I),T=(a(143),a(144)),D=n(T),F=(a(29),a(28)),Y=n(F),N=(a(19),a(20)),z=n(N),G=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),L=a(0),q=n(L),B=a(9),V=n(B),U=a(34),W=n(U),H=a(1),K=n(H),J=a(1360),X=n(J),Q=a(670),Z=n(Q),$=a(261),ee=n($),te=a(669),ae=n(te);a(44);var ne=z.default.Item,re=Y.default.Group,oe=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.reset=function(){a.setState({visibleRegistrarSubactividad:!1,visibleRegistrarTarea:!1,visibleRegistrarActividadGeneral:!1})},a.ocultarShowObservacion=function(){a.setState({visibleShowObservacion:!1})},a.showAddActividadGenal=function(){a.setState({visibleRegistrarActividadGeneral:!0,visibleRegistrarSubactividad:!1,visibleRegistrarTarea:!1,visibleEditTarea:!1,visibleEditSubactividad:!1,visibleEditActividadGeneral:!1,visibleShowObservacion:!1})},a.obtenerActividadesGenerales=function(){var e=[];V.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_plan_de_trabajo").then(function(t){200===t.status&&(console.log("plan de trabaj "+JSON.stringify(t.data)),t.data.map(function(t){e.push({key:W.default.v1(),id:t.id,id_proyecto:t.id_proyecto,id_orden:t.id_orden,actividad:t.actividad,objetivo:t.objetivo,entregable:t.entregable}),a.setState({dataSource_actividad_general:e})}),a.obtenerSubactividades())})},a.obtenerSubactividades=function(){var e=[];V.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_plan_de_trabajo").then(function(t){200===t.status&&(console.log("plan de trabaj "+JSON.stringify(t.data)),t.data.map(function(t){t.subactividades.map(function(t){e.push({key:W.default.v1(),id:t.id,id_orden:t.id_orden,id_actividad_general:t.id_actividad_general,actividad:t.actividad}),a.setState({dataSource_subactividades:e})})}),a.obtenerTareas())})},a.obtenerTareas=function(){var e=[],t=[];V.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_plan_de_trabajo").then(function(n){200===n.status&&(console.log("plan de trabaj "+JSON.stringify(n.data)),n.data.map(function(a){a.subactividades.map(function(a){a.tareas.map(function(n){t.push({key:W.default.v1(),id:n.id,id_subactividad:n.id_subactividad,id_orden:n.id_orden,tarea:n.tarea,horas:n.horas,entregable:n.entregable,fecha_entrega:n.fecha_entrega,estado_revision_plan:n.estado_revision_plan}),n.observaciones.map(function(t){e.push({key:W.default.v1(),id:t.id,id_tarea:t.id_tarea,observacion:t.observacion,estado:t.estado,tipo_observacion:t.tipo_observacion,id_subactividad:n.id_subactividad,id_actividad_general:a.id_actividad_general})})})})}),a.setState({dataSource_observaciones:e,dataSource_tareas:t}))})},a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.expandedRowRenderSubactividades=function(e){var t=a.state.dataSource_subactividades;t=t.filter(function(t){return t.id_actividad_general==e});var n=[{width:80,title:"No. Orden",dataIndex:"id_orden",key:"id_orden"},{title:"Subactividad",dataIndex:"actividad",key:"actividad"},{width:150,title:"Operaciones",dataIndex:"operaciones",render:function(e,t){return a.state.dataSource_subactividades.length>=1?q.default.createElement(R.default,null,q.default.createElement(M.default,{xs:{span:11,offset:1},lg:{span:6,offset:2}},q.default.createElement("div",null,q.default.createElement(D.default,{title:"¿Seguro de añadir una nueva tarea?",onConfirm:function(){return a.addTarea(t.id)}},q.default.createElement(Y.default,{key:"submit",type:"primary",icon:"plus"})))),q.default.createElement(M.default,{xs:{span:5,offset:1},lg:{span:6,offset:2}},q.default.createElement("div",null,q.default.createElement(D.default,{title:"¿Seguro de editar la subactividad?",onConfirm:function(){return a.showEditSubactividad(t.id,t.actividad)}},q.default.createElement(Y.default,{key:"submit",type:"primary",icon:"edit"})))),q.default.createElement(M.default,{xs:{span:5,offset:1},lg:{span:6,offset:2}},q.default.createElement("div",null,q.default.createElement(D.default,{title:"¿Seguro de eliminar?",onConfirm:function(){return a.deleteSubactividad(t.id,t.id_actividad_general,t.id_orden)}},q.default.createElement(Y.default,{key:"submit",type:"primary",icon:"delete"}))))):null}},{width:100,title:"Recorrer",dataIndex:"recorrer",render:function(e,t){return a.state.dataSource_subactividades.length>=1?q.default.createElement(R.default,null,q.default.createElement(re,null,q.default.createElement(D.default,{title:"¿Seguro de recorrer de posición?",onConfirm:function(){return a.recorrerSubactividad(t.id,t.id_actividad_general,t.id_orden,"subir")}},q.default.createElement(Y.default,{type:"primary",icon:"up"})),q.default.createElement(D.default,{title:"¿Seguro de recorrer de posición?",onConfirm:function(){return a.recorrerSubactividad(t.id,t.id_actividad_general,t.id_orden,"bajar")}},q.default.createElement(Y.default,{type:"primary",icon:"down"})))):null}},{width:110,title:"Observaciones",dataIndex:"observaciones",render:function(e,t){return a.state.dataSource_observaciones.length>=1?q.default.createElement(R.default,null,q.default.createElement("span",null,q.default.createElement(A.default,{count:a.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.id_subactividad===t.id&&"plan_de_trabajo"===e.tipo_observacion}).length}))):null}}];return q.default.createElement(x.default,{columns:n,dataSource:t,pagination:!1,expandedRowRender:function(e){return a.expandedRowRenderTarea(e.id)}})},a.comprobarEstado=function(e){var t=!1;return"aprobado"===e&&(t=!0),t},a.expandedRowRenderTarea=function(e){var t=a.state.dataSource_tareas;t=a.state.dataSource_tareas.filter(function(t){return t.id_subactividad==e});var n=[{width:80,title:"No.Orden",dataIndex:"id_orden",key:"id_orden"},{width:240,title:"Tarea",dataIndex:"tarea",key:"tarea"},{width:60,title:"Horas",dataIndex:"horas",key:"horas"},{width:240,title:"Entregable",dataIndex:"entregable",key:"entregable"},{width:100,title:"Fecha  entrega",dataIndex:"fecha_entrega",key:"fecha_entrega"},{width:100,title:"Operaciones",dataIndex:"operaciones",render:function(e,n){return t.length>=1?q.default.createElement(R.default,null,q.default.createElement(M.default,{span:12},q.default.createElement(D.default,{title:"¿Seguro de editar la tarea?",onConfirm:function(){return a.showEditTarea(n.id,n.tarea,n.horas,n.entregable,n.fecha_entrega)}},q.default.createElement(Y.default,{type:"primary",icon:"edit"}))),q.default.createElement(M.default,{span:12},q.default.createElement("div",null,q.default.createElement(D.default,{title:"¿Seguro de eliminar?",onConfirm:function(){return a.deleteTarea(n.id,n.id_subactividad,n.id_orden)}},q.default.createElement(Y.default,{key:"submit",type:"primary",icon:"delete"}))))):null}},{width:80,title:"Recorrer",dataIndex:"recorrer",render:function(e,n){return t.length>=1?q.default.createElement(R.default,null,q.default.createElement(re,null,q.default.createElement(D.default,{title:"¿Seguro de recorrer de posición?",onConfirm:function(){return a.recorrerTarea(n.id,n.id_subactividad,n.id_orden,"subir")}},q.default.createElement(Y.default,{type:"primary",icon:"up"})),q.default.createElement(D.default,{title:"¿Seguro de recorrer de posición?",onConfirm:function(){return a.recorrerTarea(n.id,n.id_subactividad,n.id_orden,"bajar")}},q.default.createElement(Y.default,{type:"primary",icon:"down"})))):null}},{width:110,title:"Estado",dataIndex:"estado_revision_plan",key:"estado_revision_plan",render:function(e,t){return q.default.createElement(O.default,{disabled:!0,defaultChecked:a.comprobarEstado(t.estado_revision_plan),checkedChildren:"Aprobada",unCheckedChildren:q.default.createElement(C.default,{type:"cross"})})}},{width:100,title:"Observaciones",dataIndex:"observaciones",render:function(e,t){return a.state.dataSource_observaciones.length>=1?q.default.createElement(R.default,null,q.default.createElement(M.default,{xs:{span:11,offset:1},lg:{span:6,offset:2}},q.default.createElement("div",null,q.default.createElement("span",null,q.default.createElement(A.default,{count:a.state.dataSource_observaciones.filter(function(e){return console.log(e),!e.estado&&e.id_tarea===t.id&&"plan_de_trabajo"===e.tipo_observacion}).length},q.default.createElement(Y.default,{type:"primary",icon:"eye",onClick:function(){return a.showObservacion(t.id,"plan_de_trabajo")}},"Ver")))))):null}}];return q.default.createElement(x.default,{rowClassName:function(e,t){return"revision"===e.estado_revision_plan?"ant-table-content-gris":"aprobado"===e.estado_revision_plan?"ant-table-content-verde":"ant-table-content-rojo"},columns:n,dataSource:t,pagination:!1})},a.handleDeleteActividadGeneral=function(e,t,n){a.reset(),""!==e&""!==t&&V.default.post("/api/plan_de_trabajo/delete_actividad_general",{id_actividad_general:e,id_proyecto:t,id_orden:n}).then(function(e){200===e.status&&(E.default.success("Actividad general eliminada "),a.obtenerActividadesGenerales())}).catch(function(e){E.default.error(e)})},a.deleteSubactividad=function(e,t,n){a.reset(),V.default.post("/api/plan_de_trabajo/delete_subactividad",{id_subactividad:e,id_actividad_general:t,id_orden:n}).then(function(e){200===e.status&&(E.default.success("Subactividad eliminada "),a.obtenerSubactividades())}).catch(function(e){E.default.error(e)})},a.addSubactividad=function(e){a.setState({visibleRegistrarSubactividad:!0,visibleRegistrarTarea:!1,visibleEditTarea:!1,visibleEditSubactividad:!1,visibleEditActividadGeneral:!1,visibleShowObservacion:!1,visibleRegistrarActividadGeneral:!1,actividad_general:e})},a.addTarea=function(e){a.setState({visibleRegistrarTarea:!0,visibleEditTarea:!1,visibleEditSubactividad:!1,visibleEditActividadGeneral:!1,visibleRegistrarSubactividad:!1,visibleShowObservacion:!1,visibleRegistrarActividadGeneral:!1,subactividad:e})},a.deleteTarea=function(e,t,n){a.reset(),V.default.post("/api/plan_de_trabajo/delete_tarea",{id_tarea:e,id_subactividad:t,id_orden:n}).then(function(e){200===e.status&&(E.default.success("Tarea eliminada "),a.obtenerTareas())}).catch(function(e){E.default.error(e)})},a.recorrerActividadGeneral=function(e,t,n,r){a.reset(),V.default.post("/api/plan_de_trabajo/up_actividad_general",{id_proyecto:e,id_actividad_general:t,id_orden:n,tipo:r}).then(function(e){200===e.status?(E.default.success("Recorrido de posición finalizado "),a.obtenerActividadesGenerales()):E.default.error("EL recorrido de posición no se puede realizar ")}).catch(function(e){E.default.error(e)})},a.recorrerSubactividad=function(e,t,n,r){a.reset(),V.default.post("/api/plan_de_trabajo/recorrer_subactividad",{id_subactividad:e,id_actividad_general:t,id_orden:n,tipo:r}).then(function(e){200===e.status?(E.default.success("Recorrido de posición finalizado "),a.obtenerSubactividades()):E.default.error("EL recorrido de posición no se puede realizar ")}).catch(function(e){E.default.error(e)})},a.recorrerTarea=function(e,t,n,r){a.reset(),V.default.post("/api/plan_de_trabajo/recorrer_tarea",{id_tarea:e,id_subactividad:t,id_orden:n,tipo:r}).then(function(e){200===e.status?(E.default.success("Recorrido de posición finalizado "),a.obtenerTareas()):E.default.error("EL recorrido de posición no se puede realizar ")}).catch(function(e){E.default.error(e)})},a.showEditActividadGeneral=function(e,t,n,o,l){var i;a.setState((i={visibleEditActividadGeneral:!0,visibleRegistrarTarea:!1,visibleEditTarea:!1,visibleEditSubactividad:!1,visibleRegistrarSubactividad:!1},r(i,"visibleRegistrarSubactividad",!1),r(i,"visibleShowObservacion",!1),r(i,"visibleRegistrarActividadGeneral",!1),r(i,"actividad",t),r(i,"id_actividad",e),r(i,"objetivo",n),r(i,"entregable",o),r(i,"id_proyecto",l),i))},a.handleCancelActividadGeneral=function(){a.form.resetFields(),a.setState({visibleEditActividadGeneral:!1})},a.handleCreateEditActividadGeneral=function(){var e=a.form;e.validateFields(function(t,n){t||V.default.post("/api/plan_de_trabajo/update_actividad_general",{id:a.state.id_actividad,actividad:n.actividad,objetivo:n.objetivo,entregable:n.entregable}).then(function(t){200===t.status?(E.default.success("Actividad general actualizada satisfactoriamente"),a.setState({visibleEditActividadGeneral:!1}),e.resetFields(),V.default.get("/api/plan_de_trabajo/"+a.state.id_proyecto+"/get_actividad_general").then(function(e){if(200===e.status){var t=e.data.map(function(e,t){return{key:W.default.v1(),id:e.id,id_proyecto:e.id_proyecto,id_orden:e.id_orden,actividad:e.actividad,objetivo:e.objetivo,entregable:e.entregable}});a.setState({dataSource_actividad_general:t})}})):y.default.error({title:"Error al modificar. Revisar los siguientes campos",content:q.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){E.default.error(e)})})},a.saveFormRefActividadGeneral=function(e){a.form=e},a.saveFormRefSubactividad=function(e){a.formSubactividad=e},a.showEditSubactividad=function(e,t){var n;a.setState((n={visibleEditSubactividad:!0,visibleRegistrarTarea:!1,visibleEditTarea:!1,visibleEditActividadGeneral:!1,visibleRegistrarSubactividad:!1},r(n,"visibleRegistrarSubactividad",!1),r(n,"visibleShowObservacion",!1),r(n,"visibleRegistrarActividadGeneral",!1),r(n,"id_actividad",e),r(n,"actividad",t),n))},a.handleCancelEditSubactividad=function(){a.formSubactividad.resetFields(),a.setState({visibleEditSubactividad:!1})},a.handleCreateEditSubactividad=function(){var e=a.formSubactividad;e.validateFields(function(t,n){t||V.default.post("/api/plan_de_trabajo/update_subactividad",{id:a.state.id_actividad,actividad:n.subactividad}).then(function(t){200===t.status?(E.default.success("Subactividad actualizada satisfactoriamente"),a.setState({visibleEditSubactividad:!1}),e.resetFields(),a.obtenerSubactividades()):y.default.error({title:"Error al modificar. Revisar los siguientes campos",content:q.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){E.default.error(e)})})},a.showEditTarea=function(e,t,n,o,l){var i;a.setState((i={visibleEditTarea:!0,visibleRegistrarTarea:!1,visibleEditSubactividad:!1,visibleEditActividadGeneral:!1,visibleRegistrarSubactividad:!1},r(i,"visibleRegistrarSubactividad",!1),r(i,"visibleShowObservacion",!1),r(i,"visibleRegistrarActividadGeneral",!1),r(i,"id_actividad",e),r(i,"tarea",t),r(i,"horas",n),r(i,"entregable",o),r(i,"fecha_entrega",l),i))},a.handleCancelEditTarea=function(){a.formTarea.resetFields(),a.setState({visibleEditTarea:!1})},a.handleCreateEditTarea=function(){var e=a.formTarea;e.validateFields(function(t,n){t||V.default.post("/api/plan_de_trabajo/update_tarea",{id:a.state.id_actividad,tarea:n.tarea,horas:n.horas,entregable:n.entregable,fecha_entrega:n.fecha_entrega}).then(function(t){200===t.status?(E.default.success("Tarea actualizada satisfactoriamente"),a.setState({visibleEditTarea:!1}),e.resetFields(),a.obtenerTareas()):y.default.error({title:"Error al modificar. Revisar los siguientes campos",content:q.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){E.default.error(e)})})},a.saveFormRefTarea=function(e){a.formTarea=e},a.showObservacion=function(e,t){a.setState({visibleShowObservacion:!0,id_actividad:e,tipo_observacion:t})},a.statusPlanDeTrabajo=function(){var e=!1,t=[];V.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_actividad_general").then(function(n){200===n.status&&n.data.map(function(a){a.subactividades.map(function(a){a.tareas.map(function(a){a.observaciones.map(function(n){"plan_de_trabajo"!==n.tipo_observacion||n.estado_alumno?"plan_de_trabajo"===n.tipo_observacion&&n.estado_alumno&&t.push(a.id_orden+".-"+a.tarea+"\n"):e=!0})})})}),e?E.default.warning("No se puede notificar al asesor interno, existen observaciones sin corregir"):a.enviarNotificacion(a.state.proyecto.anteproyecto.asesor_interno.usuario.correo,t)})},a.enviarNotificacion=function(e,t){var n=a.state.proyecto;V.default.post("/api/plan_de_trabajo/notificacion_observaciones_plan",{correo:e,mensaje:t+"\n Por favor de revisarlas y aprobarlas ",subject:"Se le notifica que el residente "+n.anteproyecto.alumno.nombre+" "+n.anteproyecto.alumno.ap_paterno+" "+n.anteproyecto.alumno.ap_materno+" ha correguido las observaciones del plan de trabajo de las siguientes tareas: "}).then(function(e){200===e.status?E.default.success("Notificación realizada al asesor interno"):y.default.error({title:"Error ",content:q.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){E.default.error(e)})},a.state={proyecto:e.proyecto,dataSource_actividad_general:[],visibleRegistrarSubactividad:!1,actividad_general:null,subactividad:null,visibleRegistrarTarea:!1,dataSource_subactividades:[],dataSource_tareas:[],visibleEditActividadGeneral:!1,id_actividad:null,id_proyecto:null,actividad:null,objetivo:null,entregable:null,visibleEditSubactividad:!1,visibleEditTarea:!1,tarea:null,horas:null,fecha_entrega:null,dataSource_observaciones:[],tipo_observacion:null,visibleShowObservacion:!1,visibleRegistrarActividadGeneral:!1},a}return i(t,e),G(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({visibleRegistrarSubactividad:!1,visibleRegistrarTarea:!1,visibleEditActividadGeneral:!1,visibleEditSubactividad:!1,visibleEditTarea:!1,visibleShowObservacion:!1,visibleRegistrarActividadGeneral:!1,dataSource_actividad_general:e.dataSource_actividad_general,dataSource_subactividades:e.dataSource_subactividades,dataSource_tareas:e.dataSource_tareas}),this.obtenerActividadesGenerales()}},{key:"componentDidMount",value:function(){this.obtenerActividadesGenerales()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.dataSource_actividad_general,a=[{width:80,title:"No.Orden",dataIndex:"id_orden",key:"id_orden"},{width:260,title:"Actividad general",dataIndex:"actividad",key:"actividad"},{width:260,title:"Objetivo",dataIndex:"objetivo",key:"objetivo"},{width:260,title:"Entregable",dataIndex:"entregable",key:"entregable"},{width:150,title:"Operaciones",dataIndex:"operaciones",render:function(a,n){return t.length>=1?q.default.createElement(R.default,null,q.default.createElement(M.default,{xs:{span:11,offset:1},lg:{span:6,offset:2}},q.default.createElement("div",null,q.default.createElement(D.default,{title:"¿Seguro de añadir una nueva subactividad?",onConfirm:function(){return e.addSubactividad(n.id)}},q.default.createElement(Y.default,{key:"submit",type:"primary",icon:"plus"})))),q.default.createElement(M.default,{xs:{span:5,offset:1},lg:{span:6,offset:2}},q.default.createElement(D.default,{title:"¿Seguro de editar actividad general?",onConfirm:function(){return e.showEditActividadGeneral(n.id,n.actividad,n.objetivo,n.entregable,n.id_proyecto)}},q.default.createElement(Y.default,{type:"primary",icon:"edit"}))),q.default.createElement(M.default,{xs:{span:5,offset:1},lg:{span:6,offset:2}},q.default.createElement("div",null,q.default.createElement(D.default,{title:"¿Seguro de eliminar?",onConfirm:function(){return e.handleDeleteActividadGeneral(n.id,n.id_proyecto,n.id_orden)}},q.default.createElement(Y.default,{key:"submit",type:"primary",icon:"delete"}))))):null}},{width:100,title:"Recorrer",dataIndex:"recorrer",render:function(a,n){return t.length>=1?q.default.createElement(R.default,null,q.default.createElement(re,null,q.default.createElement(D.default,{title:"¿Seguro de recorrer de posición?",onConfirm:function(){return e.recorrerActividadGeneral(n.id_proyecto,n.id,n.id_orden,"subir")}},q.default.createElement(Y.default,{type:"primary",icon:"up"})),q.default.createElement(D.default,{title:"¿Seguro de recorrer de posición?",onConfirm:function(){return e.recorrerActividadGeneral(n.id_proyecto,n.id,n.id_orden,"bajar")}},q.default.createElement(Y.default,{type:"primary",icon:"down"})))):null}},{width:110,title:"Observaciones",dataIndex:"observaciones",render:function(t,a){return e.state.dataSource_observaciones.length>=1?q.default.createElement(R.default,null,q.default.createElement("span",null,q.default.createElement(A.default,{count:e.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.id_actividad_general===a.id&&"plan_de_trabajo"===e.tipo_observacion}).length}))):null}}];return q.default.createElement("div",null,q.default.createElement(x.default,{bordered:!0,title:function(){return"Actividades generales del plan de trabajo"},dataSource:t,className:"full-width",columns:a,expandedRowRender:function(t){return e.expandedRowRenderSubactividades(t.id)},pagination:{pageSize:6}}),q.default.createElement(M.default,{span:4},q.default.createElement(Y.default,{key:"submit",type:"primary",icon:"plus",onClick:this.showAddActividadGenal},"Agregar actividad general")),q.default.createElement(M.default,{span:12},q.default.createElement(h.default,{content:"Se podrá notificar al asesor interno una vez que todas las observaciones estén corregidas"},q.default.createElement(Y.default,{type:"primary",onClick:this.statusPlanDeTrabajo},"Notificar a asesor interno de observaciones corregidas"))),q.default.createElement(Z.default,{visible1:this.state.visibleRegistrarSubactividad,obtenerSubactividades:this.obtenerSubactividades,proyecto:this.state.actividad_general}),q.default.createElement(X.default,{visibleTarea:this.state.visibleRegistrarTarea,obtenerTareas:this.obtenerTareas,subactividad:this.state.subactividad}),q.default.createElement(ee.default,{visible:this.state.visibleShowObservacion,tipo:this.state.tipo_observacion,id_tarea:this.state.id_actividad,ocultarShowObservacion:this.ocultarShowObservacion}),q.default.createElement(ae.default,{visible:this.state.visibleRegistrarActividadGeneral,obtenerSubactividades:this.obtenerActividadesGenerales,proyectoActividadGeneral:this.state.proyecto,visibleRegistrarSubactividad:!1}),q.default.createElement(le,{ref:this.saveFormRefActividadGeneral,visible:this.state.visibleEditActividadGeneral,onCancel:this.handleCancelActividadGeneral,onCreate:this.handleCreateEditActividadGeneral,id_actividad_general:this.state.id_actividad_general,actividad:this.state.actividad,objetivo:this.state.objetivo,entregable:this.state.entregable}),q.default.createElement(ie,{ref:this.saveFormRefSubactividad,visible:this.state.visibleEditSubactividad,onCancel:this.handleCancelEditSubactividad,onCreate:this.handleCreateEditSubactividad,actividad:this.state.actividad}),q.default.createElement(ue,{ref:this.saveFormRefTarea,visible:this.state.visibleEditTarea,onCancel:this.handleCancelEditTarea,onCreate:this.handleCreateEditTarea,tarea:this.state.tarea,horas:this.state.horas,entregable:this.state.entregable,fecha_entrega:this.state.fecha_entrega}))}}]),t}(L.Component);t.default=oe;var le=z.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.actividad,l=e.objetivo,i=e.entregable,u=r.getFieldDecorator;return q.default.createElement(y.default,{visible:t,title:"Editar actividad general",okText:"Guardar",onCancel:a,onOk:n,width:600,maskClosable:!1,centered:!0},q.default.createElement(z.default,{layout:"vertical"},q.default.createElement(R.default,null,q.default.createElement(M.default,{span:20},q.default.createElement(ne,{label:"Actividad general"},u("actividad",{rules:[{required:!0,message:"Actividad principal es obligatoria."}],initialValue:o})(q.default.createElement(b.default,{prefix:q.default.createElement(C.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Actividad Principal"})))),q.default.createElement(M.default,{span:20},q.default.createElement(ne,{label:"Objetivo"},u("objetivo",{rules:[{required:!0,message:"Objetivo es obligatorio."}],initialValue:l})(q.default.createElement(b.default,{prefix:q.default.createElement(C.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Objetivo"})))),q.default.createElement(M.default,{span:20},q.default.createElement(ne,{label:"Entregable"},u("entregable",{rules:[{required:!0,message:"Entregable es obligatorio."}],initialValue:i})(q.default.createElement(b.default,{prefix:q.default.createElement(C.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Entregable"})))))))}),ie=z.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.actividad,l=r.getFieldDecorator;return q.default.createElement(y.default,{visible:t,title:"Editar subactividad",okText:"Guardar",onCancel:a,onOk:n,width:600,maskClosable:!1,centered:!0},q.default.createElement(z.default,{layout:"vertical"},q.default.createElement(R.default,null,q.default.createElement(M.default,{span:20},q.default.createElement(ne,{label:"Actividad "},l("subactividad",{rules:[{required:!0,message:"Actividad  es obligatoria."}],initialValue:o})(q.default.createElement(b.default,{prefix:q.default.createElement(C.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Subactividad"})))))))}),ue=z.default.create()(function(e){function t(e){console.log("changed",e)}var a=e.visible,n=e.onCancel,r=e.onCreate,o=e.form,l=e.tarea,i=e.entregable,u=e.horas,d=e.fecha_entrega,f=o.getFieldDecorator;return q.default.createElement(y.default,{visible:a,title:"Editar tarea",okText:"Guardar",onCancel:n,onOk:r,width:600,maskClosable:!1,centered:!0},q.default.createElement(z.default,{layout:"vertical"},q.default.createElement(R.default,null,q.default.createElement(M.default,{span:20},q.default.createElement(ne,{label:"Tarea"},f("tarea",{rules:[{required:!0,message:"Tarea es obligatoria.."},{min:5,message:"El minimo de caracteres es 5."},{max:500,message:"El maximo de caracteres es 500."}],initialValue:l})(q.default.createElement(b.default,{prefix:q.default.createElement(C.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Tarea"})))),q.default.createElement(M.default,{span:20},q.default.createElement(ne,{label:"Horas"},f("horas",{rules:[{required:!0,message:"Horas es obligatoria.."}],initialValue:u,valuePropName:"option"})(q.default.createElement(m.default,{min:1,max:60,defaultValue:u,onChange:t})))),q.default.createElement(M.default,{span:20},q.default.createElement(ne,{label:"Entregable"},f("entregable",{rules:[{required:!0,message:"Entregable es obligatoria.."},{min:5,message:"El minimo de caracteres es 5."},{max:400,message:"El maximo de caracteres es 400."}],initialValue:i})(q.default.createElement(b.default,{prefix:q.default.createElement(C.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Entregable"})))),q.default.createElement(M.default,{span:20},q.default.createElement(ne,{label:q.default.createElement("span",null,"Fecha de entrega ",q.default.createElement(s.default,{title:"La fecha en la que se entregará la evidencia"},q.default.createElement(C.default,{type:"question-circle-o"})))},f("fecha_entrega",{rules:[{required:!0,message:"La fecha de asesoría es obligatoria."}],initialValue:(0,K.default)(d)})(q.default.createElement(c.default,{format:"ll"})))))))})},261:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(47),a(48)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(16),a(17)),g=n(y),E=(a(15),a(21)),w=n(E),O=(a(19),a(20)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=(a(6),a(9)),A=n(j),P=a(34),R=n(P),I=a(1),M=n(I),T=(S.default.Item,w.default.Group,g.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeObservacion=function(e,t){A.default.put("/api/proyecto/onChange_observacion_alumno",{id:e,estado:t}).then(function(e){200===e.status?_.default.success("Los cambios se han guardado."):_.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.handleCancel=function(){a.setState({visible:!1}),a.state.ocultarShowObservacion()},a.state={visible:e.visible,tipo:e.tipo,id_tarea:e.id_tarea,dataSource_observaciones:[],ocultarShowObservacion:e.ocultarShowObservacion},a}return l(t,e),C(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.visible,n=e.tipo,r=e.id_tarea,o=e.ocultarShowObservacion,l=e.dataSource_observaciones;this.setState({visible:a,tipo:n,id_tarea:r,ocultarShowObservacion:o,dataSource_observaciones:l}),A.default.get("/api/plan_de_trabajo/"+r+"/"+n+"/get_observaciones").then(function(e){if(200===e.status){var a=e.data.map(function(e){return{key:R.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,createdAt:(0,M.default)(e.createdAt).utc().format("LL")}});t.setState({dataSource_observaciones:a})}})}},{key:"render",value:function(){var e=this,t=[{width:120,title:"Estado residente",dataIndex:"estado_alumno",key:"estado_alumno",render:function(t,a){return x.default.createElement(p.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.estado_alumno,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:570,title:"Observación",dataIndex:"observacion",key:"observacion"},{width:140,title:"Estado asesor interno",dataIndex:"estado",key:"estado",render:function(t,a){return x.default.createElement(p.default,{disabled:!0,onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.estado,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:180,title:"Fecha de observación",dataIndex:"createdAt",key:"createdAt"}];return x.default.createElement("div",null,x.default.createElement(u.default,{visible:this.state.visible,title:"Observación  "+this.state.tipo,okText:"Guardar",width:1e3,onCancel:this.handleCancel,footer:[x.default.createElement(f.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},x.default.createElement(S.default,{layout:"vertical"},x.default.createElement(d.default,{dataSource:this.state.dataSource_observaciones,className:"full-width",columns:t}))))}}]),t}(k.Component));t.default=T},262:function(e,t){e.exports={periodo_residencia:{dias_habiles_seguimiento_final:15},jefe_departamento_de_vinculacion:"M.A.T.I. JESÚS MARÍN ROBLES",uuid_app:"c3bda844-1489-427b-91b1-b93744ebc086"}},264:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(34)),E=(n(g),a(9)),w=n(E),O=v.default.Item,S=(p.default.Group,f.default.Option),C=null,k=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.numero,l=r.getFieldDecorator,i=[];return C||w.default.get("/api/docentesGestion").then(function(e){200==e.status&&(C=e.data)}),w.default.get("/api/asesor_externos1").then(function(e){200==e.status&&e.data.map(function(e,t){i.push(y.default.createElement(S,{key:t,value:e.id_empresa+"-Asesor-"+e.nombre},e.nombre))})}),w.default.get("/api/empresa").then(function(e){200==e.status&&e.data.empresas.map(function(e,t){i.push(y.default.createElement(S,{key:t+"A",value:e.id+"-Representante-"+e.representante_legal.titulo+e.representante_legal.nombre},e.representante_legal.titulo+""+e.representante_legal.nombre))})}),y.default.createElement(d.default,{visible:t,title:"Agregar Folios",okText:"Guardar",onCancel:a,onOk:n,width:400},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(O,{label:"Numero de folio Asignado"},l("numero_actual",{rules:[{required:!0,message:"El registro debe tener un numero de inicio de folios"}],initialValue:o})(y.default.createElement(p.default,{type:"number",disabled:!0,style:{width:"100%"},placeholder:"Numero de inicio"})))),y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(O,{label:"Seleccione el emisor ",style:{width:"100%"}},l("emisor",{rules:[{required:!0,message:"el registro necesita un emisor"}]})(y.default.createElement(f.default,{placeholder:"Seleccione el Emisor"},C?C.map(function(e,t){return y.default.createElement(S,{key:t,value:""+e.id},e.titulo+" "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno)}):"")))),y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(O,{label:"Seleccione el Destinatario ",style:{width:"100%"}},l("destinatario",{rules:[{required:!0,message:"el registro necesita un destinatario"}]})(y.default.createElement(f.default,{placeholder:"Seleccione el destinatario"},i)))),y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(O,{label:"Escriba una breve descripcion"},l("descripcion",{rules:[{required:!0,message:"El registro debe tener una descripcion"}]})(y.default.createElement(p.default,{type:"text",style:{width:"100%"},placeholder:"Escriba la descripcion"})))))}),x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){if(!t){var r=n.destinatario.split("-");w.default.post("/api/folio/otros",{id_folio:a.state.id_folio,numero:a.state.numero,id_empresa:r[0],tipo:r[1],nombre_destinatario:r[2],id_emisor:n.emisor,descripcion:n.descripcion}).then(function(t){console.log(t),200===t.status?(u.default.success("Folio consumido  satisfactoriamente"),a.props.recargar(),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al consumir. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})}})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,numero:e.numero,id_folio:e.id_folio},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.numero,n=e.id_folio;this.setState({visible:t,numero:a,id_folio:n})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(k,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,numero:this.state.numero}))}}]),t}(_.Component);t.default=x},44:function(e,t,a){var n=a(1146);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(37)(n,r);n.locals&&(e.exports=n.locals)},501:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(26),a(27)),f=n(s),m=(a(24),a(25)),p=n(m),b=(a(16),a(17)),v=n(b),h=(a(15),a(21)),_=n(h),y=(a(19),a(20)),g=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),S=(a(6),a(9)),C=n(S);a(44);var k=g.default.Item,x=(_.default.Group,v.default.Option),j=g.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator,l=o("titulo_titular",{initialValue:"ING."})(O.default.createElement(v.default,{style:{width:60}},O.default.createElement(x,{value:"ING."},"ING."),O.default.createElement(x,{value:"DR."},"DR."),O.default.createElement(x,{value:"DRA."},"DRA."),O.default.createElement(x,{value:"MTRO."},"MTRO."),O.default.createElement(x,{value:"M.A."},"M.A."),O.default.createElement(x,{value:"DIR."},"DIR."),O.default.createElement(x,{value:"DIRA."},"DIRA."),O.default.createElement(x,{value:"LIC."},"LIC."),O.default.createElement(x,{value:"ISC."},"ISC."),O.default.createElement(x,{value:"ISI."},"ISI."),O.default.createElement(x,{value:"MAI."},"MAI."),O.default.createElement(x,{value:"MBT."},"MTB."),O.default.createElement(x,{value:"MCT."},"MCT."),O.default.createElement(x,{value:"MTI."},"MTI."),O.default.createElement(x,{value:"M.A.T.I."},"M.A.T.I."),O.default.createElement(x,{value:"M.C."},"M.C."))),i=o("titulo_firma_acuerdo",{initialValue:"ING."})(O.default.createElement(v.default,{style:{width:60}},O.default.createElement(x,{value:"ING."},"ING."),O.default.createElement(x,{value:"DR."},"DR."),O.default.createElement(x,{value:"DRA."},"DRA."),O.default.createElement(x,{value:"MTRO."},"MTRO."),O.default.createElement(x,{value:"M.A."},"M.A."),O.default.createElement(x,{value:"DIR."},"DIR."),O.default.createElement(x,{value:"DIRA."},"DIRA."),O.default.createElement(x,{value:"LIC."},"LIC."),O.default.createElement(x,{value:"ISC."},"ISC."),O.default.createElement(x,{value:"ISI."},"ISI."),O.default.createElement(x,{value:"MAI."},"MAI."),O.default.createElement(x,{value:"MBT."},"MTB."),O.default.createElement(x,{value:"MCT."},"MCT."),O.default.createElement(x,{value:"MTI."},"MTI."),O.default.createElement(x,{value:"M.A.T.I."},"M.A.T.I."),O.default.createElement(x,{value:"M.C."},"M.C.")));return O.default.createElement(d.default,{visible:t,title:"Agregar nueva empresa",okText:"Guardar",onCancel:a,onOk:n,width:650,style:{top:20}},O.default.createElement(g.default,{layout:"vertical"},O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{lg:14,xs:24},O.default.createElement(k,{label:"Nombre de la empresa",hasFeedback:!0},o("nombre_empresa",{rules:[{required:!0,message:"La empresa debe tener un nombre."},{max:200,message:"El nombre de la empresa no debe pasar los 200 caracteres."}]})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Nombre de la empresa"})))),O.default.createElement(p.default,{lg:10,xs:24},O.default.createElement(k,{label:"Seleccione la clasificación de la empresa",hasFeedback:!0},o("clasificacion",{rules:[{required:!0,message:"Indique la clasificación de la empresa"}]})(O.default.createElement(v.default,{placeholder:"Selecciona la clasificación de la empresa"},O.default.createElement(x,{value:"industrial"},"Industrial"),O.default.createElement(x,{value:"servicios"},"Servicios"),O.default.createElement(x,{value:"público"},"Público"),O.default.createElement(x,{value:"privado"},"Privado")))))),O.default.createElement(k,{label:"RFC",hasFeedback:!0},o("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}]})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"RFC de la empresa"}))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:24,lg:12},O.default.createElement(k,{label:"Domicilio",hasFeedback:!0},o("domicilio",{rules:[{max:100,message:"El domicilio solo debe tener 100 caracteres"}]})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Domicilio de la empresa"})))),O.default.createElement(p.default,{xs:24,lg:12},O.default.createElement(k,{label:"Colonia",hasFeedback:!0},o("colonia",{rules:[{max:100,message:"La colonia solo debe tener 100 caracteres"}]})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Colonia de la empresa"}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{lg:12,xs:24},O.default.createElement(k,{label:"Codigo postal",hasFeedback:!0},o("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}]})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Codigo postal de la empresa"})))),O.default.createElement(p.default,{lg:12,xs:24},O.default.createElement(k,{label:"Fax",hasFeedback:!0},o("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}]})(O.default.createElement(_.default,{placeholder:"Fax de la empresa"})))),O.default.createElement(p.default,{lg:24,xs:24},O.default.createElement(k,{label:"Misión de la empresa",hasFeedback:!0},o("mision",{rules:[{max:600,message:"La misión debe tener como maximo 600 caracteres"}]})(O.default.createElement(_.default.TextArea,{className:"textarea",placeholder:"Misión de la empresa",autosize:{minRows:2,maxRows:6}}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:6,lg:6},O.default.createElement(k,{label:"Puesto del titular",hasFeedback:!0},o("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."},{max:100,message:"El puesto del titular no debe ser mayor a 100 caracteres"}]})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Puesto del titular"})))),O.default.createElement(p.default,{xs:18,lg:18},O.default.createElement(k,{label:"Nombre completo del titular",hasFeedback:!0},o("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."},{max:100,message:"El nombre del titular no debe ser mayor a 100 caracteres"}]})(O.default.createElement(_.default,{type:"mayuscula",addonBefore:l,placeholder:"Nombre completo del titular"}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:6,lg:6},O.default.createElement(k,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},o("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."},{max:100,message:"El puesto del del que firma el acuerdo no debe ser mayor a 100 caracteres"}]})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Puesto del que firma el acuerdo"})))),O.default.createElement(p.default,{xs:18,lg:18},O.default.createElement(k,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},o("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."},{max:100,message:"El nombre completo del que firma el acuerdo  no debe ser mayor a 100 caracteres"}]})(O.default.createElement(_.default,{type:"mayuscula",addonBefore:i,placeholder:"Nombre completo del que firma el acuerdo de colaboración"})))))))}),A=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||C.default.post("/api/empresa",{nombre:n.nombre_empresa,clasificacion:n.clasificacion,rfc:n.rfc,domicilio:n.domicilio||"",colonia:n.colonia||"",codigo_postal:n.codigo_postal||"",fax:n.fax||"",mision:n.mision||"",titulo_titular:n.titulo_titular,puesto_titular:n.puesto_titular,nombre_titular:""+n.nombre_titular,titulo_firma_acuerdo:n.titulo_firma_acuerdo,puesto_firma_acuerdo:n.puesto_firma_acuerdo,nombre_firma_acuerdo:""+n.nombre_firma_acuerdo}).then(function(t){200===t.status?(e.resetFields(),u.default.success("Empresa agregada satisfactoriamente"),a.setState({visible:!1}),a.props.onAddEmpresa()):d.default.error({title:"Error al guardar la empresa. Revisar los siguientes campos",content:O.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible},a}return l(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return O.default.createElement("div",null,O.default.createElement(j,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(w.Component);t.default=A},502:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(26),a(27)),f=n(s),m=(a(24),a(25)),p=n(m),b=(a(16),a(17)),v=n(b),h=(a(15),a(21)),_=n(h),y=(a(19),a(20)),g=n(y),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=a(0),O=n(w),S=(a(6),a(9)),C=n(S);a(44);var k=g.default.Item,x=(_.default.Group,v.default.Option),j=g.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.empresa,l=r.getFieldDecorator,i=l("titulo_titular",{initialValue:o.titular?o.titular.titulo:"ING."})(O.default.createElement(v.default,{style:{width:60}},O.default.createElement(x,{value:"ING."},"ING."),O.default.createElement(x,{value:"DR."},"DR."),O.default.createElement(x,{value:"DRA."},"DRA."),O.default.createElement(x,{value:"MTRO."},"MTRO."),O.default.createElement(x,{value:"DIR."},"DIR."),O.default.createElement(x,{value:"DIRA."},"DIRA."),O.default.createElement(x,{value:"LIC."},"LIC."),O.default.createElement(x,{value:"ISC."},"ISC."),O.default.createElement(x,{value:"ISI."},"ISI."),O.default.createElement(x,{value:"MAI."},"MAI."),O.default.createElement(x,{value:"MBT."},"MTB."),O.default.createElement(x,{value:"MCT."},"MCT."),O.default.createElement(x,{value:"MTI."},"MTI."),O.default.createElement(x,{value:"M.A.T.I."},"M.A.T.I."),O.default.createElement(x,{value:"M.C."},"M.C."))),u=l("titulo_firma_acuerdo",{initialValue:o.representante_legal?o.representante_legal.titulo:"ING."})(O.default.createElement(v.default,{style:{width:60}},O.default.createElement(x,{value:"ING."},"ING."),O.default.createElement(x,{value:"DR."},"DR."),O.default.createElement(x,{value:"DRA."},"DRA."),O.default.createElement(x,{value:"MTRO."},"MTRO."),O.default.createElement(x,{value:"DIR."},"DIR."),O.default.createElement(x,{value:"DIRA."},"DIRA."),O.default.createElement(x,{value:"LIC."},"LIC."),O.default.createElement(x,{value:"ISC."},"ISC."),O.default.createElement(x,{value:"ISI."},"ISI."),O.default.createElement(x,{value:"MAI."},"MAI."),O.default.createElement(x,{value:"MBT."},"MTB."),O.default.createElement(x,{value:"MCT."},"MCT."),O.default.createElement(x,{value:"MTI."},"MTI."),O.default.createElement(x,{value:"M.A.T.I."},"M.A.T.I."),O.default.createElement(x,{value:"M.C."},"M.C.")));return O.default.createElement(d.default,{visible:t,title:"Editar la empresa "+o.nombre,okText:"Actualizar",onCancel:a,onOk:n,width:650,style:{top:20}},O.default.createElement(g.default,{layout:"vertical"},O.default.createElement(k,{label:"RFC",hasFeedback:!0},l("rfc",{rules:[{required:!0,message:"La empresa debe tener un RFC"},{min:12,message:"El RFC debe tener minimo 12 caracteres"},{max:13,message:"El RFC debe tener maximo 12 caracteres"}],initialValue:o.detalles?o.detalles.rfc:""})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"RFC de la empresa"}))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:24,lg:12},O.default.createElement(k,{label:"Domicilio",hasFeedback:!0},l("domicilio",{rules:[{max:100,message:"El domicilio solo debe tener 100 caracteres"}],initialValue:o.detalles?o.detalles.domicilio_only:""})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Domicilio de la empresa"})))),O.default.createElement(p.default,{xs:24,lg:12},O.default.createElement(k,{label:"Colonia",hasFeedback:!0},l("colonia",{rules:[{max:100,message:"La colonia solo debe tener 100 caracteres"}],initialValue:o.detalles?o.detalles.colonia:""})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Colonia de la empresa"}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{lg:12,xs:24},O.default.createElement(k,{label:"Codigo postal",hasFeedback:!0},l("codigo_postal",{rules:[{len:5,message:"El codigo postal solo debe tener 5 caracteres"}],initialValue:o.detalles?o.detalles.codigo_postal:""})(O.default.createElement(_.default,{placeholder:"Codigo postal de la empresa"})))),O.default.createElement(p.default,{lg:12,xs:24},O.default.createElement(k,{label:"Fax",hasFeedback:!0},l("fax",{rules:[{max:15,message:"El fax debe tener como maximo 15 caracteres"}],initialValue:o.detalles?o.detalles.fax:""})(O.default.createElement(_.default,{placeholder:"Fax de la empresa"})))),O.default.createElement(p.default,{lg:24,xs:24},O.default.createElement(k,{label:"Misión de la empresa",hasFeedback:!0},l("mision",{rules:[{max:600,message:"La misión debe tener como maximo 600 caracteres"}],initialValue:o.detalles?o.detalles.mision:""})(O.default.createElement(_.default.TextArea,{className:"textarea",placeholder:"Misión de la empresa",autosize:{minRows:2,maxRows:6}}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:6,lg:6},O.default.createElement(k,{label:"Puesto del titular",hasFeedback:!0},l("puesto_titular",{rules:[{required:!0,message:"El titular debe tener un puesto."},{max:100,message:"El puesto del titular no debe pasar de los 100 caracteres."}],initialValue:o.titular?o.titular.puesto:""})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Puesto del titular"})))),O.default.createElement(p.default,{xs:18,lg:18},O.default.createElement(k,{label:"Nombre completo del titular",hasFeedback:!0},l("nombre_titular",{rules:[{required:!0,message:"El titular debe tener un nombre."},{max:100,message:"El nombre del titular no debe pasar de los 100 caracteres."}],initialValue:o.titular?o.titular.nombre:""})(O.default.createElement(_.default,{type:"mayuscula",addonBefore:i,placeholder:"Nombre completo del titular"}))))),O.default.createElement(f.default,{gutter:16},O.default.createElement(p.default,{xs:6,lg:6},O.default.createElement(k,{label:"Puesto del que firma el acuerdo",hasFeedback:!0},l("puesto_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un puesto."},{max:100,message:"El puesto del que firma el acuerdo no debe pasar de los 100 caracteres."}],initialValue:o.representante_legal?o.representante_legal.puesto:""})(O.default.createElement(_.default,{type:"mayuscula",placeholder:"Puesto del que firma el acuerdo"})))),O.default.createElement(p.default,{xs:18,lg:18},O.default.createElement(k,{label:"Nombre completo del que firma el acuerdo de colaboración",hasFeedback:!0},l("nombre_firma_acuerdo",{rules:[{required:!0,message:"El que firma el acuerdo debe tener un nombre."},{max:100,message:"El nombre del que firma el acuerdo no debe pasar de los 100 caracteres."}],initialValue:o.representante_legal?o.representante_legal.nombre:""})(O.default.createElement(_.default,{type:"mayuscula",addonBefore:u,placeholder:"Nombre completo del que firma el acuerdo de colaboración"})))))))}),A=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.form.resetFields()},a.handleCreate=function(){var e=a.form,t=a.state.empresa;e.validateFields(function(n,r){n||C.default.put("/api/empresa/"+t.id,{rfc:r.rfc,domicilio:r.domicilio||"",colonia:r.colonia||"",codigo_postal:r.codigo_postal||"",fax:r.fax||"",mision:r.mision||"",id_titular:t.titular.id,titulo_titular:r.titulo_titular,puesto_titular:r.puesto_titular,nombre_titular:""+r.nombre_titular,id_firma_acuerdo:t.representante_legal.id,titulo_firma_acuerdo:r.titulo_firma_acuerdo,puesto_firma_acuerdo:r.puesto_firma_acuerdo,nombre_firma_acuerdo:""+r.nombre_firma_acuerdo}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Empresa actualizada satisfactoriamente"),a.setState({visible:!1}),a.props.onReloadFetch()):d.default.error({title:"Error al actualizar la empresa. Revisar los siguientes campos",content:O.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,empresa:e.empresa},a}return l(t,e),E(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.empresa;this.setState({visible:t,empresa:a})}},{key:"render",value:function(){return console.log("AQUI",this.state.empresa),O.default.createElement("div",null,O.default.createElement(j,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,empresa:this.state.empresa}))}}]),t}(w.Component);t.default=A},64:function(e,t,a){"use strict";function n(){return o.default.get("/api/usuario/isAuth").then(function(e){return e.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAuth=void 0;var r=a(9),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.getIsAuth=n},643:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(119),a(120)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(26),a(27)),v=n(b),h=(a(24),a(25)),_=n(h),y=(a(30),a(18)),g=n(y),E=(a(55),a(56)),w=n(E),O=(a(16),a(17)),S=n(O),C=(a(15),a(21)),k=n(C),x=(a(19),a(20)),j=n(x),A=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=a(0),R=n(P);a(6);a(44);var I=a(9),M=n(I),T=j.default.Item,D=(k.default.Group,S.default.Option),F=w.default.TabPane,Y=j.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.carrera,l=e.alumnos_rechazados,i=e.addToPeriodo,u=r.getFieldDecorator,c=u("id_tipo_seguro",{})(R.default.createElement(S.default,{style:{width:80}},R.default.createElement(D,{value:"1"},"IMMS."),R.default.createElement(D,{value:"2"},"ISSTE"),R.default.createElement(D,{value:"3"},"METLIFE"),R.default.createElement(D,{value:"4"},"GNP"),R.default.createElement(D,{value:"5"},"QUÁLITAS"),R.default.createElement(D,{value:"6"},"INBURSA"),R.default.createElement(D,{value:"7"},"OTRO")));return R.default.createElement(d.default,{visible:t,title:"Agregar alumno a la carrera de "+(o?o.nombre:""),okText:"Guardar",onCancel:a,onOk:n,style:{top:10},width:600},R.default.createElement(w.default,{defaultActiveKey:"1"},R.default.createElement(F,{tab:R.default.createElement("span",null,R.default.createElement(g.default,{type:"user-add"}),"Nuevo candidato"),key:"1"},R.default.createElement(j.default,{layout:"vertical"},R.default.createElement(v.default,null,R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(v.default,{gutter:16},R.default.createElement(_.default,{xs:24,lg:12},R.default.createElement(T,{label:"Número de control"},u("no_control",{rules:[{required:!0,message:"El número de control es obligatorio."},{len:8,message:"El numero de control contiene 8 digitos"}]})(R.default.createElement(k.default,{type:"number",style:{width:"100%"},placeholder:"Ingrese el número de control del alumno"})))),R.default.createElement(_.default,{xs:24,lg:12},R.default.createElement(T,{label:"Plan de estudios"},u("plan_estudios",{rules:[{required:!0,message:"El plan de estudio es obligatorio."}]})(R.default.createElement(S.default,null,R.default.createElement(D,{key:"2009-2010",value:"2009-2010"},"2009-2010"),R.default.createElement(D,{key:"2015-2016",value:"2015-2016"},"2015-2016"))))))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Nombre"},u("nombre",{rules:[{required:!0,message:"El alumno debe tener un nombre"}]})(R.default.createElement(k.default,{type:"mayuscula",placeholder:"Ingrese el nombre(s) del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Apellido paterno"},u("ap_paterno",{rules:[{required:!0,message:"El alumno debe tener un apellido paterno."}]})(R.default.createElement(k.default,{type:"mayuscula",placeholder:"Ingrese el apellido paterno del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Apellido materno"},u("ap_materno",{rules:[{required:!0,message:"El alumno debe tener un apellido materno"}]})(R.default.createElement(k.default,{type:"mayuscula",placeholder:"Ingrese el apellido materno del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(v.default,{gutter:16},R.default.createElement(_.default,{xs:24,lg:12},R.default.createElement(T,{label:"Sexo"},u("sexo",{rules:[{required:!0,message:"El alumno debe indicar su sexo."}]})(R.default.createElement(S.default,{placeholder:"Seleccione una opción"},R.default.createElement(D,{key:"H",value:"H"},"Hombre"),R.default.createElement(D,{key:"M",value:"M"},"Mujer"))))),R.default.createElement(_.default,{xs:24,lg:12},R.default.createElement(T,{label:"Seguridad social"},u("no_seguro",{rules:[{required:!0,message:"Debe indicar el número de seguro del alumno."}]})(R.default.createElement(k.default,{addonBefore:c,style:{width:"100%"},placeholder:"Número de seguro"})))))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Ciudad"},u("ciudad",{rules:[{required:!0,message:"El alumno debe indicar su ciudad."}]})(R.default.createElement(k.default,{type:"mayuscula",placeholder:"Ingrese la ciudad del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Domicilio"},u("domicilio",{rules:[{required:!0,message:"El alumno debe indicar su domicilio."}]})(R.default.createElement(k.default,{type:"mayuscula",placeholder:"Ingrese el domicilio del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Correo electronico"},u("correo",{rules:[{type:"email",message:"El correo no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(R.default.createElement(k.default,{prefix:R.default.createElement(g.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese el correo electronico del alumno"})))),R.default.createElement(_.default,{xs:24,lg:24},R.default.createElement(T,{label:"Télefono (no celular)"},u("numero_celular",{rules:[{required:!0,message:"Ingrese el número de telefono celular del alumno."}]})(R.default.createElement(k.default,{prefix:R.default.createElement(g.default,{type:"phone",style:{fontSize:13}}),placeholder:"Ingrese el número de telefono celular del alumno"}))))))),R.default.createElement(F,{tab:R.default.createElement("span",null,R.default.createElement(g.default,{type:"usergroup-delete"}),"Candidato a residente rechazado"),key:"2"},R.default.createElement(f.default,{style:{marginLeft:10}},l.map(function(e,t){return R.default.createElement(f.default.Item,{dot:R.default.createElement(g.default,{type:"exclamation-circle-o",style:{fontSize:"16px"}}),color:"red",key:t},R.default.createElement("p",null,e.no_control+" - "+e.nombre+" "+e.ap_paterno+" "+e.ap_materno),R.default.createElement(p.default,{onClick:function(){return i(e.id)}},"Agregar al periodo"))})))))}),N=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.addToPeriodo=function(e){M.default.put("/api/alumno/retry_anteproyecto",{id_alumno:e,id_periodo:a.state.id_periodo}).then(function(e){200===e.status?(u.default.success("Alumno agregado al periodo !"),a.setState({visible:!1})):d.default.error({title:"Error al actualizar al alumno. Revisar los siguientes campos",content:R.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||M.default.post("/api/alumno",{no_control:n.no_control,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,id_carrera:a.state.carrera.id,sexo:n.sexo,correo:n.correo,id_periodo:a.state.id_periodo,domicilio:n.domicilio,ciudad:n.ciudad,numero_celular:n.numero_celular,no_seguro:n.no_seguro,id_tipo_seguro:n.id_tipo_seguro,plan_estudios:n.plan_estudios}).then(function(t){200===t.status?(u.default.success("Alumno agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar al alumno. Revisar los siguientes campos",content:R.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,carrera:e.carrera,id_periodo:e.id_periodo,alumnos_rechazados:e.alumnos_rechazados_por_carrera},a}return l(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.carrera;this.setState({visible:t,carrera:a,id_periodo:e.id_periodo,alumnos_rechazados:e.alumnos_rechazados_por_carrera})}},{key:"render",value:function(){return R.default.createElement("div",null,R.default.createElement(Y,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,carrera:this.state.carrera,addToPeriodo:this.addToPeriodo,alumnos_rechazados:this.state.alumnos_rechazados}))}}]),t}(P.Component);t.default=N},646:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(a(26),a(27)),c=n(u),d=(a(24),a(25)),s=n(d),f=(a(12),a(13)),m=n(f),p=(a(87),a(88)),b=n(p),v=(a(16),a(17)),h=n(v),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=a(0),g=n(y),E=a(9),w=n(E),O=a(1),S=(n(O),a(79)),C=(n(S),a(34)),k=n(C),x=a(1281),j=n(x),A=a(1283),P=n(A),R=h.default.Option,I=h.default.OptGroup,M=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){w.default.put("/api/carrera/docente_habilitado",{id_docente:a.state.usuario.id_docente,id_periodo:e}).then(function(t){200===t.status&&!0===t.data.habilitado?"docente"===t.data.rol||"jefe_proyecto"===t.data.rol?w.default.get("/api/periodo/"+e).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(e,t){return{key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,anteproyecto:e.path_file_anteproyecto,revision:e.revisiones.find(function(e){return e.id_docente===a.state.usuario.id_docente})}});a.setState({renderRevision:g.default.createElement(j.default,{periodo:e.data,usuario:a.state.usuario,anteproyectos:t})})}}):"presidente_academia"===t.data.rol&&w.default.get("/api/periodo/"+e).then(function(t){if(200===t.status){var n=t.data.anteproyectos.map(function(e,t){var a=e.revisiones.filter(function(e){return"factible"===e.esFactible}).length,n=Number((100*a/e.revisiones.length).toFixed(1))||0,o=g.default.createElement("span",null,e.revisiones.map(function(e,t){return"factible"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"success",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"corrección"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"processing",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"no_factible"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"error",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):void 0}));return r({key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,asesor_interno:e.asesor_interno,anteproyecto:e.path_file_anteproyecto,revisiones:o,porcentaje_factibilidad:n},"dictamen",e.dictamen)});a.setState({renderRevision:g.default.createElement(P.default,{updatePeriodo:a.updatePeriodo.bind(a),periodo:t.data,usuario:a.state.usuario,anteproyectos:n}),id_periodo:e})}}):m.default.warning("Permiso denegado, solicite permisos al jefe de departamento.")})},a.updatePeriodo=function(){w.default.get("/api/periodo/"+a.state.id_periodo).then(function(e){if(200===e.status){var t=e.data.anteproyectos.map(function(e,t){var a=e.revisiones.filter(function(e){return"factible"===e.esFactible}).length,n=Number((100*a/e.revisiones.length).toFixed(1))||0,o=g.default.createElement("span",null,e.revisiones.map(function(e,t){return"factible"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"success",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"corrección"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"processing",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):"no_factible"===e.esFactible?g.default.createElement("p",{key:t},g.default.createElement(b.default,{status:"error",text:e.docente.titulo+" "+e.docente.nombre+" "+e.docente.ap_paterno+" "+e.docente.ap_materno})):void 0}));return r({key:k.default.v1(),id:e.id,id_alumno:e.id_alumno,dictamen:e.dictamen,id_asesor_externo:e.id_asesor_externo,id_periodo:e.id_periodo,nombre:e.nombre,objetivo_general:e.objetivo_general,detalles_alumno:e.alumno,detalles_asesor_externo:e.asesor_externo,asesor_interno:e.asesor_interno,anteproyecto:e.path_file_anteproyecto,revisiones:o,porcentaje_factibilidad:n},"dictamen",e.dictamen)});a.setState({renderRevision:g.default.createElement(P.default,{updatePeriodo:a.updatePeriodo.bind(a),periodo:e.data,usuario:a.state.usuario,anteproyectos:t}),id_periodo:a.state.id_periodo})}})},a.state={usuario:e.usuario,departamento:e.departamento,renderRevision:null,id_periodo:null},a}return i(t,e),_(t,[{key:"render",value:function(){var e=this.state,t=e.departamento,a=e.renderRevision;return g.default.createElement("div",null,g.default.createElement(c.default,{type:"flex"},g.default.createElement(s.default,{xs:24,lg:6},g.default.createElement("p",null,"Seleccione el periodo"),g.default.createElement(h.default,{onChange:this.handleChangePeriodo,style:{width:"100%"}},t.carreras.map(function(e,t){return g.default.createElement(I,{key:t,label:e.nombre},e.periodos.map(function(e,a){return g.default.createElement(R,{key:t+"-"+a,value:""+e.id},e.periodo+" "+e.ciclo)}))})))),a)}}]),t}(y.Component);t.default=M},647:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(137),a(138)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(16),a(17)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(9),E=n(g),w=a(1),O=(n(w),a(79)),S=(n(O),a(34)),C=n(S),k=a(1284),x=n(k),j=v.default.Option,A=v.default.OptGroup,P=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleChangePeriodo=function(e){E.default.get("/api/periodo/"+e+"/proyectos").then(function(e){200===e.status&&a.setState({periodo:e.data})})},a.handleChangeResidente=function(e){a.setState({spin:!0,renderProyecto:null});var t=a.state.usuario;E.default.get("/api/alumno/revision_seguimiento/"+e).then(function(n){200===n.status?a.setState({renderProyecto:y.default.createElement(x.default,{key:C.default.v1(),updateProyecto:a.updateProyecto.bind(a),proyecto:n.data,usuario:t}),id_anteproyecto:e,spin:!1}):p.default.warning("Ops, ocurrio un error interno, favor de reportar al administrador.")})},a.updateProyecto=function(){a.setState({spin:!0,renderProyecto:null});var e=a.state,t=e.usuario,n=e.id_anteproyecto;E.default.get("/api/alumno/revision_seguimiento/"+n).then(function(e){200===e.status?a.setState({renderProyecto:y.default.createElement(x.default,{key:C.default.v1(),updateProyecto:a.updateProyecto.bind(a),proyecto:e.data,usuario:t}),id_anteproyecto:n,spin:!1}):p.default.warning("Ops, ocurrio un error interno, favor de reportar al administrador.")})},a.state={usuario:e.usuario,carreras:e.carreras,renderProyecto:null,periodo:null,id_anteproyecto:null,spin:!1},a}return l(t,e),h(t,[{key:"render",value:function(){var e=this.state,t=e.carreras,a=e.renderProyecto,n=e.periodo,r=e.spin;return y.default.createElement("div",null,y.default.createElement(d.default,{type:"flex",gutter:30},y.default.createElement(f.default,{xs:24,lg:6},y.default.createElement("p",null,"Seleccione el periodo"),y.default.createElement(v.default,{placeholder:"Seleccione un periodo",onChange:this.handleChangePeriodo,style:{width:"100%"}},t.map(function(e,t){return y.default.createElement(A,{key:t,label:e.nombre},e.periodos.map(function(e,t){return y.default.createElement(j,{key:C.default.v1(),value:""+e.id},e.periodo+" "+e.ciclo)}))}))),y.default.createElement(f.default,{xs:24,lg:10},y.default.createElement("p",null,"Seleccione un residente "),y.default.createElement(v.default,{showSearch:!0,placeholder:"Seleccione un residente",onChange:this.handleChangeResidente,optionFilterProp:"children",style:{width:"100%"}},n?n.anteproyectos.map(function(e,t){return y.default.createElement(j,{key:C.default.v1(),value:""+e.id}," "+e.alumno.no_control+" - "+e.alumno.nombre+" "+e.alumno.ap_paterno+" "+e.alumno.ap_materno)}):null))),y.default.createElement(d.default,null,y.default.createElement(f.default,{xs:24,lg:24,style:{textAlign:"center"}},!0===r?y.default.createElement(u.default,{style:{marginTop:20,marginBottom:20},size:"large",tip:"Cargado..."}):null)),a)}}]),t}(_.Component);t.default=P},652:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=n(g),w=v.default.Item,O=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Agregar observación del seguimiento",okText:"Guardar",onCancel:a,onOk:n,width:600},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Descripción de la observación"},o("observacion",{rules:[{required:!0,message:"La observación debe llevar una descripción"},{min:5,message:"El minimo de caracteres es de 5."},{max:500,message:"El mensaje debe tener como maximo 500 caracteres."}]})(y.default.createElement(p.default.TextArea,{style:{width:"100%"},placeholder:"Descripción de la observacion...",rows:4})))))})),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.post("/api/proyecto/seguimiento/observacion",{observacion:n.observacion,id_seguimiento:a.state.id_seguimiento,id_docente:a.state.usuario.id_docente}).then(function(t){200===t.status?(u.default.success("Observación agregada correctamente"),a.setState({visible:!1}),e.resetFields(),a.props.updateSeguimientos(),a.props.updateProyecto()):d.default.error({title:"Error al agregar la observación. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,id_seguimiento:e.id_seguimiento,usuario:e.usuario},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_seguimiento,n=e.usuario;this.setState({visible:t,id_seguimiento:a,usuario:n})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},653:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(137),a(138)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(1311),a(1314)),p=n(m),b=(a(16),a(17)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(9),E=n(g),w=a(34),O=n(w),S=a(1315),C=n(S),k=v.default.Option,x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.componentDidMount=function(){a.getImagen()},a.onChangeResidente=function(e){a.setState({spin:!0,renderProyecto:null}),E.default.get("/api/alumno/proyecto_para_asesor_interno/"+e).then(function(t){200===t.status&&a.setState({renderProyecto:y.default.createElement(C.default,{key:O.default.v1(),updateProyecto:a.updateProyectoResidente.bind(a),proyecto:t.data,usuario:a.state.usuario}),id_proyecto:e,spin:!1})})},a.updateProyectoResidente=function(){a.setState({spin:!0,renderProyecto:null}),E.default.get("/api/alumno/proyecto_para_asesor_interno/"+a.state.id_proyecto).then(function(e){200===e.status&&a.setState({renderProyecto:y.default.createElement(C.default,{key:O.default.v1(),updateProyecto:a.updateProyectoResidente.bind(a),proyecto:e.data,usuario:a.state.usuario}),spin:!1})})},a.getImagen=function(){var e=[];a.state.proyectos.map(function(t){E.default.get("/api/usuario/foto/"+t.anteproyecto.alumno.usuario.id).then(function(n){e.push({key:O.default.v1(),id:t.anteproyecto.alumno.usuario.id,url:n.data}),a.setState({dataFotos:e})})})},a.URLFoto=function(e){var t;return a.state.dataFotos.map(function(a){a.id===e&&(t=a.url)}),t},a.state={proyectos:e.proyectos,usuario:e.usuario,renderProyecto:null,id_proyecto:null,spin:!1,dataFotos:[]},a.getImagen(),a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({proyectos:e.proyectos,usuario:props.usuario,renderProyecto:null,id_proyecto:null,spin:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.proyectos,n=t.renderProyecto,r=t.spin;return y.default.createElement(u.default,null,y.default.createElement(f.default,{xs:24,lg:24},y.default.createElement(v.default,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},placeholder:"Seleccione al residente",onChange:this.onChangeResidente,style:{width:400},size:"large"},a.map(function(t,a){return y.default.createElement(k,{key:a,value:""+t.id},y.default.createElement(p.default,{alt:"logo_tec",style:{textAlign:"center"},src:"data:image/[png|gif|jpg|jpeg]; base64,"+e.URLFoto(t.anteproyecto.alumno.usuario.id)}),t.anteproyecto.alumno.no_control+" - "+t.anteproyecto.alumno.nombre+" "+t.anteproyecto.alumno.ap_paterno+" "+t.anteproyecto.alumno.ap_materno)}))),y.default.createElement(f.default,{xs:24,lg:24,style:{marginTop:25}},y.default.createElement(u.default,null,y.default.createElement(f.default,{xs:24,lg:24,style:{textAlign:"center"}},!0===r?y.default.createElement(d.default,{style:{marginTop:20,marginBottom:20},size:"large",tip:"Cargando..."}):null)),n))}}]),t}(_.Component);t.default=x},654:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(47),a(48)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(16),a(17)),g=n(y),E=(a(15),a(21)),w=n(E),O=(a(19),a(20)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=(a(6),a(9)),A=n(j),P=a(34),R=n(P),I=a(1),M=n(I),T=a(655),D=(n(T),S.default.Item,w.default.Group,g.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.state.ocultarShowObservacion()},a.saveFormRef=function(e){a.form=e},a.onChangeObservacion=function(e,t){A.default.put("/api/proyecto/observacion",{id:e,estado:t}).then(function(e){200===e.status?(_.default.success("Los cambios se han guardado."),a.props.actulizarCantidadObservaciones()):_.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.state={visible:e.visible,tipo:e.tipo,id_tarea:e.id_tarea,dataSource_observaciones:[],actulizarCantidadObservaciones:e.actulizarCantidadObservaciones,disabledEstadoAsesorInterno:e.disabledEstadoAsesorInterno,ocultarShowObservacion:e.ocultarShowObservacion},a}return l(t,e),C(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.visible,n=e.tipo,r=e.id_tarea,o=e.disabledEstadoAsesorInterno,l=e.ocultarShowObservacion;this.setState({visible:a,tipo:n,id_tarea:r,disabledEstadoAsesorInterno:o,ocultarShowObservacion:l}),A.default.get("/api/plan_de_trabajo/"+r+"/"+this.state.tipo+"/get_observaciones").then(function(e){if(200===e.status){var a=e.data.map(function(e){return{key:R.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_creacion:(0,M.default)(e.createdAt).utc().format("LL")}});t.setState({dataSource_observaciones:a})}})}},{key:"render",value:function(){var e=this,t=[{width:140,title:"Estado asesor interno",dataIndex:"estado",key:"estado",render:function(t,a){return x.default.createElement(p.default,{disabled:e.state.disabledEstadoAsesorInterno,onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.estado,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:570,title:"Observación",dataIndex:"observacion",key:"observacion"},{width:120,title:"Estado residente",dataIndex:"estado_alumno",key:"estado_alumno",render:function(e,t){return x.default.createElement(p.default,{disabled:!0,defaultChecked:t.estado_alumno,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:180,title:"Fecha de creación",dataIndex:"fecha_creacion",key:"createdAT"}];return x.default.createElement("div",null,x.default.createElement(u.default,{visible:this.state.visible,title:"Observación  "+this.state.tipo,width:1e3,onCancel:this.handleCancel,footer:[x.default.createElement(f.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},x.default.createElement(S.default,{layout:"vertical"},x.default.createElement(d.default,{dataSource:this.state.dataSource_observaciones,className:"full-width",columns:t}))))}}]),t}(k.Component));t.default=D},655:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(143),a(144)),u=n(i),c=(a(47),a(48)),d=n(c),s=(a(30),a(18)),f=n(s),m=(a(39),a(40)),p=n(m),b=(a(26),a(27)),v=n(b),h=(a(87),a(88)),_=n(h),y=(a(12),a(13)),g=n(y),E=(a(29),a(28)),w=n(E),O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),S=a(0),C=n(S);a(44);var k=a(9),x=n(k),j=a(34),A=n(j),P=a(255),R=n(P),I=a(654),M=n(I),T=(w.default.Group,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.obtenerTareas=function(){x.default.get("/api/revision_semanal/"+a.state.proyecto.id+"/get_tareas_completas").then(function(e){if(200===e.status){var t=e.data.map(function(e){return{key:A.default.v1(),id:e.id,id_subactividad:e.id_subactividad,id_orden:e.id_orden,tarea:e.tarea,horas:e.horas,entregable:e.entregable,fecha_entrega:e.fecha_entrega,estado_revision_plan:e.estado_revision_plan}});a.setState({dataSource_tareas:t})}})},a.visibleAddObservacion=function(){a.setState({visibleAddObservacion:!1})},a.obtenerSubactividades=function(){var e=[],t=[],n=[],r=[];x.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_plan_de_trabajo").then(function(o){200===o.status&&(console.log("plan de trabaj "+JSON.stringify(o.data)),o.data.map(function(o){e.push({key:A.default.v1(),id:o.id,id_proyecto:o.id_proyecto,id_orden:o.id_orden,actividad:o.actividad,objetivo:o.objetivo,entregable:o.entregable}),o.subactividades.map(function(e){t.push({key:A.default.v1(),id:e.id,id_orden:e.id_orden,id_actividad_general:e.id_actividad_general,actividad:e.actividad}),e.tareas.map(function(t){n.push({key:A.default.v1(),id:t.id,id_subactividad:t.id_subactividad,id_orden:t.id_orden,tarea:t.tarea,horas:t.horas,entregable:t.entregable,fecha_entrega:t.fecha_entrega,estado_revision_plan:t.estado_revision_plan}),t.observaciones.map(function(a){r.push({key:A.default.v1(),id:a.id,id_tarea:a.id_tarea,observacion:a.observacion,estado:a.estado,tipo_observacion:a.tipo_observacion,id_subactividad:t.id_subactividad,id_actividad_general:e.id_actividad_general})}),a.setState({dataSource_tareas:n,dataSource_observaciones:r})}),a.setState({dataSource_subactividades:t})}),a.setState({dataSource_actividad_general:e})}))})},a.actulizarCantidadObservaciones=function(){var e=[];a.state.dataSource_tareas.map(function(t){x.default.get("/api/plan_de_trabajo/"+t.id+"/plan_de_trabajo/get_observaciones").then(function(t){200===t.status&&t.data.map(function(t){e.push({key:A.default.v1(),id:t.id,id_tarea:t.id_tarea,observacion:t.observacion,estado:t.estado,tipo_observacion:t.tipo_observacion,id_subactividad:t.tareas.subactividades.id,id_actividad_general:t.tareas.subactividades.actividad_general.id}),a.setState({dataSource_observaciones:e})})})})},a.actulizarCantidadObservacionesAddObservacion=function(){var e=[];x.default.get("/api/plan_de_trabajo/"+a.state.proyecto.id+"/get_plan_de_trabajo").then(function(t){200===t.status&&(console.log("plan de trabaj "+JSON.stringify(t.data)),t.data.map(function(t){t.subactividades.map(function(t){t.tareas.map(function(a){a.observaciones.map(function(n){e.push({key:A.default.v1(),id:n.id,id_tarea:n.id_tarea,observacion:n.observacion,estado:n.estado,tipo_observacion:n.tipo_observacion,id_subactividad:a.id_subactividad,id_actividad_general:t.id_actividad_general})})})})}),a.setState({dataSource_observaciones:e}),a.obtenerTareas())})},a.onInputChange=function(e){a.setState({searchText:e.target.value})},a.showAddObservacion=function(e,t){a.setState({visibleAddObservacion:!0,visibleShowObservacion:!1,id_tarea:e,tipo_observacion:t})},a.showObservacion=function(e,t){a.setState({visibleShowObservacion:!0,visibleAddObservacion:!1,id_tarea:e,tipo_observacion:t})},a.onChangeEstado=function(e,t){t=t?"aprobado":"no_aprobado",x.default.post("/api/plan_de_trabajo/update_estado_tarea",{id_tarea:e,estado:t,tipo_observacion:"plan_de_trabajo"}).then(function(e){200===e.status?g.default.success("Estado actializado"):g.default.error("¡No se puede actualizar el estado! la tarea tiene observaciones pendientes"),a.obtenerTareas(),a.state.dataSource_tareas.filter(function(e){return"aprobado"!=e.estado_revision_plan}).length-1==0&&x.default.post("/api/plan_de_trabajo/notificacion_observaciones_plan",{correo:a.state.proyecto.anteproyecto.alumno.usuario.correo,mensaje:"Para continuar con el proceso de residencia debe descargar el plan de trabjo, recolectar las firmas correspondientes y adjuntar nuvamente el plan de trabjo al sistema",subject:"Estimado residente se le notifica que su plan de trabajo ha sido aprobado en su totalidad"}).then(function(e){200===e.status?g.default.loading("Notificación de aprobación de plan de trabajo realizada al residente..",4.5):Modal.error({title:"Error ",content:C.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){g.default.error(e)}),a.setState({visibleAddObservacion:!1,visibleShowObservacion:!1})}).catch(function(e){g.default.error(e)})},a.expandedRowRenderSubactividades=function(e){var t=a.state.dataSource_subactividades;t=t.filter(function(t){return t.id_actividad_general==e});var n=[{width:80,title:"No. Orden",dataIndex:"id_orden",key:"id_orden"},{title:"Subactividad",dataIndex:"actividad",key:"actividad"},{width:100,title:"Observaciones",dataIndex:"observaciones",render:function(e,t){return a.state.dataSource_observaciones.length>=1?C.default.createElement(v.default,null,C.default.createElement("span",null,C.default.createElement(_.default,{count:a.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.id_subactividad===t.id&&"plan_de_trabajo"===e.tipo_observacion}).length}))):null}}];return C.default.createElement(p.default,{columns:n,dataSource:t,pagination:!1,expandedRowRender:function(e){return a.expandedRowRenderTarea(e.id)}})},a.comprobarEstado=function(e){var t=!1;return"aprobado"===e&&(t=!0),t},a.expandedRowRenderTarea=function(e){var t=a.state.dataSource_tareas;t=a.state.dataSource_tareas.filter(function(t){return t.id_subactividad==e});var n=[{width:80,title:"No. Orden",dataIndex:"id_orden",key:"id_orden"},{width:260,title:"Tarea",dataIndex:"tarea",key:"tarea"},{width:60,title:"Horas",dataIndex:"horas",key:"horas"},{width:260,title:"Entregable",dataIndex:"entregable",key:"entregable"},{width:115,title:"Fecha de entrega",dataIndex:"fecha_entrega",key:"fecha_entrega"},{width:110,title:"Estado",dataIndex:"estado_revision_plan",key:"estado_revision_plan",render:function(e,t){return C.default.createElement(d.default,{onChange:function(e){return a.onChangeEstado(t.id,e)},defaultChecked:a.comprobarEstado(t.estado_revision_plan),checkedChildren:"Aprobada",unCheckedChildren:C.default.createElement(f.default,{type:"cross"})})}},{width:100,title:"operaciones",dataIndex:"operaciones",render:function(e,n){return t.length>=1?C.default.createElement(v.default,null,C.default.createElement("div",null,C.default.createElement(u.default,{title:"¿Seguro de agregar una nueva observación?",onConfirm:function(){return a.showAddObservacion(n.id,"plan_de_trabajo")}},C.default.createElement(w.default,{type:"primary",key:"submit",icon:"plus"},"Observación"))),C.default.createElement("div",null,C.default.createElement("br",null),C.default.createElement("span",null,C.default.createElement(_.default,{count:a.state.dataSource_observaciones.filter(function(e){return console.log(e),!e.estado&&e.id_tarea===n.id&&"plan_de_trabajo"===e.tipo_observacion}).length},C.default.createElement(w.default,{type:"primary",onClick:function(){return a.showObservacion(n.id,"plan_de_trabajo")}},"Ver observaciones"))))):null}}];return C.default.createElement(p.default,{rowClassName:function(e,t){return"revision"===e.estado_revision_plan?"ant-table-content-gris":"aprobado"===e.estado_revision_plan?"ant-table-content-verde":"ant-table-content-rojo"},columns:n,dataSource:t,pagination:!1})},a.state={usuario:e.usuario,proyecto:e.proyecto,visibleRegistrarSubactividad:e.visibleRegistrarSubactividad,actividad_general:null,subactividad:null,visibleRegistrarTarea:e.visibleRegistrarTarea,dataSource_subactividades:[],dataSource_tareas:[],dataSubactividades:e.dataSubactividades,visibleAddObservacion:!1,id_tarea:null,tipo_observacion:null,dataSource_observaciones:[],visibleShowObservacion:!1,dataSource_actividad_general:[]},a}return l(t,e),O(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({visibleShowObservacion:!1,visibleAddObservacion:!1}),this.obtenerSubactividades()}},{key:"componentDidMount",value:function(){this.obtenerSubactividades()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=[{width:80,title:"No. Orden",dataIndex:"id_orden",key:"id_orden"},{width:300,title:"Actividad general",dataIndex:"actividad",key:"actividad"},{width:300,title:"Objetivo",dataIndex:"objetivo",key:"objetivo"},{width:300,title:"Entregable",dataIndex:"entregable",key:"entregable"},{width:100,title:"Observaciones",dataIndex:"observaciones",render:function(t,a){return e.state.dataSource_observaciones.length>=1?C.default.createElement(v.default,null,C.default.createElement("span",null,C.default.createElement(_.default,{count:e.state.dataSource_observaciones.filter(function(e){return!e.estado&&e.id_actividad_general===a.id&&"plan_de_trabajo"===e.tipo_observacion}).length}))):null}}];return C.default.createElement("div",null,C.default.createElement(p.default,{bordered:!0,title:function(){return"Actividades generales del plan de trabajo"},dataSource:this.state.dataSource_actividad_general,className:"full-width",columns:t,expandedRowRender:function(t){return e.expandedRowRenderSubactividades(t.id)},pagination:{pageSize:6}}),C.default.createElement(R.default,{visible:this.state.visibleAddObservacion,actulizarCantidadObservacionesAddObservacion:this.actulizarCantidadObservacionesAddObservacion,tipo:this.state.tipo_observacion,id_tarea:this.state.id_tarea,usuario:this.state.usuario,rutaUpdateObservacion:"/api/proyecto/updateEstadoTareaAddObservacionPlan",ocultarAddObservacion:this.visibleAddObservacion}),C.default.createElement(M.default,{visible:this.state.visibleShowObservacion,actulizarCantidadObservaciones:this.actulizarCantidadObservaciones,tipo:this.state.tipo_observacion,id_tarea:this.state.id_tarea}))}}]),t}(S.Component));t.default=T},665:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(69),a(70)),u=n(i),c=(a(30),a(18)),d=n(c),s=(a(12),a(13)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(9)),E=(n(g),a(1)),w=(n(E),v.default.Item),O=(p.default.TextArea,function(e){function t(){var e,a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},l=a,o(n,l)}return l(t,e),h(t,[{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||f.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||f.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.proyecto;return y.default.createElement(v.default,{onSubmit:this.handleSubmit},y.default.createElement("div",{className:"dropbox"},y.default.createElement(w,{label:""},e("file_plan_trabajo",{valuePropName:"fileList",getValueFromEvent:this.normFile,initialValue:t.filename_plan_trabajo?[{uid:1,name:"plan_de_trabajo.pdf",status:"done",url:"/api/plan_de_trabajo/pdf/"+t.filename_plan_trabajo}]:[]})(y.default.createElement(u.default.Dragger,{name:"filePlanTrabajo",action:"/api/alumno/file_plan_trabajo/"+t.id,beforeUpload:this.beforeUpload},y.default.createElement("p",{className:"ant-upload-drag-icon"},y.default.createElement(d.default,{type:"inbox"})),y.default.createElement("p",{className:"ant-upload-text"},"Da click para seleccionar o arrastra tu archivo .pdf"),y.default.createElement("p",{className:"ant-upload-hint"},"Tu archivo debe pesar menos de 10 MB."))))))}}]),t}(_.Component)),S=v.default.create({mapPropsToFields:function(e){return{props:e}}})(O);t.default=S},666:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(121),a(122)),d=n(c),s=(a(22),a(23)),f=n(s),m=(a(16),a(17)),p=n(m),b=(a(15),a(21)),v=n(b),h=(a(19),a(20)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=(a(6),a(9)),O=n(w),S=_.default.Item,C=(v.default.Group,p.default.Option,_.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return E.default.createElement(f.default,{visible:t,okText:"Guardar",onCancel:a,onOk:n},E.default.createElement(_.default,{layout:"vertical"},E.default.createElement(S,{label:"Numero de control de tu colaborador"},o("numero_control",{rules:[{required:!0,message:"El colaborador debe tener un numero de control"}]})(E.default.createElement(v.default,{type:"number",style:{width:"100%"},placeholder:"Numero de control del colaborador"})))))})),k=function(e,t,a){d.default[e]({message:t,description:a})},x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){if(!t){var r=n.numero_control;O.default.get("/api/alumno/"+r).then(function(t){200===t.status&&O.default.post("/api/colaborador",{id_colaborador:a.state.idnuevo,id_alumno:t.data.id}).then(function(t){console.log(t),200===t.status?(u.default.success("Colaborador agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields(),window.location.reload()):f.default.error({title:"Error al guardar el colaborador. Revisar los siguientes campos",content:E.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.success(e)})}).catch(function(e){k("warning","Error al añadir al colaborador","No se encontro registro de ese numero de control, favor de pasar con el Jefe de division de estudios profesionales para  ver la situacion de tu compañero")})}})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,id_alumno:e.id_alumno,id_alumno1:null},a}return l(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.id_alumno;this.setState({visible:t,idnuevo:a})}},{key:"render",value:function(){return E.default.createElement("div",null,E.default.createElement(C,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,departamento:this.state.departamento}))}}]),t}(g.Component);t.default=x},667:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(26),a(27)),p=n(m),b=(a(24),a(25)),v=n(b),h=(a(30),a(18)),_=n(h),y=(a(55),a(56)),g=n(y),E=(a(16),a(17)),w=n(E),O=(a(15),a(21)),S=n(O),C=(a(19),a(20)),k=n(C),x=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=a(0),A=n(j);a(6);a(44);var P=a(9),R=n(P),I=(a(57),k.default.Item),M=(S.default.Group,w.default.Option),T=g.default.TabPane,D=k.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.datosAlumno,l=e.cerrar,i=r.getFieldDecorator,u=i("id_tipo_seguro",{})(A.default.createElement(w.default,{style:{width:80}},A.default.createElement(M,{value:"1"},"IMMS."),A.default.createElement(M,{value:"2"},"ISSTE"),A.default.createElement(M,{value:"3"},"METLIFE"),A.default.createElement(M,{value:"4"},"GNP"),A.default.createElement(M,{value:"5"},"QUÁLITAS"),A.default.createElement(M,{value:"6"},"INBURSA"),A.default.createElement(M,{value:"7"},"OTRO")));return A.default.createElement(d.default,{visible:t,title:"Datos del alumno ",okText:"Guardar",onCancel:a,onOk:n,style:{top:10},width:600},A.default.createElement(g.default,{defaultActiveKey:"1"},A.default.createElement(T,{tab:A.default.createElement("span",null,A.default.createElement(_.default,{type:"user-add"}),"candidato"),key:"1"},A.default.createElement(k.default,{layout:"vertical"},A.default.createElement(p.default,null,A.default.createElement(v.default,{xs:24,lg:24},A.default.createElement(p.default,{gutter:16},A.default.createElement(v.default,{xs:24,lg:12},A.default.createElement(I,{label:"Número de control"},i("no_control",{rules:[{required:!0,message:"El número de control es obligatorio."},{len:8,message:"El numero de control contiene 8 digitos"}],initialValue:o?o.no_control:""})(A.default.createElement(S.default,{type:"number",disabled:!0,style:{width:"100%"},placeholder:"Ingrese el número de control del alumno"})))),A.default.createElement(v.default,{xs:24,lg:12},A.default.createElement(I,{label:"Plan de estudios"},i("plan_estudios",{rules:[{required:!0,message:"El plan de estudio es obligatorio."}]})(A.default.createElement(w.default,null,A.default.createElement(M,{key:"2009-2010",value:"2009-2010"},"2009-2010"),A.default.createElement(M,{key:"2015-2016",value:"2015-2016"},"2015-2016"))))))),A.default.createElement(v.default,{xs:24,lg:24},A.default.createElement(I,{label:"Nombre"},i("nombre",{rules:[{required:!0,message:"El alumno debe tener un nombre"}],initialValue:o?o.nombre:""})(A.default.createElement(S.default,{type:"mayuscula",placeholder:"Ingrese el nombre(s) del alumno"})))),A.default.createElement(v.default,{xs:24,lg:24},A.default.createElement(I,{label:"Apellido paterno"},i("ap_paterno",{rules:[{required:!0,message:"El alumno debe tener un apellido paterno."}],initialValue:o?o.ap_paterno:""})(A.default.createElement(S.default,{type:"mayuscula",placeholder:"Ingrese el apellido paterno del alumno"})))),A.default.createElement(v.default,{xs:24,lg:24},A.default.createElement(I,{label:"Apellido materno"},i("ap_materno",{rules:[{required:!0,message:"El alumno debe tener un apellido materno"}],initialValue:o?o.ap_materno:""})(A.default.createElement(S.default,{type:"mayuscula",placeholder:"Ingrese el apellido materno del alumno"})))),A.default.createElement(v.default,{xs:24,lg:24},A.default.createElement(p.default,{gutter:16},A.default.createElement(v.default,{xs:24,lg:12},A.default.createElement(I,{label:"Sexo"},i("sexo",{rules:[{required:!0,message:"El alumno debe indicar su sexo."}]})(A.default.createElement(w.default,{placeholder:"Seleccione una opción"},A.default.createElement(M,{key:"H",value:"H"},"Hombre"),A.default.createElement(M,{key:"M",value:"M"},"Mujer"))))),A.default.createElement(v.default,{xs:24,lg:12},A.default.createElement(I,{label:"Seguridad social"},i("no_seguro",{rules:[{required:!0,message:"Debe indicar el número de seguro del alumno."}]})(A.default.createElement(S.default,{addonBefore:u,style:{width:"100%"},placeholder:"Número de seguro"})))))),A.default.createElement(v.default,{xs:24,lg:24},A.default.createElement(I,{label:"Ciudad"},i("ciudad",{rules:[{required:!0,message:"El alumno debe indicar su ciudad."}]})(A.default.createElement(S.default,{type:"mayuscula",placeholder:"Ingrese la ciudad del alumno"})))),A.default.createElement(v.default,{xs:24,lg:24},A.default.createElement(I,{label:"Domicilio"},i("domicilio",{rules:[{required:!0,message:"El alumno debe indicar su domicilio."}]})(A.default.createElement(S.default,{type:"mayuscula",placeholder:"Ingrese el domicilio del alumno"})))),A.default.createElement(v.default,{xs:24,lg:24},A.default.createElement(I,{label:"Télefono (no celular)"},i("numero_celular",{rules:[{required:!0,message:"Ingrese el número de telefono celular del alumno."}]})(A.default.createElement(S.default,{prefix:A.default.createElement(_.default,{type:"phone",style:{fontSize:13}}),placeholder:"Ingrese el número de telefono celular del alumno"})))))),"//"),A.default.createElement(T,{tab:A.default.createElement("span",null,A.default.createElement(_.default,{type:"logout"}),"Salir"),key:"2"},A.default.createElement(f.default,{type:"danger",onClick:function(){return l()}},"Cerrar Sesion"))))}),F=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.cerrar=function(){a.setState({visible:!1}),R.default.get("/api/usuario/logout").then(function(e){200==e.status&&window.location.reload()})},a.handleCancel=function(){a.setState({visible:!0}),u.default.error("primero debes completar tu informacion para poder seguir")},a.addToPeriodo=function(e){R.default.put("/api/alumno/retry_anteproyecto",{id_alumno:e,id_periodo:a.state.id_periodo}).then(function(e){200===e.status?(u.default.success("Alumno agregado al periodo !"),a.setState({visible:!1})):d.default.error({title:"Error al actualizar al alumno. Revisar los siguientes campos",content:A.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||R.default.put("/api/alumno",{no_control:n.no_control,nombre:n.nombre,ap_paterno:n.ap_paterno,ap_materno:n.ap_materno,sexo:n.sexo,domicilio:n.domicilio,ciudad:n.ciudad,numero_celular:n.numero_celular,no_seguro:n.no_seguro,id_tipo_seguro:n.id_tipo_seguro,plan_estudios:n.plan_estudios}).then(function(t){200===t.status?(u.default.success("Alumno agregado satisfactoriamente"),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al guardar al alumno. Revisar los siguientes campos",content:A.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,datosAlumno:e.datosAlumno},a}return l(t,e),x(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.datosAlumno;this.setState({visible:t,datosAlumno:a})}},{key:"render",value:function(){return A.default.createElement("div",null,A.default.createElement(D,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,datosAlumno:this.state.datosAlumno,cerrar:this.cerrar}))}}]),t}(j.Component);t.default=F},668:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(78),a(68)),u=n(i),c=(a(47),a(48)),d=n(c),s=(a(30),a(18)),f=n(s),m=(a(29),a(28)),p=n(m),b=(a(24),a(25)),v=n(b),h=(a(62),a(63)),_=n(h),y=(a(69),a(70)),g=n(y),E=(a(26),a(27)),w=n(E),O=(a(15),a(21)),S=n(O),C=(a(12),a(13)),k=n(C),x=(a(55),a(56)),j=n(x),A=(a(19),a(20)),P=n(A),R=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=a(0),M=n(I),T=a(9),D=n(T),F=a(1),Y=(n(F),a(34)),N=n(Y),z=a(1346),G=n(z),L=a(1347),q=n(L),B=(P.default.Item,j.default.TabPane,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showEvaluacionAsesorExterno=function(e){"2009-2010"===e.plan_estudios?D.default.get("/api/proyecto/evaluacionAnexoIII/criterios/asesor_externo").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visibleEvaluacionAsesorExterno:!0}):k.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")}):"2015-2016"===e.plan_estudios&&D.default.get("/api/proyecto/evaluacionAnexoXXX/criterios/asesor_externo").then(function(e){200===e.status?a.setState({criterios_evaluacion:e.data,visibleEvaluacionAsesorExterno:!0}):k.default.warn("Error al realizar petición de criterios de evaluación, favor de reportar al administrador.")})},a.autorizarCartaDeLiberacionAsesorExterno=function(e,t){D.default.put("/api/proyecto/autorizar_carta_liberacion/asesor_externo",{id_proyecto:t,autorizar:e}).then(function(e){200===e.status?k.default.success("Se ha actualizado la autorización de la carta de liberación."):k.default.warn("Error al autorizar la carta de liberación consultar al administrador.")})},a.updateProyecto=function(){a.props.updateProyecto()},a.state={usuario:e.usuario,proyecto:e.proyecto,renderSeguimiento:null,criterios_evaluacion:null,visibleEvaluacionAsesorExterno:!1},a}return l(t,e),R(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({usuario:e.usuario,proyecto:e.proyecto,renderSeguimiento:null,criterios_evaluacion:null,visibleEvaluacionAsesorExterno:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.criterios_evaluacion,n=t.visibleEvaluacionAsesorExterno,r=t.proyecto;t.usuario,t.renderSeguimiento;return M.default.createElement("div",null,M.default.createElement("h2",null,"Proyecto de residencia"),M.default.createElement("p",{style:{marginTop:20}},"Nombre: "),M.default.createElement(S.default,{style:{marginTop:5},value:""+r.anteproyecto.nombre,readOnly:!0}),M.default.createElement("p",{style:{marginTop:20}},"Objetivo general: "),M.default.createElement(S.default,{style:{marginTop:5},value:""+r.anteproyecto.objetivo_general,readOnly:!0}),"2015-2016"===r.anteproyecto.alumno.plan_estudios&&M.default.createElement(w.default,{gutter:16},r.seguimientos_proyecto.map(function(e,t){return M.default.createElement(q.default,{key:N.default.v4(),proyecto:r,seguimiento:e,numero:t})})),M.default.createElement("h2",{style:{marginTop:20},className:"border-top"},"Seguimiento final"),M.default.createElement(w.default,{gutter:20},M.default.createElement(v.default,{xs:24,lg:24,style:{marginTop:20,marginBottom:30}},r.url_informe_tecnico?M.default.createElement("div",null,M.default.createElement("p",null,"Link del informe técnico: "),M.default.createElement(g.default,{defaultFileList:[{uid:-2,name:"informe_tecnico",status:"done",url:r.url_informe_tecnico}]})):M.default.createElement(_.default,{message:"El alumno no ha subido su informe técnico",type:"warning",showIcon:!0})),M.default.createElement(v.default,{xs:24,lg:24},r.url_informe_tecnico?M.default.createElement("div",null,M.default.createElement(p.default,{style:{marginBottom:30},onClick:function(){return e.showEvaluacionAsesorExterno(r.anteproyecto.alumno)},icon:"bars",type:"primary"},"Realizar evaluación"),M.default.createElement("h4",{style:{marginBottom:10}},"Autorizar carta de liberación"),M.default.createElement(u.default,{title:null===r.id_evaluacion_asesor_externo?"Antes de autorizar la carta de liberación debe realizar la evaluación.":""},M.default.createElement(d.default,{disabled:null===r.id_evaluacion_asesor_externo,defaultChecked:r.autorizar_carta_liberacion_asesor_externo,checkedChildren:"Autorizado",onChange:function(t){return e.autorizarCartaDeLiberacionAsesorExterno(t,r.id)},unCheckedChildren:M.default.createElement(f.default,{type:"cross"})}))):M.default.createElement(_.default,{message:"El alumno debe subir su informe técnico para continuar con el proceso de evaluación",type:"warning",showIcon:!0}))),M.default.createElement(G.default,{updateProyecto:this.updateProyecto.bind(this),proyecto:r,visible:n,criterios_evaluacion:a}))}}]),t}(I.Component));t.default=B},669:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(26),a(27)),d=n(c),s=(a(24),a(25)),f=n(s),m=(a(475),a(242)),p=(n(m),a(30),a(18)),b=n(p),v=(a(12),a(13)),h=n(v),_=(a(55),a(56)),y=n(_),g=(a(16),a(17)),E=n(g),w=(a(15),a(21)),O=n(w),S=(a(19),a(20)),C=n(S),k=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),x=a(0),j=n(x),A=(a(6),a(9)),P=n(A),R=a(1),I=(n(R),a(670)),M=n(I),T=C.default.Item,D=(O.default.Group,E.default.Option,y.default.TabPane,C.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=(e.carrera,e.alumnos_rechazados,e.addToPeriodo,r.getFieldDecorator);return j.default.createElement(u.default,{visible:t,title:"Registrar actividad general",okText:"Guardar",onCancel:a,onOk:n,width:600,maskClosable:!1,centered:!0},j.default.createElement(C.default,{layout:"vertical"},j.default.createElement(d.default,null,j.default.createElement(f.default,{span:20},j.default.createElement(T,{label:"Actividad general"},o("actividad",{rules:[{required:!0,message:"Actividad principal es obligatoria."}]})(j.default.createElement(O.default,{prefix:j.default.createElement(b.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Actividad general"})))),j.default.createElement(f.default,{span:20},j.default.createElement(T,{label:"Objetivo"},o("objetivo",{rules:[{required:!0,message:"Objetivo es obligatorio."}]})(j.default.createElement(O.default,{prefix:j.default.createElement(b.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Objetivo"})))),j.default.createElement(f.default,{span:20},j.default.createElement(T,{label:"Entregable"},o("entregable",{rules:[{required:!0,message:"Entregable es obligatorio."}]})(j.default.createElement(O.default,{prefix:j.default.createElement(b.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Entregable"})))))))})),F=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.showAddSubactividad=function(){a.setState({visibleRegistrarSubactividad:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible:!1})},a.handleCreate=function(){var e=a.state.proyectoActividadGeneral,t=a.form;t.validateFields(function(n,r){n||P.default.post("/api/plan_de_trabajo/actividad_general",{id_proyecto:e.id,actividad:r.actividad,objetivo:r.objetivo,entregable:r.entregable}).then(function(e){200===e.status?(h.default.success("Actividad general registrada satisfactoriamente"),a.setState({visible:!1}),t.resetFields(),a.showAddSubactividad()):u.default.error({title:"Error al registrar actividad general. Revisar los siguientes campos",content:j.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){h.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,proyeproyectoActividadGeneral:e.proyectoActividadGeneral,visibleRegistrarSubactividad:e.visibleRegistrarSubactividad,obtenerSubactividades:e.obtenerSubactividades},a}return l(t,e),k(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.proyectoActividadGeneral,n=e.visibleRegistrarSubactividad;this.setState({visible:t,proyectoActividadGeneral:a,visibleRegistrarSubactividad:n})}},{key:"render",value:function(){var e=this.state,t=e.visibleRegistrarSubactividad,a=e.proyectoActividadGeneral;return j.default.createElement("div",null,j.default.createElement(D,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}),j.default.createElement(M.default,{visible1:t,obtenerSubactividades:this.state.obtenerSubactividades,proyecto:a}))}}]),t}(x.Component);t.default=F},670:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(28)),u=n(i),c=(a(85),a(86)),d=n(c),s=(a(78),a(68)),f=n(s),m=(a(258),a(259)),p=n(m),b=(a(22),a(23)),v=n(b),h=(a(26),a(27)),_=n(h),y=(a(24),a(25)),g=n(y),E=(a(30),a(18)),w=n(E),O=(a(12),a(13)),S=n(O),C=(a(55),a(56)),k=n(C),x=(a(16),a(17)),j=n(x),A=(a(15),a(21)),P=n(A),R=(a(19),a(20)),I=n(R),M=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),T=a(0),D=n(T),F=(a(6),a(9)),Y=n(F),N=a(1),z=(n(N),a(260)),G=(n(z),I.default.Item),L=(P.default.Group,j.default.Option,k.default.TabPane,I.default.create()(function(e){var t=e.visible1,a=e.onCancel,n=e.onCreate,r=e.form,o=(e.carrera,e.alumnos_rechazados,e.addToPeriodo,r.getFieldDecorator);return D.default.createElement(v.default,{visible:t,title:"Registrar subactividad",okText:"Guardar",onCancel:a,onOk:n,width:600,maskClosable:!1,centered:!0},D.default.createElement(I.default,{layout:"vertical"},D.default.createElement(_.default,null,D.default.createElement(g.default,{span:20},D.default.createElement(G,{label:"Subactividad"},o("subactividad",{rules:[{required:!0,message:"Subactividad es obligatoria."}]})(D.default.createElement(P.default,{prefix:D.default.createElement(w.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Subactividad"})))))))})),q=I.default.create()(function(e){function t(e){console.log("changed",e)}var a=e.visibleTarea,n=e.onCancel,r=e.onCreate,o=e.form,l=e.nuevaSubactividad,i=o.getFieldDecorator;return D.default.createElement(v.default,{visible:a,title:"Registrar tarea",okText:"Guardar",onCancel:n,onOk:r,width:600,maskClosable:!1,centered:!0},D.default.createElement(I.default,{layout:"vertical"},D.default.createElement(_.default,null,D.default.createElement(g.default,{span:20},D.default.createElement(G,{label:"Tarea"},i("tarea",{rules:[{required:!0,message:"Tarea es obligatoria.."},{min:5,message:"El minimo de caracteres es 5."},{max:500,message:"El maximo de caracteres es 500."}]})(D.default.createElement(P.default,{prefix:D.default.createElement(w.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Tarea"})))),D.default.createElement(g.default,{span:20},D.default.createElement(G,{label:"Horas"},i("horas",{rules:[{required:!0,message:"Horas es obligatoria.."}],InitialValue:0,valuePropName:"option"})(D.default.createElement(p.default,{min:1,max:60,defaultValue:1,onChange:t})))),D.default.createElement(g.default,{span:20},D.default.createElement(G,{label:"Entregable"},i("entregable",{rules:[{required:!0,message:"Entregable es obligatoria.."},{min:5,message:"El minimo de caracteres es 5."},{max:400,message:"El maximo de caracteres es 400."}]})(D.default.createElement(P.default,{prefix:D.default.createElement(w.default,{type:"laptop",style:{fontSize:12}}),placeholder:"Entregable"})))),D.default.createElement(g.default,{span:20},D.default.createElement(G,{label:D.default.createElement("span",null,"Fecha de entrega ",D.default.createElement(f.default,{title:"La fecha en la que se entregará la evidencia"},D.default.createElement(w.default,{type:"question-circle-o"})))},i("fecha_entrega",{rules:[{required:!0,message:"La fecha de asesoría es obligatoria."}]})(D.default.createElement(d.default,{format:"ll"})))),D.default.createElement(g.default,{span:20},D.default.createElement(u.default,{type:"primary",onClick:l},"Nueva subactividad")))))}),B=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible1:!0})},a.showAddTarea=function(){a.setState({visibleTarea:!0})},a.handleCancel=function(){a.form.resetFields(),a.setState({visible1:!1,visibleTarea:!1})},a.handleCancelTarea=function(){a.form.resetFields(),a.setState({visibleTarea:!1,visible1:!1})},a.handleCreate=function(){var e=a.state.proyecto,t=a.form;t.validateFields(function(n,r){if(!n){var o,l;void 0===e.id?(o=e,l="agregar"):(o=e.id,l="nueva"),Y.default.post("/api/plan_de_trabajo/addSubactividad",{id_proyecto:o,actividad:r.subactividad,tipo:l}).then(function(e){200===e.status?(S.default.success("Subactividad registrada satisfactoriamente"),a.setState({visible1:!1}),a.showAddTarea(),t.resetFields()):v.default.error({title:"Error al registrar la subactividad. Revisar los siguientes campos",content:D.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){S.default.error(e)})}})},a.handleCreateTarea=function(){var e=a.state.proyecto,t=a.formTarea;t.validateFields(function(n,r){if(!n){var o,l;void 0===e.id?(o=e,l="agregar"):(o=e.id,l="nueva"),console.log("Tarea "+r.tarea+r.horas,r.entregable+r.fecha_entrega),Y.default.post("/api/plan_de_trabajo/addTarea",{id_proyecto:o,tipo:l,tarea:r.tarea,horas:r.horas,entregable:r.entregable,fecha_entrega:r.fecha_entrega}).then(function(e){200===e.status?(S.default.success("Tarea registrada satisfactoriamente"),t.resetFields(),a.props.obtenerSubactividades()):v.default.error({title:"Error al registrar la tarea. Revisar los siguientes campos",content:D.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){S.default.error(e)})}})},a.saveFormRef=function(e){a.form=e},a.saveFormRefTarea=function(e){a.formTarea=e},a.nuevaSubactividad=function(){a.setState({visible1:!0,visibleTarea:!1})},a.state={visible1:e.visible1,proyecto:e.proyecto,visibleRegistrarTarea:e.visibleRegistrarTarea,visibleTarea:!1,obtenerSubactividades:e.obtenerSubactividades},a}return l(t,e),M(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible1,a=e.proyecto,n=e.visibleRegistrarTarea;this.setState({visible1:t,proyecto:a,visibleRegistrarTarea:n})}},{key:"render",value:function(){var e=this.state;e.visibleRegistrarTarea,e.proyecto;return D.default.createElement("div",null,D.default.createElement(L,{ref:this.saveFormRef,visible1:this.state.visible1,onCancel:this.handleCancel,onCreate:this.handleCreate}),D.default.createElement(q,{ref:this.saveFormRefTarea,visibleTarea:this.state.visibleTarea,onCancel:this.handleCancelTarea,onCreate:this.handleCreateTarea,nuevaSubactividad:this.nuevaSubactividad}))}}]),t}(T.Component);t.default=B},671:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(69),a(70)),u=n(i),c=(a(30),a(18)),d=n(c),s=(a(22),a(23)),f=n(s),m=(a(12),a(13)),p=n(m),b=(a(15),a(21)),v=n(b),h=(a(19),a(20)),_=n(h),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=a(0),E=n(g),w=(a(6),a(9)),O=n(w),S=a(1),C=(n(S),_.default.Item),k=(v.default.TextArea,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.onChange=function(){a.state.showEvidencia()},a.state={showEvidencia:e.showEvidencia,ruta:e.ruta,disabledAddEvidencia:e.disabledAddEvidencia},a}return l(t,e),y(t,[{key:"beforeUpload",value:function(e){var t="application/pdf"===e.type;t||p.default.error("El archivo debe ser PDF!");var a=e.size/1024/1024<10;return a||p.default.error("El archivo debe tener un tamaño menor de 10 MB."),t&&a}},{key:"afterUpload",value:function(){alert("ruta "+this.state.ruta),O.default.get(this.state.ruta).then(function(e){return e.data})}},{key:"dummyRequest",value:function(e){alert("ruta"+e),O.default.post(e,{}).then(function(e){200===e.status?p.default.success("Actividad general actualizada satisfactoriamente"):f.default.error({title:"Error al modificar. Revisar los siguientes campos",content:E.default.createElement("div",null,e.data.errores),onOk:function(){}})}).catch(function(e){p.default.error(e)})}},{key:"render",value:function(){var e=this,t=this.props.ruta;return E.default.createElement(_.default,{onSubmit:this.handleSubmit},E.default.createElement(C,{label:""},E.default.createElement(u.default.Dragger,{name:"fileEvidencias",action:t,accept:".pdf",beforeUpload:this.beforeUpload,disabled:"aprobado"==this.state.disabledAddEvidencia,onChange:function(){return e.onChange()}},E.default.createElement(d.default,{type:"inbox",style:{fontSize:"50px",color:"#08c"}}),E.default.createElement("div",{className:"ant-upload-hint"},"Debe pesar menos de 10 MB."))))}}]),t}(g.Component)),x=_.default.create({mapPropsToFields:function(e){return{props:e}}})(k);t.default=x},672:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(22),a(23)),u=n(i),c=(a(39),a(40)),d=n(c),s=(a(29),a(28)),f=n(s),m=(a(47),a(48)),p=n(m),b=(a(30),a(18)),v=n(b),h=(a(12),a(13)),_=n(h),y=(a(16),a(17)),g=n(y),E=(a(15),a(21)),w=n(E),O=(a(19),a(20)),S=n(O),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=a(0),x=n(k),j=(a(6),a(9)),A=n(j),P=a(34),R=n(P),I=a(1),M=n(I),T=(S.default.Item,w.default.Group,g.default.Option,function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1}),a.state.ocultarShowObservacion()},a.saveFormRef=function(e){a.form=e},a.onChangeObservacion=function(e,t){A.default.put("/api/proyecto/onChange_observacion_alumno",{id:e,estado:t}).then(function(e){200===e.status?(_.default.success("Los cambios se han guardado."),a.state.actualizarCantidadObservaciones()):_.default.error("No se han guardado los cambios, reportar error al administrador.")})},a.state={visible:e.visible,tipo:e.tipo,id_tarea:e.id_tarea,dataSource_observaciones:[],ocultarShowObservacion:e.ocultarShowObservacion,actualizarCantidadObservaciones:e.actualizarCantidadObservaciones},a}return l(t,e),C(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.visible,n=e.tipo,r=e.id_tarea,o=e.ocultarShowObservacion,l=e.dataSource_observaciones;this.setState({visible:a,tipo:n,id_tarea:r,ocultarShowObservacion:o,dataSource_observaciones:l}),A.default.get("/api/plan_de_trabajo/"+r+"/"+n+"/get_observaciones").then(function(e){if(200===e.status){var a=e.data.map(function(e){return{key:R.default.v1(),id:e.id,id_tarea:e.id_tarea,observacion:e.observacion,estado:e.estado,estado_alumno:e.estado_alumno,fecha_creacion:(0,M.default)(e.createdAt).utc().format("LL")}});t.setState({dataSource_observaciones:a})}})}},{key:"render",value:function(){var e=this,t=[{width:140,title:"Estado asesor interno",dataIndex:"estado",key:"estado",render:function(e,t){return x.default.createElement(p.default,{disabled:!0,defaultChecked:t.estado,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:570,title:"Observación",dataIndex:"observacion",key:"observacion"},{width:120,title:"Estado residente",dataIndex:"estado_alumno",key:"estado_alumno",render:function(t,a){return x.default.createElement(p.default,{onChange:function(t){return e.onChangeObservacion(a.id,t)},defaultChecked:a.estado_alumno,checkedChildren:"Solucionada",unCheckedChildren:x.default.createElement(v.default,{type:"cross"})})}},{width:180,title:"Fecha de creación",dataIndex:"fecha_creacion",key:"createdAT"}];return x.default.createElement("div",null,x.default.createElement(u.default,{visible:this.state.visible,title:"Observación  "+this.state.tipo,width:1e3,onCancel:this.handleCancel,footer:[x.default.createElement(f.default,{key:"back",onClick:this.handleCancel},"Cerrar")]},x.default.createElement(S.default,{layout:"vertical"},x.default.createElement(d.default,{dataSource:this.state.dataSource_observaciones,className:"full-width",columns:t}))))}}]),t}(k.Component));t.default=T},675:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(26),a(27)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(12),a(13)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(16),a(17)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(9),E=n(g),w=a(34);n(w);a(44);var O=a(1395),S=n(O),C=(v.default.Option,function(e){return y.default.createElement("div",{className:"height-"+e.value},e.children)}),k=p.default.Search,x=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onSearchResidente=function(e){a.setState({renderResidente:null,residente:null,numeroControl:e}),E.default.get("/api/informacion/empresa/"+e).then(function(e){200===e.status&&"ok"===e.data.bien?(a.imagenresidente(e.data.alumno.id_usuario),a.setState({residente:e.data.alumno,renderResidente:y.default.createElement(S.default,{refrescar:a.onSearchResidenteRefrescar.bind(a),situacion:e.data.situacion,alumno:e.data.alumno,interno:e.data.interno,externo:e.data.externo,anteproyecto:e.data.anteproyecto,proyecto:e.data.proyecto,empresa:e.data.empresa,seguimientos:e.data.seguimientos,carrera:e.data.carrera,seguimiento_proyectos:e.data.seguimiento_proyectos})})):f.default.warning("Verificar el numero de control.")})},a.onSearchResidenteRefrescar=function(){var e=a.state.numeroControl;E.default.get("/api/informacion/empresa/"+e).then(function(e){200===e.status&&"ok"===e.data.bien?(a.imagenresidente(e.data.alumno.id_usuario),a.setState({residente:e.data.alumno,renderResidente:y.default.createElement(S.default,{situacion:e.data.situacion,alumno:e.data.alumno,interno:e.data.interno,externo:e.data.externo,anteproyecto:e.data.anteproyecto,proyecto:e.data.proyecto,empresa:e.data.empresa,seguimientos:e.data.seguimientos,carrera:e.data.carrera,seguimiento_proyectos:e.data.seguimiento_proyectos})})):f.default.warning("Verificar el numero de control.")})},a.imagens=function(e){E.default.get("/api/usuario/foto/"+(e||a.state.id)).then(function(t){200==t.status&&(a.setState({imagen:t.data}),E.default.get("/api/docente/informacion/"+e).then(function(e){a.setState({nombre:e.data.titulo+""+e.data.nombre+" "+e.data.ap_paterno+" "+e.data.ap_materno})}))})},a.imagenresidente=function(e){E.default.get("/api/usuario/foto/"+(e||a.state.id)).then(function(e){200==e.status&&a.setState({imagen:e.data})})},a.state={renderResidente:null,residente:null,imagen:null,numeroControl:null},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({renderResidente:null,residente:null,imagen:null,numeroControl:null})}},{key:"render",value:function(){var e=this.state,t=e.renderResidente,a=e.residente,n=e.imagen,r=a?a.nombre+" "+a.ap_paterno+" "+a.ap_materno:"";return y.default.createElement("div",null,y.default.createElement(u.default,null,y.default.createElement(u.default,{type:"flex",justify:"space-between",align:"bottom"},y.default.createElement(d.default,{span:4,className:"texto",style:{width:300}},y.default.createElement(C,{value:300},"NUMERO DE CONTROL:",y.default.createElement(k,{type:"number",placeholder:"Introduce el numero de control",onSearch:this.onSearchResidente,style:{width:200,fontSize:20}}))),y.default.createElement(d.default,{span:4},y.default.createElement(C,{value:150},a?y.default.createElement("div",{className:"grises",style:{alignContent:"center",textAlign:"center",height:100,width:150}},y.default.createElement("img",{alt:"logo_tec",src:"data:image/[png|gif|jpg|jpeg]; base64,"+n,style:{left:35,height:150,width:150}}),y.default.createElement("div",null,r)):""))),y.default.createElement("br",null),y.default.createElement("br",null),y.default.createElement(d.default,{xs:24,lg:24},t)))}}]),t}(_.Component);t.default=x},676:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(16),a(17)),f=n(s),m=(a(15),a(21)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(34)),E=(n(g),a(9)),w=n(E),O=v.default.Item,S=(p.default.Group,f.default.Option,v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=e.numero,l=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Reservar folios",okText:"Guardar",onCancel:a,onOk:n,width:400},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(O,{label:"Numero de folio actual"},l("folio_inicio",{rules:[{required:!0,message:"El registro debe tener un numero de inicio de folios"}],initialValue:o})(y.default.createElement(p.default,{type:"number",disabled:!0,style:{width:"100%"},placeholder:"Numero de inicio"})))),y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(O,{label:"Numero estimado a reservar de folios"},l("folio_termino",{rules:[{required:!0,message:"El registro debe terner un numero de folio termino"}]})(y.default.createElement(p.default,{type:"number",style:{width:"100%"},placeholder:"Numero de inicio"})))))})),C=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||(n.folio_termino>0?w.default.post("/api/folio/residentes",{id_folio:a.state.id_folio,folio_inicio:n.folio_inicio,folio_actual:n.folio_inicio,folio_termino:parseInt(n.folio_inicio)+parseInt(n.folio_termino)}).then(function(t){console.log(t),200===t.status?(u.default.success("Folio consumido  satisfactoriamente"),a.props.recargar(),a.setState({visible:!1}),e.resetFields()):d.default.error({title:"Error al consumir. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)}):u.default.warning("Advertencia el numero de folios a reservar debe ser mayor a cero"))})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,numero:e.numero,id_folio:e.id_folio},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible,a=e.numero,n=e.id_folio;this.setState({visible:t,numero:a,id_folio:n})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(S,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,numero:this.state.numero}))}}]),t}(_.Component);t.default=C},677:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=(a(678),a(682)),o=n(r),l=a(0),i=n(l),u=a(6),c=a(57),d=a(835),s=a(836),f=n(s),m=a(1),p=n(m);a(216);var b=a(841),v=n(b);a(1427),p.default.locale("es"),(0,u.render)(i.default.createElement(o.default,{locale:f.default,className:"full-height"},i.default.createElement(c.BrowserRouter,{history:d.browserHistory},i.default.createElement(v.default,null))),document.getElementById("app"))},84:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(12),a(13)),u=n(i),c=(a(22),a(23)),d=n(c),s=(a(15),a(21)),f=n(s),m=(a(30),a(18)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(57),a(9)),E=n(g),w=v.default.Item,O=v.default.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,o=r.getFieldDecorator;return y.default.createElement(d.default,{visible:t,title:"Cambiar contraseña",okText:"Guardar",onCancel:a,onOk:n},y.default.createElement(v.default,{layout:"vertical"},y.default.createElement(w,{label:"Nueva contraseña"},o("nueva_contrasenia",{rules:[{required:!0,message:"Indique su nueva contraseña"}]})(y.default.createElement(f.default,{prefix:y.default.createElement(p.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Nueva contraseña"})))))}),S=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCreate=function(){var e=a.form;e.validateFields(function(t,n){t||E.default.put("/api/usuario/cambiar_contrasenia",{nueva_contrasenia:n.nueva_contrasenia}).then(function(t){console.log(t),200===t.status?(e.resetFields(),u.default.success("Contraseña actualizada satisfactoriamente"),a.setState({visible:!1,redirect:!0})):d.default.error({title:"Error al cambiar contraseña. Revisar los siguientes campos",content:y.default.createElement("div",null,t.data.errores),onOk:function(){}})}).catch(function(e){u.default.error(e)})})},a.saveFormRef=function(e){a.form=e},a.state={visible:e.visible,redirect:!1},a}return l(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.visible;this.setState({visible:t})}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(O,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}}]),t}(_.Component);t.default=S},841:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),o=n(r),l=a(57),i=a(842),u=n(i),c=a(236),d=(n(c),a(1150)),s=n(d),f=a(1197),m=n(f),p=a(1325),b=n(p),v=a(1341),h=n(v),_=a(1344),y=n(_),g=a(1349),E=n(g),w=a(1371),O=n(w),S=a(1406),C=n(S),k=a(1422),x=n(k),j=a(1424),A=n(j),P=a(1426),R=n(P),I=function(){return o.default.createElement(l.Switch,null,o.default.createElement(l.Route,{exact:!0,path:"/usuario/auth",component:u.default}),o.default.createElement(s.default,{path:"/admin"}),o.default.createElement(m.default,{path:"/jefe_departamento"}),o.default.createElement(O.default,{path:"/jefe_Dep"}),o.default.createElement(C.default,{path:"/jefe_gestion_tecnologica"}),o.default.createElement(b.default,{path:"/candidato_residente"}),o.default.createElement(E.default,{path:"/residente"}),o.default.createElement(h.default,{path:"/docente"}),o.default.createElement(y.default,{path:"/asesor_externo"}),o.default.createElement(x.default,{path:"/nueva_empresa"}),o.default.createElement(A.default,{path:"/empresa"}),o.default.createElement(l.Route,{component:R.default}))};t.default=I},842:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(161),a(162)),u=n(i),c=(a(24),a(25)),d=n(c),s=(a(26),a(27)),f=n(s),m=(a(19),a(20)),p=n(m),b=(a(51),a(52)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=(a(6),a(959)),E=n(g),w=a(960),O=n(w),S=(v.default.Content,v.default.Header,p.default.Item,function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),h(t,[{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(E.default,{style:{background:"#282c34",position:"absolute",backgroundSize:"cover",backgroundRepeat:"no-repeat"},params:a(982)}),y.default.createElement(f.default,{type:"flex",justify:"center",align:"middle",style:{height:"100%",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0}},y.default.createElement(d.default,{lg:16,xs:22},y.default.createElement(u.default,{style:{borderBottomRightRadius:7,borderBottomLeftRadius:7,borderTopLeftRadius:7,borderTopRightRadius:7,paddingTop:30,paddingBottom:30}},y.default.createElement(f.default,{type:"flex",justify:"center",align:"middle"},y.default.createElement(d.default,{lg:12,xs:22,style:{paddingLeft:20,paddingRight:20}},y.default.createElement(f.default,{className:"custom-image",type:"flex",justify:"center"},y.default.createElement("img",{src:"/img/tec_Logo.png",alt:"logo_tec",className:"logo-login"})),y.default.createElement("h2",{style:{marginTop:20,marginBottom:20,textAlign:"center",color:"#505962"},className:"color-font"}," SSRITCH v1 "),y.default.createElement("p",{style:{textAlign:"center"}},"Sistema de seguimiento de residencias del Instituto Tecnológico de Chilpancingo")),y.default.createElement(d.default,{lg:12,xs:22,className:"col-login",style:{marginTop:20}},y.default.createElement("h1",{style:{color:"#1f90e6",marginBottom:20}},"Autenticación de usuario"),y.default.createElement(O.default,null)))))))}}]),t}(_.Component));t.default=S},960:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(29),a(28)),u=n(i),c=(a(15),a(21)),d=n(c),s=(a(30),a(18)),f=n(s),m=(a(62),a(63)),p=n(m),b=(a(19),a(20)),v=n(b),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=a(0),y=n(_),g=a(57),E=a(976),w=n(E),O=v.default.Item,S="efda6eec-c3d4-414d-8c1e-eede8c03a2b3",C=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){var n=a.correo,r=a.contrasenia;t||w.default.post("/api/usuario/auth").send({correo:n,contrasenia:r,UUID:S}).end(function(t,a){if(console.log(a),200===a.status&&!0===a.body.isAuth){var n=a.body.rol,r=a.body.nombredepartamento?a.body.nombredepartamento:"";console.log(a.body),"admin"===n?e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/admin"})}):"jefe_departamento"===n&&"DIVISION DE ESTUDIOS PROFESIONALES"===r?e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/jefe_dep"})}):"jefe_departamento"!==n&&"encargado"!==n||"GESTIÓN TECNOLÓGICA Y VINCULACIÓN"!==r?"jefe_departamento"===n?e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/jefe_departamento"})}):"candidato_residente"===n?e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/candidato_residente"})}):"docente"===n||"subdirector_academico"===n?e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/docente"})}):"asesor_externo"===n?e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/asesor_externo"})}):"residente"===n?e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/residente"})}):"nuevo"===n?e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/nueva_empresa"})}):"empresa"===n&&e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/empresa"})}):e.setState({successAuth:y.default.createElement(g.Redirect,{to:"/jefe_gestion_tecnologica"})})}else e.setState({successAuth:y.default.createElement(p.default,{message:"Error",description:"Error en la autenticación",type:"error",showIcon:!0,closable:!0})})})})},e.state={successAuth:y.default.createElement("div",null)},e}return l(t,e),h(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return y.default.createElement(v.default,{onSubmit:this.handleSubmit,className:"login-form"},y.default.createElement(O,null,e("correo",{rules:[{type:"email",message:"El email no es correcto"},{required:!0,message:"Necesita su correo para autentificarse en el sistema."}]})(y.default.createElement(d.default,{prefix:y.default.createElement(f.default,{type:"user",style:{fontSize:13}}),type:"email",placeholder:"Ingrese su correo electronico"}))),y.default.createElement(O,null,e("contrasenia",{rules:[{required:!0,message:"Necesita su contraseña para autentificarse en el sistema."}]})(y.default.createElement(d.default,{prefix:y.default.createElement(f.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"Intruduca su contraseña"}))),y.default.createElement(u.default,{icon:"login",type:"primary",htmlType:"submit",style:{maxWidth:100,marginTop:20,marginBottom:20}},"Ingresar"),this.state.successAuth)}}]),t}(_.Component),k=v.default.create()(C);t.default=k},982:function(e,t){e.exports={particles:{number:{value:30,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}}},[677]);